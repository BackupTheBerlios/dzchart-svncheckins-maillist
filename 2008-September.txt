From twm at mail.berlios.de  Thu Sep  4 10:21:56 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 10:21:56 +0200
Subject: [Dzchart-svncheckins] r290 - in utilities/dzLib/trunk: .
	Packages/Delphi2007 translations/de translations/en translations/fr
Message-ID: <200809040821.m848Lu0k011108@sheep.berlios.de>

Author: twm
Date: 2008-09-04 10:21:54 +0200 (Thu, 04 Sep 2008)
New Revision: 290

Removed:
   utilities/dzLib/trunk/default_de.po
Modified:
   utilities/dzLib/trunk/Packages/Delphi2007/
   utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsD.dproj
   utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk
   utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj
   utilities/dzLib/trunk/translations/de/dzlib.po
   utilities/dzLib/trunk/translations/en/dzlib.po
   utilities/dzLib/trunk/translations/fr/dzlib.po
Log:
* updated translation file headers
* updated package dependencies


Property changes on: utilities/dzLib/trunk/Packages/Delphi2007
___________________________________________________________________
Name: svn:ignore
   + dzComponentsD.res
dzComponentsR.res


Modified: utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsD.dproj
===================================================================
--- utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsD.dproj	2008-09-04 08:10:16 UTC (rev 289)
+++ utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsD.dproj	2008-09-04 08:21:54 UTC (rev 290)
@@ -32,14 +32,14 @@
     <DelphiCompile Include="dzComponentsD.dpk">
       <MainSource>MainSource</MainSource>
     </DelphiCompile>
-    <DCCReference Include="..\..\components\dbrtl.dcp" />
-    <DCCReference Include="..\..\components\dzComponentsR.dcp" />
-    <DCCReference Include="..\..\components\rtl.dcp" />
     <DCCReference Include="..\..\components\u_dzShellControlsReg.pas" />
     <DCCReference Include="..\..\components\u_dzVirtualStringGridReg.pas" />
-    <DCCReference Include="..\..\components\vcl.dcp" />
-    <DCCReference Include="..\..\components\vcldb.dcp" />
-    <DCCReference Include="..\..\components\vcljpg.dcp" />
-    <DCCReference Include="..\..\components\vclx.dcp" />
+    <DCCReference Include="dbrtl.dcp" />
+    <DCCReference Include="dzComponentsR.dcp" />
+    <DCCReference Include="rtl.dcp" />
+    <DCCReference Include="vcl.dcp" />
+    <DCCReference Include="vcldb.dcp" />
+    <DCCReference Include="vcljpg.dcp" />
+    <DCCReference Include="vclx.dcp" />
   </ItemGroup>
 </Project>
\ No newline at end of file

Modified: utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk
===================================================================
--- utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk	2008-09-04 08:10:16 UTC (rev 289)
+++ utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk	2008-09-04 08:21:54 UTC (rev 290)
@@ -33,11 +33,14 @@
   vclx,
   vcljpg,
   vcldb,
-  dbrtl;
+  dbrtl,
+  vclshlctrls;
 
 contains
   c_dzShellControls in '..\..\components\c_dzShellControls.pas',
   c_dzVirtualStringGrid in '..\..\components\c_dzVirtualStringGrid.pas',
-  u_dzVclUtils in '..\..\src\u_dzVclUtils.pas';
+  u_dzVclUtils in '..\..\src\u_dzVclUtils.pas',
+  u_dzConvertUtils in '..\..\src\u_dzConvertUtils.pas',
+  u_dzStringUtils in '..\..\src\u_dzStringUtils.pas';
 
 end.

Modified: utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj
===================================================================
--- utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj	2008-09-04 08:10:16 UTC (rev 289)
+++ utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj	2008-09-04 08:21:54 UTC (rev 290)
@@ -40,14 +40,6 @@
       
       
       
-      
-      
-      
-      
-      
-      
-      
-      
       <Excluded_Packages Name="$(BDS)\bin\dcloffice2k100.bpl">Microsoft Office 2000 Sample Automation Server Wrapper Components</Excluded_Packages>
       <Excluded_Packages Name="$(BDS)\bin\dclofficexp100.bpl">Microsoft Office XP Sample Automation Server Wrapper Components</Excluded_Packages>
     </Excluded_Packages></Delphi.Personality></BorlandProject></BorlandProject>
@@ -59,12 +51,15 @@
     </DelphiCompile>
     <DCCReference Include="..\..\components\c_dzShellControls.pas" />
     <DCCReference Include="..\..\components\c_dzVirtualStringGrid.pas" />
+    <DCCReference Include="..\..\src\dbrtl.dcp" />
+    <DCCReference Include="..\..\src\rtl.dcp" />
+    <DCCReference Include="..\..\src\u_dzConvertUtils.pas" />
+    <DCCReference Include="..\..\src\u_dzStringUtils.pas" />
     <DCCReference Include="..\..\src\u_dzVclUtils.pas" />
-    <DCCReference Include="C:\Documents and Settings\twm\dbrtl.dcp" />
-    <DCCReference Include="C:\Documents and Settings\twm\rtl.dcp" />
-    <DCCReference Include="C:\Documents and Settings\twm\vcl.dcp" />
-    <DCCReference Include="C:\Documents and Settings\twm\vcldb.dcp" />
-    <DCCReference Include="C:\Documents and Settings\twm\vcljpg.dcp" />
-    <DCCReference Include="C:\Documents and Settings\twm\vclx.dcp" />
+    <DCCReference Include="..\..\src\vcl.dcp" />
+    <DCCReference Include="..\..\src\vcldb.dcp" />
+    <DCCReference Include="..\..\src\vcljpg.dcp" />
+    <DCCReference Include="..\..\src\vclshlctrls.dcp" />
+    <DCCReference Include="..\..\src\vclx.dcp" />
   </ItemGroup>
 </Project>
\ No newline at end of file

Deleted: utilities/dzLib/trunk/default_de.po
===================================================================
--- utilities/dzLib/trunk/default_de.po	2008-09-04 08:10:16 UTC (rev 289)
+++ utilities/dzLib/trunk/default_de.po	2008-09-04 08:21:54 UTC (rev 290)
@@ -1,181 +0,0 @@
-# SOME DESCRIPTIVE TITLE.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the PACKAGE package.
-# FIRST AUTHOR <EMAIL at ADDRESS>, YEAR.
-#
-msgid ""
-msgstr ""
-"Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2007-05-23 17:05\n"
-"PO-Revision-Date: 2007-05-23 17:10+0100\n"
-"Last-Translator: Schniering Ingenieursgesellschaft <info at schniering.com>\n"
-"Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
-"MIME-Version: 1.0\n"
-"Content-Type: text/plain; charset=UTF-8\n"
-"Content-Transfer-Encoding: 8bit\n"
-"X-Generator: dxgettext 1.2.1\n"
-"X-Poedit-Language: German\n"
-"X-Poedit-Country: GERMANY\n"
-
-#. "%s" ist kein g?ltiger Flie?komma Wert: %s
-#. Programmer's name for it: STR_X_IS_NOT_A_VALID_FLOAT_VALUE_SS
-#: u_dzConvertUtils.pas:182
-msgid "\"%s\" is not a valid floating point value: %s"
-msgstr "\"%s\" ist kein g?ltiger Flie?kommawert: %s"
-
-#. "%s" ist kein g?ltiger %s Wert: %s
-#. Programmer's name for it: STR_X_IS_NOT_A_VALID_Y_VALUE_SSS
-#: u_dzConvertUtils.pas:184
-msgid "\"%s\" is not a valid %s value: %s"
-msgstr "\"%s\" ist kein g?ltiger %s Wert: %s"
-
-#: u_dzConvertUtils.pas:215
-msgid "Digit out of range %s"
-msgstr "ung?ltige Ziffer %s"
-
-#: u_dzConvertUtils.pas:228
-msgid "Digit #%d (%s) out of range"
-msgstr "Ung?ltige Ziffer #%d (%s)"
-
-#: u_dzDefaultMain.pas:114
-msgid "Error: %s"
-msgstr "Fehler: %s"
-
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:450
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath"
-
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:451
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath (zweiter)"
-
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:452
-msgid "could not find a unique directory name based on \"%s\""
-msgstr "Konnte keinen eindeutigen Verzeichnisnamen basierend auf \"%s\" finden."
-
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:453
-msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
-msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) beim Aufruf von Windows.GetTempFileName"
-
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:454
-msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
-msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) beim Aufruf von Windows.GetShortPathname"
-
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:455
-msgid "Short pathname is longer than MAX_PATH (%d) characters"
-msgstr "Kurzer Pfad ist l?nger als MAX_PATH (%d) Zeichen"
-
-#. doppelte % zum Durchreichen in Prozedur
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:457
-msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
-msgstr "Fehler %%1:s (%%0:d) beim Verschieben von \"%s\" nach \"%s\"."
-
-#. doppelte % zum Durchreichen in Prozedur
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:459
-msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
-msgstr "Fehler %%1:s (%%0:d) beim ?ndern des Schreibschutz-Flags von \"%s\""
-
-#. doppelte % zum Durchreichen in Prozedur
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:461
-msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
-msgstr "Fehler %%1:s (%%0:d) beim Kopieren von \"%s\" nach \"%s\"."
-
-#. doppelte % zum Durchreichen in Prozedur
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:463
-msgid "Error %%1:s (%%0:d) deleting file \"%s\""
-msgstr "Fehler %%1:s (%%0:d) beim L?schen der Datei \"%s\""
-
-#. doppelte % zum Durchreichen in Prozedur
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:465
-msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
-msgstr "Fehler %%1:s (%%0:d) beim L?schen des Verzeichnisses \"%s\""
-
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:466
-msgid "\"%s\" does not exist or is not a directory"
-msgstr "\"%s\" existiert nicht oder ist kein Verzeichnis"
-
-#. doppelte % zum Durchreichen in Prozedur
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:468
-msgid "Error %%1:s (%%0:d) creating directory \"%s\""
-msgstr "Fehler %%1:s (%%0:d) beim Erstellen des Verzeichnisses \"%s\""
-
-#. Variant ist Null, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#. Variant ist Null, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#: u_dzMiscUtils.pas:350
-msgid "Variant is Null, should be %s: %s"
-msgstr "Variant ist Null, sollte %s sein: %s"
-
-#. Variant ist Empty, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#. Variant ist Empty, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#: u_dzMiscUtils.pas:352
-msgid "Variant is Empty, should be %s: %s"
-msgstr "Variant ist leer, sollte %s sein: %s"
-
-#. Variant kann nicht nach %s konvertiert werden: %s
-#. Programmer's name for it: STR_VARAINT_CAN_NOT_BE_CONVERTED_TO_SS
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
-#: u_dzMiscUtils.pas:354
-msgid "Variant can not be converted to %s: %s"
-msgstr "Variant kann nicht nach %s konvertiert werden: %s"
-
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:357
-msgid "unknown OS error"
-msgstr "Unbekannter Betriebssystemfehler"
-
-#. Unbekannter Win32 Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:360
-msgid "unknown Win32 error"
-msgstr "Unbekannter Windows Fehler"
-
-#. nthWord: Nulltes Wort nicht verf?gbar
-#. Programmer's name for it: STR_NO_0TH_WORD
-#: u_dzStringUtils.pas:262
-msgid "nthWord: 0th word not available"
-msgstr "nthWord: 0tes Wort ist nicht verf?gbar"
-
-#. Zu zentrierender String ist l?nger als die Maximall?nge und kann nicht zentriert werden.
-#. Programmer's name for it: STR_STRING_TOO_LONG_TO_CENTER
-#: u_dzStringUtils.pas:265
-msgid "Cannot center string that is larger than the maximum length."
-msgstr "Kann keinen String zentrieren, der l?nger als die maximale L?nge ist."
-
-#. Strings haben kein nulltes Zeichen.
-#. Programmer's name for it: STR_CHAR_INDEX_OUT_OF_RANGE
-#: u_dzStringUtils.pas:268
-msgid "Strings do not have a 0th character."
-msgstr "Strings haben kein 0tes Zeichen."
-
-#. Variant kann nicht nach %s konvertiert werden: %s
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
-#: u_dzVariantUtils.pas:159
-msgid "Variant can not be converted to %s"
-msgstr "Variant kann nicht nach %s konvertiert werden"
-
-#: u_dzVclUtils.pas:491
-msgid "\"%s\" is not a valid floating point value."
-msgstr "\"%s\" ist kein g?ltiger Flie?kommawert."
-
-#: u_dzVclUtils.pas:511
-msgid "\"%s\" is not a valid integer value."
-msgstr "\"%s\" ist kein g?ltiger Integerwert."
-

Modified: utilities/dzLib/trunk/translations/de/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 08:10:16 UTC (rev 289)
+++ utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 08:21:54 UTC (rev 290)
@@ -1,14 +1,14 @@
-# SOME DESCRIPTIVE TITLE.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the PACKAGE package.
-# FIRST AUTHOR <EMAIL at ADDRESS>, YEAR.
+# dzlib
+# Copyright (C) 2008
+# This file is distributed under the same license as the dzlib package.
+# Thomas Mueller <dzlib at dummzeuch.de>, 2008.
 #
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-07-18 15:02\n"
+"POT-Creation-Date: 2008-09-04 01:12\n"
 "PO-Revision-Date: 2008-07-18 15:04+0100\n"
-"Last-Translator: Thomas Mueller <info at schniering.com>\n"
+"Last-Translator: Thomas Mueller <dzlib at schniering.com>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -17,203 +17,207 @@
 "X-Poedit-Language: German\n"
 "X-Poedit-Country: GERMANY\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150
+#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
+#: u_dzClassUtils.pas:150 
 msgid "no matching object found"
 msgstr "kein passendes Objekt gefunden"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113 
 msgid "Invalid character \"%s\"."
 msgstr "Ung?ltiges Zeichen \"%s\""
 
-#. "%s" ist kein g?ltiger Flie?komma Wert: %s
-#. Programmer's name for it: STR_X_IS_NOT_A_VALID_FLOAT_VALUE_SS
-#: u_dzConvertUtils.pas:334
+#. "%s" ist kein g?ltiger Flie?komma Wert: %s
+#. Programmer's name for it: STR_X_IS_NOT_A_VALID_FLOAT_VALUE_SS
+#: u_dzConvertUtils.pas:334 
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" ist kein g?ltiger Flie?kommawert: %s"
 
-#. "%s" ist kein g?ltiger %s Wert: %s
-#. Programmer's name for it: STR_X_IS_NOT_A_VALID_Y_VALUE_SSS
-#: u_dzConvertUtils.pas:336
+#. "%s" ist kein g?ltiger %s Wert: %s
+#. Programmer's name for it: STR_X_IS_NOT_A_VALID_Y_VALUE_SSS
+#: u_dzConvertUtils.pas:336 
 msgid "\"%s\" is not a valid %s value: %s"
 msgstr "\"%s\" ist kein g?ltiger %s Wert: %s"
 
-#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_S
-#: u_dzConvertUtils.pas:337
+#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_S
+#: u_dzConvertUtils.pas:337 
 msgid "Digit out of range %s"
 msgstr "ung?ltige Ziffer %s"
 
-#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_DS
-#: u_dzConvertUtils.pas:338
+#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_DS
+#: u_dzConvertUtils.pas:338 
 msgid "Digit #%d (%s) out of range"
 msgstr "Ung?ltige Ziffer #%d (%s)"
 
-#. Programmer's name for it: RS_EXIBYTE_F
-#: u_dzConvertUtils.pas:339
+#. Programmer's name for it: RS_EXIBYTE_F
+#: u_dzConvertUtils.pas:339 
 msgid "%.2f EiB"
 msgstr "%.2f EiB"
 
-#. Programmer's name for it: RS_PEBIBYTE_F
-#: u_dzConvertUtils.pas:340
+#. Programmer's name for it: RS_PEBIBYTE_F
+#: u_dzConvertUtils.pas:340 
 msgid "%.2f PiB"
 msgstr "%.2f PiB"
 
-#. Programmer's name for it: RS_TEBIBYTE_F
-#: u_dzConvertUtils.pas:341
+#. Programmer's name for it: RS_TEBIBYTE_F
+#: u_dzConvertUtils.pas:341 
 msgid "%.2f TiB"
 msgstr "%.2f TiB"
 
-#. Programmer's name for it: RS_GIBIBYTE_F
-#: u_dzConvertUtils.pas:342
+#. Programmer's name for it: RS_GIBIBYTE_F
+#: u_dzConvertUtils.pas:342 
 msgid "%.2f GiB"
 msgstr "%.2f GiB"
 
-#. Programmer's name for it: RS_MEBIBYTE_F
-#: u_dzConvertUtils.pas:343
+#. Programmer's name for it: RS_MEBIBYTE_F
+#: u_dzConvertUtils.pas:343 
 msgid "%.2f MiB"
 msgstr "%.2f MiB"
 
-#. Programmer's name for it: RS_KIBIBYTE_F
-#: u_dzConvertUtils.pas:344
+#. Programmer's name for it: RS_KIBIBYTE_F
+#: u_dzConvertUtils.pas:344 
 msgid "%.2f KiB"
 msgstr "%.2f KiB"
 
-#. Programmer's name for it: RS_BYTES_D
-#: u_dzConvertUtils.pas:345
+#. Programmer's name for it: RS_BYTES_D
+#: u_dzConvertUtils.pas:345 
 msgid "%d Bytes"
 msgstr "%d Bytes"
 
-#. Programmer's name for it: RS_DAYS_HOURS_DD
-#: u_dzConvertUtils.pas:346
+#. Programmer's name for it: RS_DAYS_HOURS_DD
+#: u_dzConvertUtils.pas:346 
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Programmer's name for it: RS_HOURS_MINUTES_DD
-#: u_dzConvertUtils.pas:347
+#. Programmer's name for it: RS_HOURS_MINUTES_DD
+#: u_dzConvertUtils.pas:347 
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Programmer's name for it: RS_MINUTES_SECONDS_DD
-#: u_dzConvertUtils.pas:348
+#. Programmer's name for it: RS_MINUTES_SECONDS_DD
+#: u_dzConvertUtils.pas:348 
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Programmer's name for it: RS_SECONDS_D
-#: u_dzConvertUtils.pas:349
+#. Programmer's name for it: RS_SECONDS_D
+#: u_dzConvertUtils.pas:349 
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76
+#. Programmer's name for it: RS_Monday
+#: u_dzDateUtils.pas:76 
 msgid "Monday"
 msgstr "Montag"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77
+#. Programmer's name for it: RS_Tuesday
+#: u_dzDateUtils.pas:77 
 msgid "Tuesday"
 msgstr "Dienstag"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78
+#. Programmer's name for it: RS_Wednesday
+#: u_dzDateUtils.pas:78 
 msgid "Wednesday"
 msgstr "Mittwoch"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79
+#. Programmer's name for it: RS_Thursday
+#: u_dzDateUtils.pas:79 
 msgid "Thursday"
 msgstr "Donnerstag"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80
+#. Programmer's name for it: RS_Friday
+#: u_dzDateUtils.pas:80 
 msgid "Friday"
 msgstr "Freitag"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81
+#. Programmer's name for it: RS_Saturday
+#: u_dzDateUtils.pas:81 
 msgid "Saturday"
 msgstr "Samstag"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82
+#. Programmer's name for it: RS_Sunday
+#: u_dzDateUtils.pas:82 
 msgid "Sunday"
 msgstr "Sonntag"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83
+#. Programmer's name for it: RS_January
+#: u_dzDateUtils.pas:83 
 msgid "January"
 msgstr "Januar"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84
+#. Programmer's name for it: RS_February
+#: u_dzDateUtils.pas:84 
 msgid "February"
 msgstr "Februar"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85
+#. Programmer's name for it: RS_March
+#: u_dzDateUtils.pas:85 
 msgid "March"
 msgstr "M?rz"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86
+#. Programmer's name for it: RS_April
+#: u_dzDateUtils.pas:86 
 msgid "April"
 msgstr "April"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87
+#. Programmer's name for it: RS_May
+#: u_dzDateUtils.pas:87 
 msgid "May"
 msgstr "Mai"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88
+#. Programmer's name for it: RS_June
+#: u_dzDateUtils.pas:88 
 msgid "June"
 msgstr "Juni"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89
+#. Programmer's name for it: RS_July
+#: u_dzDateUtils.pas:89 
 msgid "July"
 msgstr "Juli"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90
+#. Programmer's name for it: RS_August
+#: u_dzDateUtils.pas:90 
 msgid "August"
 msgstr "August"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91
+#. Programmer's name for it: RS_September
+#: u_dzDateUtils.pas:91 
 msgid "September"
 msgstr "September"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92
+#. Programmer's name for it: RS_October
+#: u_dzDateUtils.pas:92 
 msgid "October"
 msgstr "Oktober"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93
+#. Programmer's name for it: RS_November
+#: u_dzDateUtils.pas:93 
 msgid "November"
 msgstr "November"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94
+#. Programmer's name for it: RS_December
+#: u_dzDateUtils.pas:94 
 msgid "December"
 msgstr "Dezember"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95
+#. Programmer's name for it: RS_InvalidMonthNumber_D
+#: u_dzDateUtils.pas:95 
 msgid "Invalid month number %d"
 msgstr "Ung?ltige Monatsnummer %d"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96
+#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
+#: u_dzDateUtils.pas:96 
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Ung?ltiger Wert f?r DayOfWeek: %d"
 
-#: u_dzDllLoader.pas:159
+#: u_dzDefaultMain.pas:114 
+msgid "Error: %s"
+msgstr "Fehler: %s"
+
+#: u_dzDllLoader.pas:159 
 msgid "Could not load %s."
 msgstr "Konnte %s nicht laden."
 
-#: u_dzDllLoader.pas:181
+#: u_dzDllLoader.pas:180 
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
@@ -221,21 +225,19 @@
 "Konnte Einsprungpunkt %s nicht in %s finden\n"
 "Fehler: %%d, %%s"
 
-#: u_dzDllLoader.pas:195
-#: u_dzDllLoader.pas:210
-#: u_dzDllLoader.pas:215
-#: u_dzDllLoader.pas:220
-#: u_dzDllLoader.pas:225
+#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
+#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr "DLL Einsprungpunkt nicht initialisiert"
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204 
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr "Kann Executor nicht freigeben w?hrend noch ein Prozess mit Ein-/Ausgabeumleitung l?uft."
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205 
 msgid ""
 "Process has not yet been started.\n"
 "%s"
@@ -243,8 +245,8 @@
 "Prozess wurde noch nicht gestarted.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206 
 msgid ""
 "Process is still running.\n"
 "%s"
@@ -252,8 +254,8 @@
 "Prozess l?uft noch.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207 
 msgid ""
 "Process has terminated.\n"
 "%s"
@@ -261,291 +263,297 @@
 "Prozess ist beendet.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208 
 msgid "Process has not yet been started"
 msgstr "Prozess wurde noch nicht gestartet"
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209 
 msgid "StdErr was not redirected"
 msgstr "StdErr wurde nicht umgeleitet"
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210 
 msgid "StdOut was not redirected"
 msgstr "StdOut wurde nicht umgeleitet"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198 
 msgid "Cannot change filename when file is open."
 msgstr "Kann Dateinamen nicht ?ndern wenn Datei ge?ffnet ist."
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199 
 msgid "Invalid file flags"
 msgstr "Ung?ltige Dateiflags"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200 
 msgid "Invalid file attributes"
 msgstr "Ung?ltige Dateiattribute"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201 
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
+#: u_dzFileUtils.pas:696 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
+#: u_dzFileUtils.pas:697 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath (zweiter)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698
+#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
+#: u_dzFileUtils.pas:698 
 msgid "could not find a unique directory name based on \"%s\""
 msgstr "Konnte keinen eindeutigen Verzeichnisnamen basierend auf \"%s\" finden."
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699
+#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
+#: u_dzFileUtils.pas:699 
 msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) beim Aufruf von Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700
+#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
+#: u_dzFileUtils.pas:700 
 msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) beim Aufruf von Windows.GetShortPathname"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701
+#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
+#: u_dzFileUtils.pas:701 
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "Kurzer Pfad ist l?nger als MAX_PATH (%d) Zeichen"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
+#: u_dzFileUtils.pas:703 
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Fehler %%1:s (%%0:d) beim Verschieben von \"%s\" nach \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_SETREADONLY_ERROR_S
+#: u_dzFileUtils.pas:705 
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim ?ndern des Schreibschutz-Flags von \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_COPYFILE_ERROR_SS
+#: u_dzFileUtils.pas:707 
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Fehler %%1:s (%%0:d) beim Kopieren von \"%s\" nach \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_DELETEFILE_ERROR_S
+#: u_dzFileUtils.pas:709 
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim L?schen der Datei \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
+#: u_dzFileUtils.pas:711 
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim L?schen des Verzeichnisses \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712
+#. Programmer's name for it: STR_DELTREE_ERROR_S
+#: u_dzFileUtils.pas:712 
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" existiert nicht oder ist kein Verzeichnis"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_CREATEDIR_ERROR_S
+#: u_dzFileUtils.pas:714 
 msgid "Error %%1:s (%%0:d) creating directory \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim Erstellen des Verzeichnisses \"%s\""
 
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715
+#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
+#: u_dzFileUtils.pas:715 
 msgid "Error creating directory \"%s\": %s (%s)"
 msgstr "Fehler beim Erstellen des Verzeichnisses \"%s\": %s (%s)"
 
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716
+#. Programmer's name for it: RS_FILE_NOT_FOUND_S
+#: u_dzFileUtils.pas:716 
 msgid "File not found: \"%s\""
 msgstr "Datei nicht gefunden: \"%s\""
 
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718
+#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
+#: u_dzFileUtils.pas:718 
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Kombination von ResultContainsNumber und KeepOriginal ist nicht erlaubt"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236 
 msgid "unknown OS error"
 msgstr "Unbekannter Betriebssystemfehler"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237 
 msgid "unknown Registry Root Key %x"
 msgstr "unbekannter Registry Rook-Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238 
 msgid "unknown RegDataType"
 msgstr "unbekannter RegDataType"
 
-#: u_dzOsUtils.pas:130
+#: u_dzOsUtils.pas:130 
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (Code %d) beim Aufruf von Windows.GetUsername"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150 
 msgid "Error %1:s (%0:d)"
 msgstr "Fehler %1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308
+#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
 msgid "No version information available for %s"
 msgstr "Keine Versionsinfirmationen fuer %s verf?gbar"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38 
 msgid "New capacity cannot be less than current length."
 msgstr "Neue Kapazit?t kann nicht kleiner sein als aktuelle L?nge."
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:160
+#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
+#: u_dzRingBuffer.pas:160 
 msgid "Index %d out of bounds."
 msgstr "Index %d nicht im g?ltigen Bereich."
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:161
+#. Programmer's name for it: RS_BUFFER_IS_FULL
+#: u_dzRingBuffer.pas:161 
 msgid "Buffer is full"
 msgstr "Puffer ist voll"
 
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:162
+#. Programmer's name for it: RS_BUFFER_IS_EMPTY
+#: u_dzRingBuffer.pas:162 
 msgid "Buffer is empty"
 msgstr "Puffer ist leer"
 
-#. nthWord: Nulltes Wort nicht verf?gbar
-#. Programmer's name for it: STR_NO_0TH_WORD
-#: u_dzStringUtils.pas:371
+#. nthWord: Nulltes Wort nicht verf?gbar
+#. Programmer's name for it: STR_NO_0TH_WORD
+#: u_dzStringUtils.pas:371 
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0tes Wort ist nicht verf?gbar"
 
-#. Zu zentrierender String ist l?nger als die Maximall?nge und kann nicht zentriert werden.
-#. Programmer's name for it: STR_STRING_TOO_LONG_TO_CENTER
-#: u_dzStringUtils.pas:374
+#. Zu zentrierender String ist l?nger als die Maximall?nge und kann nicht zentriert werden.
+#. Programmer's name for it: STR_STRING_TOO_LONG_TO_CENTER
+#: u_dzStringUtils.pas:374 
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Kann keinen String zentrieren, der l?nger als die maximale L?nge ist."
 
-#. Strings haben kein nulltes Zeichen.
-#. Programmer's name for it: STR_CHAR_INDEX_OUT_OF_RANGE
-#: u_dzStringUtils.pas:377
+#. Strings haben kein nulltes Zeichen.
+#. Programmer's name for it: STR_CHAR_INDEX_OUT_OF_RANGE
+#: u_dzStringUtils.pas:377 
 msgid "Strings do not have a 0th character."
 msgstr "Strings haben kein 0tes Zeichen."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34
+#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
+#: u_dzTextFile.pas:34 
 msgid "Invalid file access value (%d)"
 msgstr "Ung?ltiger Dateizugriffswert (%d)"
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35
+#. Programmer's name for it: RS_ACCESSING_FILE_SS
+#: u_dzTextFile.pas:35 
 msgid "%s accessing file %s"
 msgstr "%s beim Zugriff auf Datei %s"
 
-#. Variant ist Null, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:191
+#. Variant ist Null, sollte %s sein: %s
+#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
+#: u_dzVariantUtils.pas:192 
 msgid "Variant is Null, should be %s: %s"
 msgstr "Variant ist Null, sollte %s sein: %s"
 
-#. Variant ist Empty, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:193
+#. Variant ist Empty, sollte %s sein: %s
+#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
+#: u_dzVariantUtils.pas:194 
 msgid "Variant is Empty, should be %s: %s"
 msgstr "Variant ist leer, sollte %s sein: %s"
 
-#. Variant kann nicht nach %s konvertiert werden: %s
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
-#: u_dzVariantUtils.pas:195
+#. Variant kann nicht nach %s konvertiert werden: %s
+#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
+#: u_dzVariantUtils.pas:196 
 msgid "Variant can not be converted to %s"
 msgstr "Variant kann nicht nach %s konvertiert werden"
 
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
-#: u_dzVariantUtils.pas:196
+#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
+#: u_dzVariantUtils.pas:197 
 msgid "Variant can not be converted to %s: %s"
 msgstr "Variant kann nicht nach %s konvertiert werden: %s"
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S
-#: u_dzVclUtils.pas:448
+#. Programmer's name for it: RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S
+#: u_dzVclUtils.pas:448 
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" ist kein g?ltiger Flie?kommawert."
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_INTEGER_VALUE_S
-#: u_dzVclUtils.pas:449
+#. Programmer's name for it: RS_IS_NOT_A_VALID_INTEGER_VALUE_S
+#: u_dzVclUtils.pas:449 
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" ist kein g?ltiger Integerwert."
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_COMBOBOX
-#: u_dzVclUtils.pas:450
+#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_COMBOBOX
+#: u_dzVclUtils.pas:450 
 msgid "No item selected in combobox"
 msgstr "Kein Eintrag der Combobox ausgew?hlt"
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_LISTBOX
-#: u_dzVclUtils.pas:451
+#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_LISTBOX
+#: u_dzVclUtils.pas:451 
 msgid "No item selected in listbox"
 msgstr "Kein Eintrag der Listbox ausgew?hlt"
 
-#. Programmer's name for it: RS_JPEG_FILES
-#: u_dzVclUtils.pas:452
+#. Programmer's name for it: RS_JPEG_FILES
+#: u_dzVclUtils.pas:452 
 msgid "JPEG Files"
 msgstr "JPEG Dateien"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6 
 msgid "Progress"
 msgstr "Fortschritt"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24 
 msgid "Action"
 msgstr "Aktion"
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41 
 msgid "Abort"
 msgstr "Abbrechen"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
+#: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr "&Weiter >"
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
+#: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Abbrechen"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
+#: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr "< &Zur?ck"
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:327 
 msgid "Invalid modal result %d."
 msgstr "Ung?ltiger modaler R?ckgabewert %d."
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:501 
 msgid "Do not show again."
 msgstr "Nicht nochmal anzeigen."
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:582 
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -553,69 +561,68 @@
 "Es ist ein Fehler aufgetreten:\n"
 "%s"
 
-#. 400;
-#: w_dzDialog.pas:606
+#. 400;
+#: w_dzDialog.pas:606 
 msgid "Additional information:"
 msgstr "Erweiterte Informationen:"
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:781 
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83 
 msgid "Do you really want to abort?"
 msgstr "Wollen Sie wirklich abbrechen?"
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85 
 msgid "Progress (%d%%)"
 msgstr "Fortschritt (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87 
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89 
 msgid "must not contain a % at the end"
 msgstr "darf am Ende kein % enthalten"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91 
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" muss von \"d\" or \"%\" gefolgt werden."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93 
 msgid "too many parameters"
 msgstr "Zuviele Parameter"
 
-#: w_dzWizard.pas:342
+#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
 msgid "&Finish"
 msgstr "&Beenden"
 
-#: w_dzWizard.pas:478
+#: w_dzWizard.pas:478 
 msgid "Already on first page."
 msgstr "Bereits auf erster Seite."
 
 #~ msgid "unknown Win32 error"
 #~ msgstr "Unbekannter Windows Fehler"
-#~ msgid "Error: %s"
-#~ msgstr "Fehler: %s"
+
 #~ msgid "Synopsis: %s %s"
 #~ msgstr "Aufruf: %s %s"
+
 #~ msgid "Options:"
 #~ msgstr "Optionen:"
-

Modified: utilities/dzLib/trunk/translations/en/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 08:10:16 UTC (rev 289)
+++ utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 08:21:54 UTC (rev 290)
@@ -1,15 +1,15 @@
-# SOME DESCRIPTIVE TITLE.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the PACKAGE package.
-# FIRST AUTHOR <EMAIL at ADDRESS>, YEAR.
+# dzlib
+# Copyright (C) 2008
+# This file is distributed under the same license as the dzlib package.
+# Thomas Mueller <dzlib at dummzeuch.de>, 2008.
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: dzlib\n"
-"POT-Creation-Date: 2008-07-18 15:02\n"
+"Project-Id-Version: dzLib 1.0\n"
+"POT-Creation-Date: 2008-09-04 01:12\n"
 "PO-Revision-Date: 2008-07-18 15:04+0100\n"
-"Last-Translator: Thomas Mueller <info at schniering.com>\n"
-"Language-Team: twm <dzlib at dummzeuch.de>\n"
+"Last-Translator: Thomas Mueller <dzlib at schniering.com>\n"
+"Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -17,203 +17,208 @@
 "X-Poedit-Language: English\n"
 "X-Poedit-Country: UNITED STATES\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150
+#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
+#: u_dzClassUtils.pas:150 
 msgid "no matching object found"
 msgstr "no matching object found"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113 
 msgid "Invalid character \"%s\"."
 msgstr "Invalid character \"%s\"."
 
-#. "%s" ist kein g?ltiger Flie?komma Wert: %s
-#. Programmer's name for it: STR_X_IS_NOT_A_VALID_FLOAT_VALUE_SS
-#: u_dzConvertUtils.pas:334
+#. "%s" ist kein g?ltiger Flie?komma Wert: %s
+#. Programmer's name for it: STR_X_IS_NOT_A_VALID_FLOAT_VALUE_SS
+#: u_dzConvertUtils.pas:334 
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" is not a valid floating point value: %s"
 
-#. "%s" ist kein g?ltiger %s Wert: %s
-#. Programmer's name for it: STR_X_IS_NOT_A_VALID_Y_VALUE_SSS
-#: u_dzConvertUtils.pas:336
+#. "%s" ist kein g?ltiger %s Wert: %s
+#. Programmer's name for it: STR_X_IS_NOT_A_VALID_Y_VALUE_SSS
+#: u_dzConvertUtils.pas:336 
 msgid "\"%s\" is not a valid %s value: %s"
 msgstr "\"%s\" is not a valid %s value: %s"
 
-#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_S
-#: u_dzConvertUtils.pas:337
+#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_S
+#: u_dzConvertUtils.pas:337 
 msgid "Digit out of range %s"
 msgstr "Digit out of range %s"
 
-#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_DS
-#: u_dzConvertUtils.pas:338
+#. Programmer's name for it: RS_DIGIT_OUT_OF_RANGE_DS
+#: u_dzConvertUtils.pas:338 
 msgid "Digit #%d (%s) out of range"
 msgstr "Digit #%d (%s) out of range"
 
-#. Programmer's name for it: RS_EXIBYTE_F
-#: u_dzConvertUtils.pas:339
+#. Programmer's name for it: RS_EXIBYTE_F
+#: u_dzConvertUtils.pas:339 
 msgid "%.2f EiB"
 msgstr "%.2f EiB"
 
-#. Programmer's name for it: RS_PEBIBYTE_F
-#: u_dzConvertUtils.pas:340
+#. Programmer's name for it: RS_PEBIBYTE_F
+#: u_dzConvertUtils.pas:340 
 msgid "%.2f PiB"
 msgstr "%.2f PiB"
 
-#. Programmer's name for it: RS_TEBIBYTE_F
-#: u_dzConvertUtils.pas:341
+#. Programmer's name for it: RS_TEBIBYTE_F
+#: u_dzConvertUtils.pas:341 
 msgid "%.2f TiB"
 msgstr "%.2f TiB"
 
-#. Programmer's name for it: RS_GIBIBYTE_F
-#: u_dzConvertUtils.pas:342
+#. Programmer's name for it: RS_GIBIBYTE_F
+#: u_dzConvertUtils.pas:342 
 msgid "%.2f GiB"
 msgstr "%.2f GiB"
 
-#. Programmer's name for it: RS_MEBIBYTE_F
-#: u_dzConvertUtils.pas:343
+#. Programmer's name for it: RS_MEBIBYTE_F
+#: u_dzConvertUtils.pas:343 
 msgid "%.2f MiB"
 msgstr "%.2f MiB"
 
-#. Programmer's name for it: RS_KIBIBYTE_F
-#: u_dzConvertUtils.pas:344
+#. Programmer's name for it: RS_KIBIBYTE_F
+#: u_dzConvertUtils.pas:344 
 msgid "%.2f KiB"
 msgstr "%.2f KiB"
 
-#. Programmer's name for it: RS_BYTES_D
-#: u_dzConvertUtils.pas:345
+#. Programmer's name for it: RS_BYTES_D
+#: u_dzConvertUtils.pas:345 
 msgid "%d Bytes"
 msgstr "%d Bytes"
 
-#. Programmer's name for it: RS_DAYS_HOURS_DD
-#: u_dzConvertUtils.pas:346
+#. Programmer's name for it: RS_DAYS_HOURS_DD
+#: u_dzConvertUtils.pas:346 
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Programmer's name for it: RS_HOURS_MINUTES_DD
-#: u_dzConvertUtils.pas:347
+#. Programmer's name for it: RS_HOURS_MINUTES_DD
+#: u_dzConvertUtils.pas:347 
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Programmer's name for it: RS_MINUTES_SECONDS_DD
-#: u_dzConvertUtils.pas:348
+#. Programmer's name for it: RS_MINUTES_SECONDS_DD
+#: u_dzConvertUtils.pas:348 
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Programmer's name for it: RS_SECONDS_D
-#: u_dzConvertUtils.pas:349
+#. Programmer's name for it: RS_SECONDS_D
+#: u_dzConvertUtils.pas:349 
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76
+#. Programmer's name for it: RS_Monday
+#: u_dzDateUtils.pas:76 
 msgid "Monday"
 msgstr "Monday"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77
+#. Programmer's name for it: RS_Tuesday
+#: u_dzDateUtils.pas:77 
 msgid "Tuesday"
 msgstr "Tuesday"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78
+#. Programmer's name for it: RS_Wednesday
+#: u_dzDateUtils.pas:78 
 msgid "Wednesday"
 msgstr "Wednesday"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79
+#. Programmer's name for it: RS_Thursday
+#: u_dzDateUtils.pas:79 
 msgid "Thursday"
 msgstr "Thursday"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80
+#. Programmer's name for it: RS_Friday
+#: u_dzDateUtils.pas:80 
 msgid "Friday"
 msgstr "Friday"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81
+#. Programmer's name for it: RS_Saturday
+#: u_dzDateUtils.pas:81 
 msgid "Saturday"
 msgstr "Saturday"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82
+#. Programmer's name for it: RS_Sunday
+#: u_dzDateUtils.pas:82 
 msgid "Sunday"
 msgstr "Sunday"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83
+#. Programmer's name for it: RS_January
+#: u_dzDateUtils.pas:83 
 msgid "January"
 msgstr "January"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84
+#. Programmer's name for it: RS_February
+#: u_dzDateUtils.pas:84 
 msgid "February"
 msgstr "February"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85
+#. Programmer's name for it: RS_March
+#: u_dzDateUtils.pas:85 
 msgid "March"
 msgstr "March"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86
+#. Programmer's name for it: RS_April
+#: u_dzDateUtils.pas:86 
 msgid "April"
 msgstr "April"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87
+#. Programmer's name for it: RS_May
+#: u_dzDateUtils.pas:87 
 msgid "May"
 msgstr "May"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88
+#. Programmer's name for it: RS_June
+#: u_dzDateUtils.pas:88 
 msgid "June"
 msgstr "June"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89
+#. Programmer's name for it: RS_July
+#: u_dzDateUtils.pas:89 
 msgid "July"
 msgstr "July"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90
+#. Programmer's name for it: RS_August
+#: u_dzDateUtils.pas:90 
 msgid "August"
 msgstr "August"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91
+#. Programmer's name for it: RS_September
+#: u_dzDateUtils.pas:91 
 msgid "September"
 msgstr "September"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92
+#. Programmer's name for it: RS_October
+#: u_dzDateUtils.pas:92 
 msgid "October"
 msgstr "October"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93
+#. Programmer's name for it: RS_November
+#: u_dzDateUtils.pas:93 
 msgid "November"
 msgstr "November"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94
+#. Programmer's name for it: RS_December
+#: u_dzDateUtils.pas:94 
 msgid "December"
 msgstr "December"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95
+#. Programmer's name for it: RS_InvalidMonthNumber_D
+#: u_dzDateUtils.pas:95 
 msgid "Invalid month number %d"
 msgstr "Invalid month number %d"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96
+#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
+#: u_dzDateUtils.pas:96 
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Invalid value for DayOfWeek: %d"
 
-#: u_dzDllLoader.pas:159
+#: u_dzDefaultMain.pas:114 
+#, fuzzy
+msgid "Error: %s"
+msgstr "Error %1:s (%0:d)"
+
+#: u_dzDllLoader.pas:159 
 msgid "Could not load %s."
 msgstr "Could not load %s."
 
-#: u_dzDllLoader.pas:181
+#: u_dzDllLoader.pas:180 
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
@@ -221,21 +226,19 @@
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
 
-#: u_dzDllLoader.pas:195
-#: u_dzDllLoader.pas:210
-#: u_dzDllLoader.pas:215
-#: u_dzDllLoader.pas:220
-#: u_dzDllLoader.pas:225
+#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
+#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr "DLL entry point not initialized"
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204 
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr "Can not free Executor while a process using redirection is still running."
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205 
 msgid ""
 "Process has not yet been started.\n"
 "%s"
@@ -243,8 +246,8 @@
 "Process has not yet been started.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206 
 msgid ""
 "Process is still running.\n"
 "%s"
@@ -252,8 +255,8 @@
 "Process is still running.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207 
 msgid ""
 "Process has terminated.\n"
 "%s"
@@ -261,291 +264,297 @@
 "Process has terminated.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208 
 msgid "Process has not yet been started"
 msgstr "Process has not yet been started"
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209 
 msgid "StdErr was not redirected"
 msgstr "StdErr was not redirected"
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210 
 msgid "StdOut was not redirected"
 msgstr "StdOut was not redirected"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198 
 msgid "Cannot change filename when file is open."
 msgstr "Cannot change filename when file is open."
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199 
 msgid "Invalid file flags"
 msgstr "Invalid file flags"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200 
 msgid "Invalid file attributes"
 msgstr "Invalid file attributes"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201 
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
+#: u_dzFileUtils.pas:696 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
+#: u_dzFileUtils.pas:697 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698
+#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
+#: u_dzFileUtils.pas:698 
 msgid "could not find a unique directory name based on \"%s\""
 msgstr "could not find a unique directory name based on \"%s\""
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699
+#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
+#: u_dzFileUtils.pas:699 
 msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700
+#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
+#: u_dzFileUtils.pas:700 
 msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701
+#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
+#: u_dzFileUtils.pas:701 
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "Short pathname is longer than MAX_PATH (%d) characters"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
+#: u_dzFileUtils.pas:703 
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_SETREADONLY_ERROR_S
+#: u_dzFileUtils.pas:705 
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_COPYFILE_ERROR_SS
+#: u_dzFileUtils.pas:707 
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_DELETEFILE_ERROR_S
+#: u_dzFileUtils.pas:709 
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Error %%1:s (%%0:d) deleting file \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
+#: u_dzFileUtils.pas:711 
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Error %%1:s (%%0:d) deleting directory \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712
+#. Programmer's name for it: STR_DELTREE_ERROR_S
+#: u_dzFileUtils.pas:712 
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" does not exist or is not a directory"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_CREATEDIR_ERROR_S
+#: u_dzFileUtils.pas:714 
 msgid "Error %%1:s (%%0:d) creating directory \"%s\""
 msgstr "Error %%1:s (%%0:d) creating directory \"%s\""
 
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715
+#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
+#: u_dzFileUtils.pas:715 
 msgid "Error creating directory \"%s\": %s (%s)"
 msgstr "Error creating directory \"%s\": %s (%s)"
 
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716
+#. Programmer's name for it: RS_FILE_NOT_FOUND_S
+#: u_dzFileUtils.pas:716 
 msgid "File not found: \"%s\""
 msgstr "File not found: \"%s\""
 
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718
+#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
+#: u_dzFileUtils.pas:718 
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236 
 msgid "unknown OS error"
 msgstr "unknown OS error"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237 
 msgid "unknown Registry Root Key %x"
 msgstr "unknown Registry Root Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238 
 msgid "unknown RegDataType"
 msgstr "unknown RegDataType"
 
-#: u_dzOsUtils.pas:130
+#: u_dzOsUtils.pas:130 
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (code %d) calling Windows.GetUsername"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150 
 msgid "Error %1:s (%0:d)"
 msgstr "Error %1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308
+#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
 msgid "No version information available for %s"
 msgstr "No version information available for %s"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38 
 msgid "New capacity cannot be less than current length."
 msgstr "New capacity cannot be less than current length."
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:160
+#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
+#: u_dzRingBuffer.pas:160 
 msgid "Index %d out of bounds."
 msgstr "Index %d out of bounds."
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:161
+#. Programmer's name for it: RS_BUFFER_IS_FULL
+#: u_dzRingBuffer.pas:161 
 msgid "Buffer is full"
 msgstr "Buffer is full"
 
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:162
+#. Programmer's name for it: RS_BUFFER_IS_EMPTY
+#: u_dzRingBuffer.pas:162 
 msgid "Buffer is empty"
 msgstr "Buffer is empty"
 
-#. nthWord: Nulltes Wort nicht verf?gbar
-#. Programmer's name for it: STR_NO_0TH_WORD
-#: u_dzStringUtils.pas:371
+#. nthWord: Nulltes Wort nicht verf?gbar
+#. Programmer's name for it: STR_NO_0TH_WORD
+#: u_dzStringUtils.pas:371 
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0th word not available"
 
-#. Zu zentrierender String ist l?nger als die Maximall?nge und kann nicht zentriert werden.
-#. Programmer's name for it: STR_STRING_TOO_LONG_TO_CENTER
-#: u_dzStringUtils.pas:374
+#. Zu zentrierender String ist l?nger als die Maximall?nge und kann nicht zentriert werden.
+#. Programmer's name for it: STR_STRING_TOO_LONG_TO_CENTER
+#: u_dzStringUtils.pas:374 
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Cannot center string that is larger than the maximum length."
 
-#. Strings haben kein nulltes Zeichen.
-#. Programmer's name for it: STR_CHAR_INDEX_OUT_OF_RANGE
-#: u_dzStringUtils.pas:377
+#. Strings haben kein nulltes Zeichen.
+#. Programmer's name for it: STR_CHAR_INDEX_OUT_OF_RANGE
+#: u_dzStringUtils.pas:377 
 msgid "Strings do not have a 0th character."
 msgstr "Strings do not have a 0th character."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34
+#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
+#: u_dzTextFile.pas:34 
 msgid "Invalid file access value (%d)"
 msgstr "Invalid file access value (%d)"
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35
+#. Programmer's name for it: RS_ACCESSING_FILE_SS
+#: u_dzTextFile.pas:35 
 msgid "%s accessing file %s"
 msgstr "%s accessing file %s"
 
-#. Variant ist Null, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:191
+#. Variant ist Null, sollte %s sein: %s
+#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
+#: u_dzVariantUtils.pas:192 
 msgid "Variant is Null, should be %s: %s"
 msgstr "Variant is Null, should be %s: %s"
 
-#. Variant ist Empty, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:193
+#. Variant ist Empty, sollte %s sein: %s
+#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
+#: u_dzVariantUtils.pas:194 
 msgid "Variant is Empty, should be %s: %s"
 msgstr "Variant is Empty, should be %s: %s"
 
-#. Variant kann nicht nach %s konvertiert werden: %s
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
-#: u_dzVariantUtils.pas:195
+#. Variant kann nicht nach %s konvertiert werden: %s
+#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
+#: u_dzVariantUtils.pas:196 
 msgid "Variant can not be converted to %s"
 msgstr "Variant can not be converted to %s"
 
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
-#: u_dzVariantUtils.pas:196
+#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
+#: u_dzVariantUtils.pas:197 
 msgid "Variant can not be converted to %s: %s"
 msgstr "Variant can not be converted to %s: %s"
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S
-#: u_dzVclUtils.pas:448
+#. Programmer's name for it: RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S
+#: u_dzVclUtils.pas:448 
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" is not a valid floating point value."
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_INTEGER_VALUE_S
-#: u_dzVclUtils.pas:449
+#. Programmer's name for it: RS_IS_NOT_A_VALID_INTEGER_VALUE_S
+#: u_dzVclUtils.pas:449 
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" is not a valid integer value."
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_COMBOBOX
-#: u_dzVclUtils.pas:450
+#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_COMBOBOX
+#: u_dzVclUtils.pas:450 
 msgid "No item selected in combobox"
 msgstr "No item selected in combobox"
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_LISTBOX
-#: u_dzVclUtils.pas:451
+#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_LISTBOX
+#: u_dzVclUtils.pas:451 
 msgid "No item selected in listbox"
 msgstr "No item selected in listbox"
 
-#. Programmer's name for it: RS_JPEG_FILES
-#: u_dzVclUtils.pas:452
+#. Programmer's name for it: RS_JPEG_FILES
+#: u_dzVclUtils.pas:452 
 msgid "JPEG Files"
 msgstr "JPEG Files"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6 
 msgid "Progress"
 msgstr "Progress"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24 
 msgid "Action"
 msgstr "Action"
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41 
 msgid "Abort"
 msgstr "Abort"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
+#: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr "&Next >"
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
+#: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Cancel"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
+#: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr "< &Previous"
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:327 
 msgid "Invalid modal result %d."
 msgstr "Invalid modal result %d."
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:501 
 msgid "Do not show again."
 msgstr "Do not show again."
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:582 
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -553,60 +562,60 @@
 "An error occurred:\n"
 "%s"
 
-#. 400;
-#: w_dzDialog.pas:606
+#. 400;
+#: w_dzDialog.pas:606 
 msgid "Additional information:"
 msgstr "Additional information:"
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:781 
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83 
 msgid "Do you really want to abort?"
 msgstr "Do you really want to abort?"
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85 
 msgid "Progress (%d%%)"
 msgstr "Progress (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87 
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89 
 msgid "must not contain a % at the end"
 msgstr "must not contain a % at the end"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91 
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" must be followed by \"d\" or \"%\"."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93 
 msgid "too many parameters"
 msgstr "too many parameters"
 
-#: w_dzWizard.pas:342
+#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
 msgid "&Finish"
 msgstr "&Finish"
 
-#: w_dzWizard.pas:478
+#: w_dzWizard.pas:478 
 msgid "Already on first page."
 msgstr "Already on first page."
 
@@ -617,4 +626,3 @@
 #, fuzzy
 #~ msgid "Message of Exception (do not translate)"
 #~ msgstr "Message der Exception (do not translate)"
-

Modified: utilities/dzLib/trunk/translations/fr/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 08:10:16 UTC (rev 289)
+++ utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 08:21:54 UTC (rev 290)
@@ -1,15 +1,15 @@
-# #-#-#-#-#  libs\dzlib\default.po (PACKAGE VERSION)  #-#-#-#-#
-# SOME DESCRIPTIVE TITLE.
-# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
-# This file is distributed under the same license as the PACKAGE package.
-# FIRST AUTHOR <EMAIL at ADDRESS>, YEAR.
+# dzlib
+# Copyright (C) 2008
+# This file is distributed under the same license as the dzlib package.
+# Thomas Mueller <dzlib at dummzeuch.de>, 2008.
+#
 msgid ""
 msgstr ""
-"Project-Id-Version: dzlib\n"
-"POT-Creation-Date: 2008-07-18 15:02\n"
-"PO-Revision-Date: 2008-06-03 11:40+0100\n"
-"Last-Translator: Thomas Mueller <info at schniering.com>\n"
-"Language-Team: twm <dzlib at dummzeuch.de>\n"
+"Project-Id-Version: dzLib 1.0\n"
+"POT-Creation-Date: 2008-09-04 01:12\n"
+"PO-Revision-Date: 2008-07-18 15:04+0100\n"
+"Last-Translator: Thomas Mueller <dzlib at schniering.com>\n"
+"Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: 8bit\n"
@@ -212,19 +212,24 @@
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Caract?re  \"%s\" invalide dans  le champ  \"%s\""
 
+#: u_dzDefaultMain.pas:114 
+#, fuzzy
+msgid "Error: %s"
+msgstr "%1:s (%0:d)"
+
 #: u_dzDllLoader.pas:159 
 msgid "Could not load %s."
 msgstr ""
 
-#: u_dzDllLoader.pas:181 
+#: u_dzDllLoader.pas:180 
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
 msgstr ""
 
-#: u_dzDllLoader.pas:195 
 u_dzDllLoader.pas:200 u_dzDllLoader.pas:205
-#: u_dzDllLoader.pas:210 u_dzDllLoader.pas:215 u_dzDllLoader.pas:220
-#: u_dzDllLoader.pas:225
+#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
+#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr ""
 
@@ -463,24 +468,24 @@
 
 #. Variant ist Null, sollte %s sein: %s
 #. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:191 
+#: u_dzVariantUtils.pas:192 
 msgid "Variant is Null, should be %s: %s"
 msgstr "La variation est nulle, devrait ?tre %s: %s"
 
 #. Variant ist Empty, sollte %s sein: %s
 #. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:193 
+#: u_dzVariantUtils.pas:194 
 msgid "Variant is Empty, should be %s: %s"
 msgstr "La variation est vide, devrait ?tre %s: %s"
 
 #. Variant kann nicht nach %s konvertiert werden: %s
 #. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
-#: u_dzVariantUtils.pas:195 
+#: u_dzVariantUtils.pas:196 
 msgid "Variant can not be converted to %s"
 msgstr "Un variant ne peut pas ?tre converti en %s"
 
 #. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
-#: u_dzVariantUtils.pas:196 
+#: u_dzVariantUtils.pas:197 
 msgid "Variant can not be converted to %s: %s"
 msgstr "La variation ne peut pas ?tre convertie de %s: %s"
 
@@ -525,17 +530,23 @@
 msgstr "Annuler"
 
 #. f_dzWizard..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210 
 w_dzWizard.pas:341
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
+#: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr ""
 
 #. f_dzWizard..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223 
 w_dzWizard.pas:340
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
+#: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Annuler"
 
 #. f_dzWizard..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233 
 w_dzWizard.pas:339
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
+#: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr ""
 
@@ -604,7 +615,7 @@
 msgid "too many parameters"
 msgstr ""
 
-#: w_dzWizard.pas:342 
+#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
 msgid "&Finish"
 msgstr ""
 



From twm at mail.berlios.de  Thu Sep  4 11:04:03 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 11:04:03 +0200
Subject: [Dzchart-svncheckins] r291 - in utilities/dzLib/trunk: .
	Packages/Delphi2007 src translations/de translations/en
	translations/fr
Message-ID: <200809040904.m84943Gc015535@sheep.berlios.de>

Author: twm
Date: 2008-09-04 11:04:01 +0200 (Thu, 04 Sep 2008)
New Revision: 291

Modified:
   utilities/dzLib/trunk/
   utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk
   utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj
   utilities/dzLib/trunk/src/u_dzVclUtils.pas
   utilities/dzLib/trunk/translations/de/dzlib.po
   utilities/dzLib/trunk/translations/en/dzlib.po
   utilities/dzLib/trunk/translations/fr/dzlib.po
Log:
* added implicitly imported units to contains list
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')
* marked several functions as deprecated


Property changes on: utilities/dzLib/trunk
___________________________________________________________________
Name: svn:ignore
   - default.po
default_de.mo
filtered.po

   + default.po
default_de.mo
filtered.po
.po


Modified: utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk
===================================================================
--- utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk	2008-09-04 08:21:54 UTC (rev 290)
+++ utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dpk	2008-09-04 09:04:01 UTC (rev 291)
@@ -26,6 +26,7 @@
 {$LIBSUFFIX '110'}
 {$RUNONLY}
 {$IMPLICITBUILD OFF}
+{$DEFINE no_translation}
 
 requires
   rtl,
@@ -41,6 +42,7 @@
   c_dzVirtualStringGrid in '..\..\components\c_dzVirtualStringGrid.pas',
   u_dzVclUtils in '..\..\src\u_dzVclUtils.pas',
   u_dzConvertUtils in '..\..\src\u_dzConvertUtils.pas',
-  u_dzStringUtils in '..\..\src\u_dzStringUtils.pas';
+  u_dzStringUtils in '..\..\src\u_dzStringUtils.pas',
+  u_dzTranslator in '..\..\src\u_dzTranslator.pas';
 
 end.

Modified: utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj
===================================================================
--- utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj	2008-09-04 08:21:54 UTC (rev 290)
+++ utilities/dzLib/trunk/Packages/Delphi2007/dzComponentsR.dproj	2008-09-04 09:04:01 UTC (rev 291)
@@ -24,6 +24,7 @@
     <DCC_ResourcePath>..\..\jedi_inc</DCC_ResourcePath>
     <DCC_ObjPath>..\..\jedi_inc</DCC_ObjPath>
     <DCC_IncludePath>..\..\jedi_inc</DCC_IncludePath>
+    <DCC_Define>no_translation</DCC_Define>
   </PropertyGroup>
   <ProjectExtensions>
     <Borland.Personality>Delphi.Personality</Borland.Personality>
@@ -38,8 +39,6 @@
       
       
       
-      
-      
       <Excluded_Packages Name="$(BDS)\bin\dcloffice2k100.bpl">Microsoft Office 2000 Sample Automation Server Wrapper Components</Excluded_Packages>
       <Excluded_Packages Name="$(BDS)\bin\dclofficexp100.bpl">Microsoft Office XP Sample Automation Server Wrapper Components</Excluded_Packages>
     </Excluded_Packages></Delphi.Personality></BorlandProject></BorlandProject>
@@ -55,6 +54,7 @@
     <DCCReference Include="..\..\src\rtl.dcp" />
     <DCCReference Include="..\..\src\u_dzConvertUtils.pas" />
     <DCCReference Include="..\..\src\u_dzStringUtils.pas" />
+    <DCCReference Include="..\..\src\u_dzTranslator.pas" />
     <DCCReference Include="..\..\src\u_dzVclUtils.pas" />
     <DCCReference Include="..\..\src\vcl.dcp" />
     <DCCReference Include="..\..\src\vcldb.dcp" />

Modified: utilities/dzLib/trunk/src/u_dzVclUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzVclUtils.pas	2008-09-04 08:21:54 UTC (rev 290)
+++ utilities/dzLib/trunk/src/u_dzVclUtils.pas	2008-09-04 09:04:01 UTC (rev 291)
@@ -1,6 +1,6 @@
 {.GXFormatter.config=twm}
-{: Implements functions which work on components but are not methods.
-   @author        twm }
+///<summary> Implements functions which work on components but are not methods.
+///          @author        twm </summary>
 unit u_dzVclUtils;
 
 interface
@@ -20,21 +20,21 @@
   DbGrids;
 
 type
-  {: Ancestor to all exceptions raised in this unit. }
+  ///<summary> Ancestor to all exceptions raised in this unit. </summary>
   EdzVclUtils = class(Exception);
 
-  {: raised if the Combobox passed to SetOwnerDrawComboItemCount is not ownder drawn. }
+  ///<summary> raised if the Combobox passed to SetOwnerDrawComboItemCount is not owner drawn. </summary>
   EdzComboBoxNotOwnerDraw = class(EdzVclUtils);
 
-  {: raised if the Listbox passed to SetOwnerDrawListboxItemCount is not ownder drawn. }
+  ///<summary> raised if the Listbox passed to SetOwnerDrawListboxItemCount is not owner drawn. </summary>
   EdzListBoxNotOwnerDraw = class(EdzVclUtils);
 
   EdzComboBoxNoSelection = class(EdzVclUtils);
   EdzListBoxNoSelection = class(EdzVclUtils);
 
 type
-  {: This is a copy of the TFileFormatsList class from Graphics which
-     is unfortunately only declaread in the implementation section }
+  ///<summary> This is a copy of the TFileFormatsList class from Graphics which
+  ///          is unfortunately only declaread in the implementation section </summary>
   TFileFormatsList = class(TList)
   public
     constructor Create;
@@ -43,274 +43,289 @@
     function FindExt(Ext: string): TGraphicClass;
     function FindClassName(const Classname: string): TGraphicClass;
     procedure Remove(AClass: TGraphicClass);
-    {: returns a file select filter string for all descendants of the given TGraphicClass }
+    ///<summary> returns a file select filter string for all descendants of the given TGraphicClass </summary>
     procedure BuildFilterStrings(GraphicClass: TGraphicClass; var Descriptions, Filters: string);
     function GetFilterString(GraphicClass: TGraphicClass = nil): string;
   end;
 
-  {: returns the global file formats list }
+///<summary> returns the global file formats list </summary>
 function GetFileFormats: TFileFormatsList;
 
-{: checks whether the integer array contains the given element
-   @param Element is the integer to check for
-   @param Arr is the array to check
-   @returns true, if Arr contains Element }
+///<summary> checks whether the integer array contains the given element
+///          @param Element is the integer to check for
+///          @param Arr is the array to check
+///          @returns true, if Arr contains Element </summary>
 function ArrayContains(_Element: integer; const _Arr: array of integer): boolean;
 
 type
-  {: used in ResizeStringGrid and ResizeDbGrid to specify additional options
-    <ul>
-      <li>roUseGridWidth -> make the columns take up the whole grid width</li>
-      <li>roIgnoreHeader -> do not use the column header to calculate the column
-                            width</li>
-      <li>roUseAllRows -> use all Grid rows to calculate the minimum width, not
-                          just the first 10</li>
-    </ul> }
+  ///<summary> used in ResizeStringGrid and ResizeDbGrid to specify additional options
+  ///  <ul>
+  ///    <li>roUseGridWidth -> make the columns take up the whole grid width</li>
+  ///    <li>roIgnoreHeader -> do not use the column header to calculate the column
+  ///                          width</li>
+  ///    <li>roUseAllRows -> use all Grid rows to calculate the minimum width, not
+  ///                        just the first 10</li>
+  ///  </ul> </summary>
   TResizeOptions = (roUseGridWidth, roIgnoreHeader, roUseAllRows);
   TResizeOptionSet = set of TResizeOptions;
 
-  {: Resizes the columns of a TCustomGrid to fit their contents
-     @param Grid is the TCustomGrid to work on
-     @param Options is a TResizeOptionSet specifying additional options, default
-            is an empty set. }
+///<summary> Resizes the columns of a TCustomGrid to fit their contents
+///          @param Grid is the TCustomGrid to work on
+///          @param Options is a TResizeOptionSet specifying additional options,
+///                         defaults to an empty set. </summary>
 procedure TGrid_Resize(_Grid: TCustomGrid); overload;
 procedure TGrid_Resize(_Grid: TCustomGrid; _Options: TResizeOptionSet); overload;
 procedure TGrid_Resize(_Grid: TCustomGrid; _Options: TResizeOptionSet; _RowOffset: integer); overload;
 procedure TGrid_Resize(_Grid: TCustomGrid; _Options: TResizeOptionSet; const _ConstantCols: array of integer); overload;
 procedure TGrid_Resize(_Grid: TCustomGrid; _Options: TResizeOptionSet; const _ConstantCols: array of integer; _RowOffset: integer); overload;
 
-{: Resizes the columns of a TDbGrid to fit their contents
-   @param Grid is the TCustomDbGrid to work on
-   @param Options is a TResizeOptionSet specifying additional options, default
-          is an empty set. }
+///<summary> Resizes the columns of a TDbGrid to fit their contents
+///          @param Grid is the TCustomDbGrid to work on
+///          @param Options is a TResizeOptionSet specifying additional options,
+///                         defaults to an empty set. </summary>
 procedure TDbGrid_Resize(_Grid: TCustomDbGrid; _Options: TResizeOptionSet = []);
 
-{: Returns the content of a StringGrid as a string
-   @param Grid is the TCustomGrid to read from.
-   @returns a string containing the contents of the grid columns separated by TAB
-            rows sepearated by CRLF. }
+///<summary> Returns the content of a StringGrid as a string
+///          @param Grid is the TCustomGrid to read from.
+///          @param IncludeFixed determines whether the fixed rows/columns are also included
+///          @returns a string containing the contents of the grid columns separated by TAB
+///                   rows sepearated by CRLF. </summary>
 function TGrid_GetText(_Grid: TCustomGrid; _IncludeFixed: boolean = false): string; overload;
+
+///<summary> Returns the content of a StringGrid as a string
+///          @param Grid is the TCustomGrid to read from.
+///          @param Selection is a TGridRect that determinens the area of the grid to return
+///          @returns a string containing the contents of the grid columns separated by TAB
+///                   rows sepearated by CRLF. </summary>
 function TGrid_GetText(_Grid: TCustomGrid; _Selection: TGridRect): string; overload;
 
-{: sets the row count, taking the fixed rows into account }
+///<summary> exports the contents of the string grid to a tab separated text file
+///          @param Grid is the string grid to export
+///          @param Filename is the name of the text file to create
+///          @param IncludeFixed determines whether the fixed rows/columns are also exported </summary>
+procedure TGrid_ExportToFile(_Grid: TCustomGrid; const _Filename: string; _IncludeFixed: boolean = false);
+
+///<summary> sets the row count, taking the fixed rows into account </summary>
 procedure TGrid_SetRowCount(_Grid: TCustomGrid; _RowCount: integer);
 
-{: sets the column count, taking the fixed columns into account }
+///<summary> sets the column count, taking the fixed columns into account </summary>
 procedure TGrid_SetColCount(_Grid: TCustomGrid; _ColCount: integer);
 
-{: exports the contents of the string grid to a tab separated text file
-   @param Grid is the string grid to export
-   @param Filename is the name of the text file to create }
-procedure TGrid_ExportToFile(_Grid: TCustomGrid; const _Filename: string; _IncludeFixed: boolean = false);
-
-{: sets the row count to FixedRows + 1 and clears all non-fixed cells }
+///<summary> sets the row count to FixedRows + 1 and clears all non-fixed cells </summary>
 procedure TStringGrid_Clear(_Grid: TStringGrid);
 
+///<summary> adds a new column to the Grid
+///          It first searches for an empty column (no caption) and uses that, if
+///          found, otherwise the column count is incremented.
+///          @param Grid is the grid to expand
+///          @param Caption is the caption of the new column
+///          @returns the index of the new column </summary>
 function TStringGrid_AddColumn(_Grid: TStringGrid; const _Caption: string): integer;
 
-{: exports the contents of the string grid to a tab separated text file
-   @param Grid is the string grid to export
-   @param Filename is the name of the text file to create }
+///<summary> exports the contents of the string grid to a tab separated text file (deprecated, use TGrid_ExportTofile instead)
+///          @param Grid is the string grid to export
+///          @param Filename is the name of the text file to create </summary>
 procedure TStringGrid_ExportToFile(_Grid: TCustomGrid; const _Filename: string); deprecated; inline; // use TGrid_ExportTofile instead
 
-{: scrolls up the lines of a string grid
-   @param Grid is the TStringGrid to scroll
-   @param Top is the topmost row to scroll, if passed as -1 defaults to the first non-fixed row
-   @param Bottom is the bottommost row to scroll, if passed as -1 defaults to RowCount-1 }
+///<summary> scrolls up the lines of a string grid
+///          @param Grid is the TStringGrid to scroll
+///          @param Top is the topmost row to scroll, if passed as -1 defaults to the first non-fixed row
+///          @param Bottom is the bottommost row to scroll, if passed as -1 defaults to RowCount-1 </summary>
 procedure TStringGrid_ScrollUp(_Grid: TStringGrid; _Top: integer = -1; _Bottom: integer = -1);
 
-{: sets the row count, taking the fixed rows into account }
+///<summary> sets the row count, taking the fixed rows into account  (deprecated, use TGrid_SetRowCount instead) </summary>
 procedure TStringGrid_SetRowCount(_Grid: TCustomGrid; _RowCount: integer); deprecated; inline; // use TGrid_SetRowCount instead
 
-{: sets the column count, taking the fixed columns into account }
+///<summary> sets the column count, taking the fixed columns into account </summary>
 procedure TStringGrid_SetColCount(_Grid: TCustomGrid; _ColCount: integer); deprecated; inline; // use TGrid_SetColCount instead
 
-{: deletes the given row from the string grid and moves all rows below it up by one,
-   if there is only one non-fixed row left, this row is cleared but not deleted.
-   @param Grid is the StringGrid to change
-   @param Row is the index of the row to delete, or -1 to delete the current row
-   @returns true, if the row was deleted }
+///<summary> deletes the given row from the string grid and moves all rows below it up by one,
+///   if there is only one non-fixed row left, this row is cleared but not deleted.
+///   @param Grid is the StringGrid to change
+///   @param Row is the index of the row to delete, or -1 to delete the current row
+///   @returns true, if the row was deleted </summary>
 function TStringGrid_DeleteRow(_Grid: TStringGrid; _Row: integer = -1): boolean;
 
-{: inserts a row at the given index into the string grid and moves all rows below it down by one.
-   @param Grid is the StringGrid to change
-   @param Row is the index of the row to insert, or -1 to insert at the current row
-   @returns the inserted row index or -1 if the row cannot be inserted }
+///<summary> inserts a row at the given index into the string grid and moves all rows below it down by one.
+///          @param Grid is the StringGrid to change
+///          @param Row is the index of the row to insert, or -1 to insert at the current row
+///          @returns the inserted row index or -1 if the row cannot be inserted </summary>
 function TStringGrid_InsertRow(_Grid: TStringGrid; _Row: integer = -1): integer;
 
-{: Tries to convert the grid cell to a double, if an error occurs, it raises
-   an exception and optionally focuses the cell.
-   @param Grid is the grid containing the data
-   @param Col is the cell's column (zero based)
-   @param Row is the cell's row (zero based)
-   @param FocusCell is a boolean which determines whether to focus the grid and cell
-          if it does not contain a valid value or not
-   @returns the cell's content as a double
-   @raises EConvertError if the cell's content could not be converted }
+///<summary> Tries to convert the grid cell to a double, if an error occurs, it raises
+///          an exception and optionally focuses the cell.
+///          @param Grid is the grid containing the data
+///          @param Col is the cell's column (zero based)
+///          @param Row is the cell's row (zero based)
+///          @param FocusCell is a boolean which determines whether to focus the grid and cell
+///                           if it does not contain a valid value
+///          @returns the cell's content as a double
+///          @raises EConvertError if the cell's content could not be converted </summary>
 function TStringGrid_CellToDouble(_grid: TStringGrid; _Col, _Row: integer; _FocusCell: boolean = true): double;
 
-{: Tries to convert the grid cell to an integer, if an error occurs, it raises
-   an exception and optionally focuses the cell.
-   @param Grid is the grid containing the data
-   @param Col is the cell's column (zero based)
-   @param Row is the cell's row (zero based)
-   @param FocusCell is a boolean which determines whether to focus the grid and cell
-          if it does not contain a valid value or not
-   @returns the cell's content as an integer
-   @raises EConvertError if the cell's content could not be converted }
+///<summary> Tries to convert the grid cell to an integer, if an error occurs, it raises
+///          an exception and optionally focuses the cell.
+///          @param Grid is the grid containing the data
+///          @param Col is the cell's column (zero based)
+///          @param Row is the cell's row (zero based)
+///          @param FocusCell is a boolean which determines whether to focus the grid and cell
+///                           if it does not contain a valid value
+///          @returns the cell's content as an integer
+///          @raises EConvertError if the cell's content could not be converted </summary>
 function TStringGrid_CellToInt(_grid: TStringGrid; _Col, _Row: integer; _FocusCell: boolean = true): integer;
 
-{: Deletes the top lines of the memo so it only contains Retain lines
-   @param Memo is the meme to work on
-   @param Retain is the number of lines to retain }
+///<summary> Deletes the top lines of the memo so it only contains Retain lines
+///          @param Memo is the memo to work on
+///          @param Retain is the number of lines to retain </summary>
 procedure TMemo_DeleteTopLines(_Memo: TMemo; _Retain: integer);
 
-{: Scrolls the memo to the end }
+///<summary> Scrolls the memo to the end </summary>
 procedure TMemo_ScrollToEnd(_Memo: TMemo);
 
 ///<summary> sets the Text property of a TEdit without triggering an OnChange event </summary>
 procedure TEdit_SetTextNoChange(_ed: TCustomEdit; const _Text: string);
 
-{: Tries to convert the edit control text to a double, if an error occurs, it raises
-   an exception and optionally focuses the control.
-   @param ed is the edit control
-   @param FocusControl is a boolean which determines whether to focus the control
-          if it does not contain a valid value or not
-   @returns the controls content as a double
-   @raises EConvertError if the controls content could not be converted }
+///<summary> Tries to convert the edit control text to a double, if an error occurs, it raises
+///          an exception and optionally focuses the control.
+///          @param ed is the edit control
+///          @param FocusControl is a boolean which determines whether to focus the control
+///                              if it does not contain a valid value or not
+///          @returns the controls content as a double
+///          @raises EConvertError if the controls content could not be converted </summary>
 function TEdit_TextToDouble(_ed: TEdit; _FocusControl: boolean = true): double;
 
-{: Tries to convert the edit control text to an integer, if an error occurs, it raises
-   an exception and optionally focuses the control.
-   @param ed is the edit control
-   @param FocusControl is a boolean which determines whether to focus the control
-          if it does not contain a valid value or not
-   @returns the controls content as an integer
-   @raises EConvertError if the controls content could not be converted }
+///<summary> Tries to convert the edit control text to an integer, if an error occurs, it raises
+///          an exception and optionally focuses the control.
+///          @param ed is the edit control
+///          @param FocusControl is a boolean which determines whether to focus the control
+///                              if it does not contain a valid value
+///          @returns the controls content as an integer
+///          @raises EConvertError if the controls content could not be converted </summary>
 function TEdit_TextToInt(_ed: TEdit; _FocusControl: boolean = true): integer;
 
-{: returns the contents of the tree view as a string with indentations
-   @param Tree is the TTreeView to process
-   @param Indentation is the number of spaces for indentation
-   @param Marker is a marker character to use for each item #0 for no marker }
+///<summary> returns the contents of the tree view as a string with indentations
+///          @param Tree is the TTreeView to process
+///          @param Indentation is the number of spaces for indentation
+///          @param Marker is a marker character to use for each item, #0 for no marker </summary>
 function TTreeView_GetAsText(_Tree: TTreeView; _Indentation: integer = 2; _Marker: char = #0): string;
 
-{: adds a new TTabSheet to the given PageControl with the given Caption and returns it }
+///<summary> adds a new TTabSheet with the given Caption to the PageControl and returns it </summary>
 function TPageControl_AddTabSheet(_PageControl: TPageControl; const _Caption: string): TTabSheet;
 
-{: Draws the tab text for a TPageControl as horizontal text, useful, if you
-   want to have the tabs on the left or right but don't want vertical text.
-   Set the TPageControl's OwnerDraw property to true, the TabHeight property
-   (which actually gives the width of the tabs if they are on the left or right
-   hand side) sufficiently large, the TabWidth (which is actually is the height)
-   to 18 and assign a OnDrawTab event. From this event call this function.
-   @param PageControl is the TPageControl to draw
-   @param TabIndex is the index of the tab to draw
-   @param Rect is a TRect giving the drawing area
-   @param Active is a boolean that is true if the Tab is currently active }
+///<summary> Draws the tab text for a TPageControl as horizontal text, useful, if you
+///          want to have the tabs on the left or right but don't want vertical text.
+///         Set the TPageControl's OwnerDraw property to true, the TabHeight property
+///         (which actually gives the width of the tabs if they are on the left or right
+///         hand side) sufficiently large, the TabWidth (which is actually is the height)
+///         to 18 and assign a OnDrawTab event. From this event call this function.
+///         @param PageControl is the TPageControl to draw
+///         @param TabIndex is the index of the tab to draw
+///         @param Rect is a TRect giving the drawing area
+///         @param Active is a boolean that is true if the Tab is currently active </summary>
 procedure TPageControl_DrawTab(_PageControl: TPageControl; _TabIndex: integer;
   const _Rect: TRect; _Active: boolean);
 
-{: Draws the tab text for a TTabControl as horizontal text, useful, if you
-   want to have the tabs on the left or right but don't want vertical text.
-   Set the TTabControl's OwnerDraw property to true, the TabHeight property
-   (which actually gives the width of the tabs if they are on the left or right
-   hand side) sufficiently large, the TabWidth (which is actually is the height)
-   to 18 and assign a OnDrawTab event. From this event call this function.
-   @param PageControl is the TPageControl to draw
-   @param TabIndex is the index of the tab to draw
-   @param Rect is a TRect giving the drawing area
-   @param Active is a boolean that is true if the Tab is currently active }
+///<summary> Draws the tab text for a TTabControl as horizontal text, useful, if you
+///          want to have the tabs on the left or right but don't want vertical text.
+///         Set the TTabControl's OwnerDraw property to true, the TabHeight property
+///         (which actually gives the width of the tabs if they are on the left or right
+///         hand side) sufficiently large, the TabWidth (which is actually is the height)
+///         to 18 and assign a OnDrawTab event. From this event call this function.
+///         @param PageControl is the TPageControl to draw
+///         @param TabIndex is the index of the tab to draw
+///         @param Rect is a TRect giving the drawing area
+///         @param Active is a boolean that is true if the Tab is currently active </summary>
 procedure TTabControl_DrawTab(_TabControl: TTabControl; _TabIndex: integer;
   const _Rect: TRect; _Active: boolean);
 
-{: Sets a TTabControl's tab width based on the text it displays, usefull
-   to display horizontal text in tabs on the left or right hand side }
+///<summary> Sets a TTabControl's tab width based on the text it displays, usefull
+///          to display horizontal text in tabs on the left or right hand side </summary>
 procedure TTabControl_AdjustTabWidth(_TabControl: TTabControl; _Form: TForm; _MinWidth: integer = 80);
 
-{: sets the control and all its child controls Enabled property and changes their
-   caption to reflect this
-   @param Control is the TControl to change
-   @param Enabled is a boolean with the new value for the Enabled property. }
+///<summary> sets the control and all its child controls Enabled property and changes their
+///          caption to reflect this
+///          @param Control is the TControl to change
+///          @param Enabled is a boolean with the new value for the Enabled property. </summary>
 procedure SetControlEnabled(_Control: TControl; _Enabled: boolean);
 
+///<summary> sets the with of a ComboBox's dropdown  in pixels </summary>
 procedure TComboBox_SetDropdownWidth(_cmb: TCustomCombobox; _Pixels: integer);
 
-{: Selects the entry in a combobox that has an object pointer matching Value
-   @param cmb is the TCustomCombobox (descendant) to select
-   @param Value is the desired object value
-   @returns true, if the value could be found, false otherwise }
+///<summary> Selects the entry in a combobox that has an object pointer matching Value
+///          @param cmb is the TCustomCombobox (descendant) to select
+///          @param Value is the desired object value
+///          @returns true, if the value could be found, false otherwise </summary>
 function TComboBox_SelectByObject(_cmb: TCustomCombobox; _Value: pointer): boolean;
 
-{: Gets the string of a combobox entry that has an object pointer matching Obj
-   @param cmb is the TCustomCombobox (descendant) to select
-   @param Obj is the desired object value
-   @param s is the string of the combobox entry, only valid if the function returns true
-   @returns true, if the object could be found, false otherwise }
+///<summary> Gets the string of a combobox entry that has an object pointer matching Obj
+///          @param cmb is the TCustomCombobox (descendant) to select
+///          @param Obj is the desired object value
+///          @param s is the string of the combobox entry, only valid if the function returns true
+///          @returns true, if the object could be found, false otherwise </summary>
 function TComboBox_GetObjectCaption(_cmb: TCustomCombobox; _Obj: pointer; out _s: string): boolean;
 
-{: Gets the object pointer of the selected combobox item
-   @param cmb is the TCustomCombobox (descendant) to read from
-   @param Idx is the combobox's ItemIndex, only valid if the function returns true
-   @param Obj is the value of the object pointer of the selected item, only valid
-          if the function returns true
-   @param FocusControl is a boolean which determines whether to focus the control
-          if it does not contain a valid value or not, default = false
-   @returns true, if these values are valid }
+///<summary> Gets the object pointer of the selected combobox item
+///          @param cmb is the TCustomCombobox (descendant) to read from
+///          @param Idx is the combobox's ItemIndex, only valid if the function returns true
+///          @param Obj is the value of the object pointer of the selected item, only valid
+///                     if the function returns true
+///          @param FocusControl is a boolean which determines whether to focus the control
+///                              if it does not contain a valid value, default = false
+///          @returns true, if these out parameters are valid </summary>
 function TComboBox_GetSelectedObject(_cmb: TCustomCombobox; out _Idx: integer;
   out _Obj: pointer; _FocusControl: boolean = false): boolean;
 
-{: Gets the caption of the selected combobox item
-   @param cmb is the TCustomCombobox (descendant) to read from
-   @param Item is the selected item, only valid if the function returns true
-   @param FocusControl is a boolean which determines whether to focus the control
-          if it does not contain a valid value or not, default = false
-   @returns true, if an item was selected }
+///<summary> Gets the caption of the selected combobox item
+///          @param cmb is the TCustomCombobox (descendant) to read from
+///          @param Item is the selected item, only valid if the function returns true
+///          @param FocusControl is a boolean which determines whether to focus the control
+///                              if it does not contain a valid value, default = false
+///          @returns true, if an item was selected </summary>
 function TComboBox_GetSelected(_cmb: TCustomComboBox; out _Item: string;
   _FocusControl: boolean = false): boolean; overload;
 function TComboBox_GetSelected(_cmb: TCustomComboBox): string; overload;
 
-{: Selects the item if it is in the list and returns the new ItemIndex
-   @param cmb is the TCustomCombobox (descendant) to use
-   @param Item is the item to select
-   @param DefaultIdx is the ItemIndex to use if no item matches.
-   @returns the index of the newly selected item or -1 if it doesn't exist }
+///<summary> Selects the item if it is in the list and returns the new ItemIndex
+///          @param cmb is the TCustomCombobox (descendant) to use
+///          @param Item is the item to select
+///          @param DefaultIdx is the ItemIndex to use if no item matches.
+///          @returns the index of the newly selected item or -1 if it doesn't exist </summary>
 function TComboBox_Select(_cmb: TCustomComboBox; const _Item: string; _DefaultIdx: integer = -1): integer;
 
-{: Gets the object pointer of the selected listbox item
-   @param lst is the TCustomListbox (descendant) to read from
-   @param Idx is the listbox's ItemIndex, only valid if the function returns true
-   @param Obj is the value of the object pointer of the selected item, only valid
-          if the function returns true
-   @returns true, if these values are valid }
+///<summary> Gets the object pointer of the selected listbox item
+///          @param lst is the TCustomListbox (descendant) to read from
+///          @param Idx is the listbox's ItemIndex, only valid if the function returns true
+///          @param Obj is the value of the object pointer of the selected item, only valid
+///                     if the function returns true
+///          @returns true, if out parameters are valid </summary>
 function TListBox_GetSelectedObject(_lst: TCustomListbox; out _Idx: integer; out _Obj: pointer): boolean;
 
-{: Gets the caption of the selected listbox item
-   @param cmb is the TCustomListbox (descendant) to read from
-   @param Item is the selected item, only valid if the function returns true
-   @param FocusControl is a boolean which determines whether to focus the control
-          if it does not contain a valid value or not, default = false
-   @returns true, if an item was selected }
+///<summary> Gets the caption of the selected listbox item
+///          @param cmb is the TCustomListbox (descendant) to read from
+///          @param Item is the selected item, only valid if the function returns true
+///          @param FocusControl is a boolean which determines whether to focus the control
+///                              if it does not contain a valid value, default = false
+///          @returns true, if an item was selected </summary>
 function TListBox_GetSelected(_lb: TCustomListBox; out _Item: string;
   _FocusControl: boolean = false): boolean; overload;
 function TListBox_GetSelected(_lb: TCustomListBox): string; overload;
 
-{: Selects the item if it is in the list and returns the new ItemIndex
-   @param lb is the TCustomListbox (descendant) to use
-   @param Item is the item to select
-   @param DefaultIdx is the ItemIndex to use if no item matches.
-   @returns the index of the newly selected item or -1 if it doesn't exist }
+///<summary> Selects the item if it is in the list and returns the new ItemIndex
+///          @param lb is the TCustomListbox (descendant) to use
+///          @param Item is the item to select
+///          @param DefaultIdx is the ItemIndex to use if no item matches.
+///          @returns the index of the newly selected item or -1 if it doesn't exist </summary>
 function TListBox_Select(_lb: TCustomListBox; const _Item: string; _DefaultIdx: integer = -1): integer;
 
-{: Deletes the selected listbox item
-   @param lst is the TCustomListbox (descendant) to read from
-   @param Idx is the listbox's ItemIndex, only valid if the function returns true
-          if the function returns true
-   @returns true, if these values are valid }
+///<summary> Deletes the selected listbox item
+///          @param lst is the TCustomListbox (descendant) to read from
+///          @param Idx is the listbox's ItemIndex, only valid if the function returns true
+///   @returns true, if these values are valid </summary>
 function TListBox_DeleteSelected(_lst: TCustomListbox; out _Idx: integer): boolean; overload;
 function TListBox_DeleteSelected(_lst: TCustomListbox): boolean; overload;
 function TListBox_DeleteSelected(_lst: TCustomListBox; out _s: string): boolean; overload;
 
+///<summary> Returns the nunber of items that are checked </summary>
 function TCheckListBox_GetCheckedCount(_clb: TCheckListBox): integer;
 procedure TCheckListBox_DeleteDisabled(_clb: TCheckListBox);
 procedure TCheckListBox_InvertCheckmarks(_clb: TCheckListBox; _IncludeDisabled: boolean = false);
@@ -327,13 +342,13 @@
 procedure TCheckListBox_CheckSelected(_clb: TCheckListBox; _IncludeDisabled: boolean = false);
 procedure TCheckListBox_UncheckSelected(_clb: TCheckListBox; _IncludeDisabled: boolean = false);
 
-{: Gets the caption of the given or selected item in the RadioGroup
-   @param rg is the TCustomRadioGroup descendant to read
-   @param Caption returns a string with the requested caption with
-                  Ampersands ('&') stripped, only valid, if
-                  the function returns true
-   @param Idx is the item index to read, defaults to -1 meaning 'selected item'
-   @returns true, if the caption could be read }
+///<summary> Gets the caption of the given or selected item in the RadioGroup
+///          @param rg is the TCustomRadioGroup descendant to read
+///          @param Caption returns a string with the requested caption with
+///                         Ampersands ('&') stripped, only valid, if
+///                         the function returns true
+///          @param Idx is the item index to read, defaults to -1 meaning 'selected item'
+///          @returns true, if the caption could be read </summary>
 function TRadioGroup_GetItemCaption(_rg: TCustomRadioGroup;
   out _Caption: string; _Idx: integer = -1): boolean;
 
@@ -342,91 +357,93 @@
 ///          Comparison is case insensitive </summary>
 function TRadioGroup_Select(_rg: TCustomRadioGroup; const _Item: string; _DefaultIdx: integer = -1): integer;
 
-{: Gets the object pointer of the selected RadioGroup item
-   @param cmb is the TCustomListbox (descendant) to read from
-   @param Idx is the listbox's ItemIndex, only valid if the function returns true
-   @param Obj is the value of the object pointer of the selected item, only valid
-          if the function returns true
-   @returns true, if these values are valid }
+///<summary> Gets the object pointer of the selected RadioGroup item
+///          @param cmb is the TCustomListbox (descendant) to read from
+///          @param Idx is the listbox's ItemIndex, only valid if the function returns true
+///          @param Obj is the value of the object pointer of the selected item, only valid
+///                     if the function returns true
+///          @returns true, if the out parameters are valid </summary>
 function TRadioGroup_GetSelectedObject(_rg: TCustomRadioGroup; out _Idx: integer; out _Obj: pointer): boolean;
 
-{: Writes a TPicture object to a String. The Format is
-   <pictureformat>#26<picturedata> }
+///<summary> Writes a TPicture object to a String. The Format is
+///          <pictureformat>#26<picturedata> </summary>
 function TPicture_WriteToString(_Pic: TPicture): string;
 
-{: Reads a TPicture object from a String which was created using
-   Picture_WriteToString }
+///<summary> Reads a TPicture object from a String which was created using
+///          Picture_WriteToString </summary>
 procedure TPicture_ReadFromString(_Pic: TPicture; const _S: string);
 
-{: Writes a TRichEdit to a string including all formatting }
+///<summary> Writes a TRichEdit to a string including all formatting </summary>
 function TRichEdit_WriteToString(_Re: TRichEdit): string;
 
-{: Reads a TRichEdit from a string including all formatting }
+///<summary> Reads a TRichEdit from a string including all formatting </summary>
 procedure TRichEdit_ReadFromString(_Re: TRichEdit; const _S: string);
 
-{: Returns the characater offset of the first character of the given row
-   example: RicheEdit1.SelStart := RichEdit_GetRowCharIndex(RichEdit1, 5);
-   @param Re is a TRichEdit
-   @param Row is the row number (0 based)
-   @returns the character offset (0 based) of the first character of the row }
+///<summary> Returns the characater offset of the first character of the given row
+///          example: RicheEdit1.SelStart := RichEdit_GetRowCharIndex(RichEdit1, 5);
+///          @param Re is a TRichEdit
+///          @param Row is the row number (0 based)
+///          @returns the character offset (0 based) of the first character of the row </summary>
 function TRichEdit_RowToCharIndex(_Re: TRichEdit; _Row: integer): integer;
 
-{: Returns the row which contains the given character index }
+///<summary> Returns the row which contains the given character index </summary>
 function TRichEdit_CharIndexToRow(_Re: TRichEdit; _Idx: integer): integer;
 
-{: Returns the current row number (0 based) of the RichEdit }
+///<summary> Returns the current row number (0 based) of the RichEdit </summary>
 function TRichEdit_GetCurrentRow(_Re: TRichEdit): integer;
 
-{: Scrolls the rich edit to the current caret position }
+///<summary> Scrolls the rich edit to the current caret position </summary>
 procedure TRichEdit_ScrollToCaret(_Re: TRichEdit);
 
-{: Write a line to a RichEdit, optionally specifying color and font style }
+///<summary> Write a line to a RichEdit, optionally specifying color and font style </summary>
 procedure TRichEdit_WriteLn(_Re: TRichEdit; const _s: string; _Color: TColor = clBlack; _Style: TFontStyles = []);
 
-{: Fuegt ein Control und ein zugehoeriges Label ein, Zeilenabstand ist 24 Punkte
-   mit 16 Punkten Abstand vom oberen und 8 vom linken Rand. Es wird angenommen,
-   dass _ctrl bereits die korrekte x-Position hat, lediglich Top wird angepasst }
+///<summary> Adds a control and a corresponding label, a line consists of 24 pixels
+///          with 16 pixels distance from the upper and 8 pixels from the left border.
+///          It is assumed that the control already has the correct x position, only
+///          Top will be adjusted. </summary>
 function AddLabeledControl(_Idx: integer; const _Caption: string; _ctrl: TControl): TLabel;
 
-{: Calculates the height for writing a Text on a control }
+///<summary> Calculates the height for writing a Text on a control </summary>
 function CalcTextHeight(_Ctrl: TWinControl; const _Text: string; _Width: integer = -1): integer; overload;
 function CalcTextHeight(_Ctrl: TGraphicControl; const _Text: string; _Width: integer = -1): integer; overload;
 
-{: I don't quite remember what this is supposed to do and where it is used,
-   Please, if you find a call to this function somewhere, tell me. -- twm }
+///<summary> I don't quite remember what this is supposed to do and where it is used,
+///          Please, if you find a call to this function somewhere, tell me. -- twm </summary>
 function TStringGrid_IsScrollBarVisible(_Grid: TCustomGrid; _Code: integer): boolean;
 
-{: Returns the path to the application's executable including the trailing backslash }
-function GetApplicationPath: string;
+///<summary> Returns the path to the application's executable including the trailing backslash </summary>
+function GetApplicationPath: string; deprecated; // use TApplication_GetExePath instead
 
-{: Center the child on the parent}
+///<summary> Center the child on the parent </summary>
 procedure TControl_Center(_Child: TControl; _Parent: TControl);
 
-{: sets the Checked property without firing an OnClick event }
+///<summary> sets the Checked property without firing an OnClick event </summary>
 procedure TCheckBox_SetCheckedNoOnClick(_Chk: TCustomCheckBox; _Checked: boolean);
 
-{: centers a form on the given point, but makes sure the form is fully visible }
+///<summary> centers a form on the given point, but makes sure the form is fully visible </summary>
 procedure TForm_CenterOn(_frm: TForm; _Center: TPoint); overload;
-{: centers a form on the given component, but makes sure the form is fully visible }
+///<summary> centers a form on the given component, but makes sure the form is fully visible </summary>
 procedure TForm_CenterOn(_frm: TForm; _Center: TWinControl); overload;
 
-{: tries to focus the given control, returns false if that's not possible }
+///<summary> tries to focus the given control, returns false if that's not possible </summary>
 function TWinControl_SetFocus(_Ctrl: TWinControl): boolean;
 
-{: returns the full path of the executable (without the filename but including
-   a backslash }
+///<summary> returns the full path of the executable (without the filename but including
+///          a backslash) </summary>
 function TApplication_GetExePath: string;
 
+///<summary> returns true, if the application's executable contains version information </summary>
 function TApplication_HasVersionInfo: boolean;
 
-{: switches off "Windows Ghosting" in Win 2000 and XP
-  This is a workaround for the bug that modal forms sometimes aren't modal in W2K and XP.
-  Call in application startup. }
+///<summary> switches off "Windows Ghosting" in Win 2000 and XP
+///          This is a workaround for the bug that modal forms sometimes aren't modal in W2K and XP.
+///          Call in application startup. </summary>
 procedure DisableProcessWindowsGhosting;
 
-{: Reverses a VclUtils.MergeForm (rxlib)
-   @param Form is the TForm to unmerge }
-procedure MergeForm(AControl: TWinControl; AForm: TForm; Align: TAlign; Show: Boolean);
+procedure MergeForm(AControl: TWinControl; AForm: TForm; Align: TAlign; Show: Boolean); deprecated; // use a frame instead
+///<summary> Reverses a VclUtils.MergeForm (rxlib)
+///          @param Form is the TForm to unmerge </summary>
 procedure UnMergeForm(_Form: TCustomForm); deprecated; // use a frame instead
 
 implementation
@@ -441,21 +458,20 @@
   RxGConst,
   rxGif,
 {$ENDIF GIFByRx}
+  u_dzTranslator,
   u_dzConvertUtils,
   u_dzStringUtils;
 
-resourcestring
-  RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S = '"%s" is not a valid floating point value.';
-  RS_IS_NOT_A_VALID_INTEGER_VALUE_S = '"%s" is not a valid integer value.';
-  RS_NO_ITEM_SELECTED_IN_COMBOBOX = 'No item selected in combobox';
-  RS_NO_ITEM_SELECTED_IN_LISTBOX = 'No item selected in listbox';
-  RS_JPEG_FILES = 'JPEG Files';
-
 // we need this to access protected methods
 type
   TGridHack = class(TCustomGrid);
   TDbGridHack = class(TCustomDbGrid);
 
+function _(const _s: string): string;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
+
 function TGrid_GetText(_Grid: TCustomGrid; _IncludeFixed: boolean = false): string;
 var
   Selection: TGridRect;
@@ -666,7 +682,7 @@
       _grid.Col := _Col;
       _grid.SetFocus;
     end;
-    raise EConvertError.CreateFmt(RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S, [s]);
+    raise EConvertError.CreateFmt(_('"%s" is not a valid floating point value.'), [s]);
   end;
 end;
 
@@ -681,7 +697,7 @@
       _grid.Col := _Col;
       _grid.SetFocus;
     end;
-    raise EConvertError.CreateFmt(RS_IS_NOT_A_VALID_INTEGER_VALUE_S, [s]);
+    raise EConvertError.CreateFmt(_('"%s" is not a valid integer value.'), [s]);
   end;
 end;
 
@@ -713,7 +729,7 @@
     if _FocusControl then begin
       _ed.SetFocus;
     end;
-    raise EConvertError.CreateFmt(RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S, [s]);
+    raise EConvertError.CreateFmt(_('"%s" is not a valid floating point value.'), [s]);
   end;
 end;
 
@@ -726,7 +742,7 @@
     if _FocusControl then begin
       _ed.SetFocus;
     end;
-    raise EConvertError.CreateFmt(RS_IS_NOT_A_VALID_INTEGER_VALUE_S, [s]);
+    raise EConvertError.CreateFmt(_('"%s" is not a valid integer value.'), [s]);
   end;
 end;
 
@@ -1071,7 +1087,7 @@
 function TComboBox_GetSelected(_cmb: TCustomComboBox): string; overload;
 begin
   if not TComboBox_GetSelected(_cmb, Result) then
-    raise EdzComboBoxNoSelection.Create(RS_NO_ITEM_SELECTED_IN_COMBOBOX);
+    raise EdzComboBoxNoSelection.Create(_('No item selected in combobox'));
 end;
 
 function TListBox_GetSelected(_lb: TCustomListBox; out _Item: string;
@@ -1090,7 +1106,7 @@
 function TListBox_GetSelected(_lb: TCustomListBox): string;
 begin
   if not TListBox_GetSelected(_lb, Result) then
-    raise EdzListBoxNoSelection(RS_NO_ITEM_SELECTED_IN_LISTBOX);
+    raise EdzListBoxNoSelection(_('No item selected in listbox'));
 end;
 
 function TListBox_GetSelectedObject(_lst: TCustomListbox; out _Idx: integer; out _Obj: pointer): boolean;
@@ -1522,7 +1538,7 @@
 {$IFDEF GIFByRx}
   Add('gif', LoadStr(SGIFImage), 0, TGIFImage);
 {$ENDIF GIFByRx}
-  Add('jpg', RS_JPEG_FILES, 0, TJPEGImage);
+  Add('jpg', _('JPEG Files'), 0, TJPEGImage);
 end;
 
 destructor TFileFormatsList.Destroy;

Modified: utilities/dzLib/trunk/translations/de/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 08:21:54 UTC (rev 290)
+++ utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 09:04:01 UTC (rev 291)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 01:12\n"
+"POT-Creation-Date: 2008-09-04 02:01\n"
 "PO-Revision-Date: 2008-07-18 15:04+0100\n"
 "Last-Translator: Thomas Mueller <dzlib at schniering.com>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
@@ -484,28 +484,23 @@
 msgid "Variant can not be converted to %s: %s"
 msgstr "Variant kann nicht nach %s konvertiert werden: %s"
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S
-#: u_dzVclUtils.pas:448 
+#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" ist kein g?ltiger Flie?kommawert."
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_INTEGER_VALUE_S
-#: u_dzVclUtils.pas:449 
+#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" ist kein g?ltiger Integerwert."
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_COMBOBOX
-#: u_dzVclUtils.pas:450 
+#: u_dzVclUtils.pas:1090 
 msgid "No item selected in combobox"
 msgstr "Kein Eintrag der Combobox ausgew?hlt"
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_LISTBOX
-#: u_dzVclUtils.pas:451 
+#: u_dzVclUtils.pas:1109 
 msgid "No item selected in listbox"
 msgstr "Kein Eintrag der Listbox ausgew?hlt"
 
-#. Programmer's name for it: RS_JPEG_FILES
-#: u_dzVclUtils.pas:452 
+#: u_dzVclUtils.pas:1541 
 msgid "JPEG Files"
 msgstr "JPEG Dateien"
 

Modified: utilities/dzLib/trunk/translations/en/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 08:21:54 UTC (rev 290)
+++ utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 09:04:01 UTC (rev 291)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 01:12\n"
+"POT-Creation-Date: 2008-09-04 02:01\n"
 "PO-Revision-Date: 2008-07-18 15:04+0100\n"
 "Last-Translator: Thomas Mueller <dzlib at schniering.com>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
@@ -485,28 +485,23 @@
 msgid "Variant can not be converted to %s: %s"
 msgstr "Variant can not be converted to %s: %s"
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S
-#: u_dzVclUtils.pas:448 
+#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" is not a valid floating point value."
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_INTEGER_VALUE_S
-#: u_dzVclUtils.pas:449 
+#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" is not a valid integer value."
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_COMBOBOX
-#: u_dzVclUtils.pas:450 
+#: u_dzVclUtils.pas:1090 
 msgid "No item selected in combobox"
 msgstr "No item selected in combobox"
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_LISTBOX
-#: u_dzVclUtils.pas:451 
+#: u_dzVclUtils.pas:1109 
 msgid "No item selected in listbox"
 msgstr "No item selected in listbox"
 
-#. Programmer's name for it: RS_JPEG_FILES
-#: u_dzVclUtils.pas:452 
+#: u_dzVclUtils.pas:1541 
 msgid "JPEG Files"
 msgstr "JPEG Files"
 

Modified: utilities/dzLib/trunk/translations/fr/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 08:21:54 UTC (rev 290)
+++ utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 09:04:01 UTC (rev 291)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 01:12\n"
+"POT-Creation-Date: 2008-09-04 02:01\n"
 "PO-Revision-Date: 2008-07-18 15:04+0100\n"
 "Last-Translator: Thomas Mueller <dzlib at schniering.com>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
@@ -489,28 +489,23 @@
 msgid "Variant can not be converted to %s: %s"
 msgstr "La variation ne peut pas ?tre convertie de %s: %s"
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_FLOATING_POINT_VALUE_S
-#: u_dzVclUtils.pas:448 
+#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#. Programmer's name for it: RS_IS_NOT_A_VALID_INTEGER_VALUE_S
-#: u_dzVclUtils.pas:449 
+#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_COMBOBOX
-#: u_dzVclUtils.pas:450 
+#: u_dzVclUtils.pas:1090 
 msgid "No item selected in combobox"
 msgstr ""
 
-#. Programmer's name for it: RS_NO_ITEM_SELECTED_IN_LISTBOX
-#: u_dzVclUtils.pas:451 
+#: u_dzVclUtils.pas:1109 
 msgid "No item selected in listbox"
 msgstr ""
 
-#. Programmer's name for it: RS_JPEG_FILES
-#: u_dzVclUtils.pas:452 
+#: u_dzVclUtils.pas:1541 
 msgid "JPEG Files"
 msgstr "Fichiers JPEG"
 



From twm at mail.berlios.de  Thu Sep  4 12:03:07 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:03:07 +0200
Subject: [Dzchart-svncheckins] r293 - utilities/dzLib/trunk
Message-ID: <200809041003.m84A37MK022070@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:03:06 +0200 (Thu, 04 Sep 2008)
New Revision: 293

Removed:
   utilities/dzLib/trunk/inc/
Log:
removed inc subdir, it's now called jedi_inc



From twm at mail.berlios.de  Thu Sep  4 12:19:03 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:19:03 +0200
Subject: [Dzchart-svncheckins] r294 - in utilities/dzLib/trunk: . src
	translations/de translations/en translations/fr
Message-ID: <200809041019.m84AJ3F9023240@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:19:01 +0200 (Thu, 04 Sep 2008)
New Revision: 294

Modified:
   utilities/dzLib/trunk/
   utilities/dzLib/trunk/src/u_dzRingBuffer.pas
   utilities/dzLib/trunk/src/u_dzVariantUtils.pas
   utilities/dzLib/trunk/translations/de/dzlib.po
   utilities/dzLib/trunk/translations/en/dzlib.po
   utilities/dzLib/trunk/translations/fr/dzlib.po
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')



Property changes on: utilities/dzLib/trunk
___________________________________________________________________
Name: svn:ignore
   - default.po
default_de.mo
filtered.po
.po

   + default.po
default_de.mo
filtered.po
.po
dzlib.exe
allunits


Modified: utilities/dzLib/trunk/src/u_dzRingBuffer.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzRingBuffer.pas	2008-09-04 10:03:06 UTC (rev 293)
+++ utilities/dzLib/trunk/src/u_dzRingBuffer.pas	2008-09-04 10:19:01 UTC (rev 294)
@@ -1,11 +1,12 @@
 unit u_dzRingBuffer;
 
-{$I globaldef.inc}
+{$I jedi.inc}
 
 interface
 
 uses
-  Windows;
+  Windows,
+  SysUtils;
 
 type
   EdzRingBuffer = class(Exception);

Modified: utilities/dzLib/trunk/src/u_dzVariantUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzVariantUtils.pas	2008-09-04 10:03:06 UTC (rev 293)
+++ utilities/dzLib/trunk/src/u_dzVariantUtils.pas	2008-09-04 10:19:01 UTC (rev 294)
@@ -8,25 +8,25 @@
   Variants;
 
 type
-  {: raised if there is a conversion error in one of the Var2XxxEx functions }
+  ///<summary> raised if there is a conversion error in one of the Var2XxxEx functions </summary>
   EVariantConvertError = class(Exception);
-  {: raised if the variant passed to one of the Var2XxxEx functions is null }
+  ///<summary> raised if the variant passed to one of the Var2XxxEx functions is null </summary>
   EVarIsNull = class(EVariantConvertError);
-  {: raised if the variant passed to one of the Var2XxxEx functions is empty }
+  ///<summary> raised if the variant passed to one of the Var2XxxEx functions is empty </summary>
   EVarIsEmpty = class(EVariantConvertError);
 
-{: converts a variant to its string representation (for debugging) }
+///<summary> converts a variant to its string representation (for debugging / logging) </summary>
 function toString(_v: OleVariant): string; overload;
 
-{: Checks whether a variant is a type that can be assigned to an integer (signed 32 bit),
-   Note: Excludes longword and Int64, even if the value may be <= MaxLongInt }
+///<summary> Checks whether a variant is a type that can be assigned to an integer (signed 32 bit),
+///          Note: Excludes longword and Int64, even if the value may be <= MaxLongInt </summary>
 function VarIsInteger(_v: variant): boolean;
 
-{: Checks whether a variant is of a type that can be assigned to a longword (unsigned 32 bit),
-   Note: Excludes signed integers, even if the value may be positive }
+///<summary> Checks whether a variant is of a type that can be assigned to a longword (unsigned 32 bit),
+//           Note: Excludes signed integers, even if the value may be positive </summary>
 function VarIsLongWord(_v: variant): boolean;
 
-{: Checks whether a variant is of a type that can be assigned to an Int64 (signed 64 bit) }
+///<summary> Checks whether a variant is of a type that can be assigned to an Int64 (signed 64 bit) </summary>
 function VarIsInt64(_v: variant): boolean;
 
 // Variant to other type conversion functions
@@ -37,30 +37,30 @@
 // Var2XxxEx converts from variant to type Xxx, but raises an exception if
 // variant is NULL, using the Source for the message.
 
-{: Converts a variant to an integer.
-   If v is null or empty, it returns false
-   @param(v Variant value to convert)
-   @param(Value is the variants integer value, only valid if the function
-          returns true.)
-   @returns(true, if the variant could be converted to integer, false if not.) }
+///<summary> Converts a variant to an integer.
+///          If v is null or empty, it returns false
+///          @param v Variant value to convert
+///          @param Value is the variants integer value, only valid if the function
+///                       returns true.
+///          @returns true, if the variant could be converted to integer, false if not. </summary>
 function TryVar2Int(const _v: variant; out _Value: integer): boolean;
 function TryVar2Int64(const _v: variant; out _Value: int64): boolean;
 
-{: Converts a variant to an integer.
-   If v is null or empty, it returns the Default.
-   @param(v Variant value to convert)
-   @param(Default Value to return if v is empty or null)
-   @returns(the integer value of v or the Default if v can not be converted) }
+///<summary> Converts a variant to an integer.
+///          If v is null or empty, it returns the Default.
+///          @param v Variant value to convert
+///          @param Default Value to return if v is empty or null
+///          @returns the integer value of v or the Default if v can not be converted </summary>
 function Var2Int(const _v: variant; _Default: integer): integer;
 
-{: Converts a variant to an integer.
-   Raises an exception if v can not be converted.
-   @param(v Variant value to convert)
-   @param(Source string to include in the exception message)
-   @returns(the integer value of v)
-   @raises(EVarIsNull if v is null)
-   @raises(EVarIsEmpty if v is empty)
-   @raises(EVariantConvertError if there is some other conversion error) }
+///<summary> Converts a variant to an integer.
+///          Raises an exception if v can not be converted.
+///          @param v Variant value to convert
+///          @param Source string to include in the exception message
+///          @returns the integer value of v
+///          @raises EVarIsNull if v is null
+///          @raises EVarIsEmpty if v is empty
+///          @raises EVariantConvertError if there is some other conversion error </summary>
 function Var2IntEx(const _v: variant; const _Source: string): integer;
 
 ///<summary> tries to convert a variant to a boolean
@@ -71,12 +71,12 @@
 ///<summary> Converts a variant to a boolean </summary>
 function Var2BoolEx(const _v: variant; const _Source: string): boolean;
 
-{: Converts a variant to the string representation of an integer.
-   If v is null or empty, it returns the NullValue.
-   @param(v Variant value to convert)
-   @param(NullValue String value to return if v is empty or null)
-   @returns(the string representation of the integer value of v or the
-            NullValue if v can not be converted) }
+///<summary> Converts a variant to the string representation of an integer.
+///          If v is null or empty, it returns the NullValue.
+///          @param v Variant value to convert
+///          @param NullValue String value to return if v is empty or null
+///          @returns the string representation of the integer value of v or the
+///                   NullValue if v can not be converted </summary>
 function Var2IntStr(const _v: variant; const _NullValue: string = '*NULL*'): string;
 
 ///<summary> tries to convert a variant to a double
@@ -88,11 +88,11 @@
 ///          @raises EVariantConvertError if there is some other conversion error </summary>
 function TryVar2Dbl(const _v: variant; out _Value: double): boolean;
 
-{: Converts a variant to a double.
-   If v is null or empty, it returns the Default.
-   @param(v Variant value to convert)
-   @param(Default Value to return if v is empty or null)
-   @returns(the double value of v or the Default if v can not be converted) }
+///<summary> Converts a variant to a double.
+///          If v is null or empty, it returns the Default.
+///          @param v Variant value to convert
+///          @param Default Value to return if v is empty or null
+///          @returns the double value of v or the Default if v can not be converted </summary>
 function Var2Dbl(const _v: variant; const _Default: double): double;
 
 ///<summary> Converts a variant to a double.
@@ -105,13 +105,13 @@
 ///          @raises EVariantConvertError if there is some other conversion error </summary>
 function Var2DblEx(const _v: variant; const _Source: string): double;
 
-{: Converts a variant to the string representation of a double.
-   If v is null or empty, it returns the Default.
-   It uses Float2Str (not FloatToStr) with a '.' as decimal separator.
-   @param(v Variant value to convert)
-   @param(NullValue String value to return if v is empty or null)
-   @returns(the string representation of the double value of v or the
-            NullValue if v can not be converted) }
+///<summary> Converts a variant to the string representation of a double.
+///          If v is null or empty, it returns the Default.
+///          It uses Float2Str (not FloatToStr) with a '.' as decimal separator.
+///          @param v Variant value to convert
+///          @param NullValue String value to return if v is empty or null
+///          @returns the string representation of the double value of v or the
+///                   NullValue if v can not be converted </summary>
 function Var2DblStr(const _v: variant; const _NullValue: string = '*NULL*'): string;
 
 ///<summary> tries to convert a variant to an extended
@@ -133,68 +133,65 @@
 ///          @raises EVariantConvertError if there is some other conversion error </summary>
 function Var2ExtEx(const _v: variant; const _Source: string): extended;
 
-{: Converts a variant to a TDateTime.
-   Raises an exception if v can not be converted.
-   @param(v Variant value to convert)
-   @param(Source string to include in the exception message)
-   @returns(the TDateTime value of v)
-   @raises(EVarIsNull if v is null)
-   @raises(EVarIsEmpty if v is empty)
-   @raises(EVariantConvertError if there is some other conversion error) }
+///<summary> Converts a variant to a TDateTime.
+///          Raises an exception if v can not be converted.
+///          @param v Variant value to convert
+///          @param Source string to include in the exception message
+///          @returns the TDateTime value of v
+///          @raises EVarIsNull if v is null
+///          @raises EVarIsEmpty if v is empty
+///          @raises EVariantConvertError if there is some other conversion error </summary>
 function Var2DateTimeEx(const _v: variant; const _Source: string): TDateTime;
 
 function TryVar2DateTime(const _v: Variant; out _dt: TDateTime): boolean;
 
-{: Converts a variant to an ISO format DateTime string (yyyy-mm-dd hh:mm:ss)
-   @param(v Variant value to convert)
-   @param(NullValue String value to return if v is empty or null)
-   @returns(an ISO format DateTime string of v or NullValue if v can not be converted) }
+///<summary> Converts a variant to an ISO format DateTime string (yyyy-mm-dd hh:mm:ss)
+///          @param v Variant value to convert
+///          @param NullValue String value to return if v is empty or null
+///          @returns an ISO format DateTime string of v or NullValue if v can not be converted </summary>
 function Var2DateTimeStr(const _v: variant; const _NullValue: string = '*NULL*'): string;
 
-{: Converts a variant to an ISO format Date string (yyyy-mm-dd)
-   @param(v Variant value to convert)
-   @param(NullValue String value to return if v is empty or null)
-   @returns(an ISO format Date string of v or NullValue if v can not be converted) }
+///<summary> Converts a variant to an ISO format Date string (yyyy-mm-dd)
+///          @param v Variant value to convert
+///          @param NullValue String value to return if v is empty or null
+///          @returns an ISO format Date string of v or NullValue if v can not be converted </summary>
 function Var2DateStr(const _v: variant; const _NullValue: string = '*NULL*'): string;
 
-{: Converts a variant to a string
-   If v is null or empty, it returns false.
-   @param(v Variant value to convert)
-   @param(Value is the variant's string value, only valid if the function
-                returns true.)
-   @returns(true, if the variant could be converted to double, false if not) }
+///<summary> Converts a variant to a string
+///          If v is null or empty, it returns false.
+///          @param v Variant value to convert
+///          @param Value is the variant's string value, only valid if the function
+///                       returns true.
+///          @returns true, if the variant could be converted to double, false if not </summary>
 function TryVar2Str(const _v: variant; out _Value: string): boolean;
 
-{: Converts a variant to a string.
-   If v is null or empty, it returns the Default.
-   @param(v Variant value to convert)
-   @param(Default Value to return if v is empty or null)
-   @returns(the string value of v or the Default if v can not be converted) }
+///<summary> Converts a variant to a string.
+///          If v is null or empty, it returns the Default.
+///          @param v Variant value to convert
+///          @param Default Value to return if v is empty or null
+///          @returns the string value of v or the Default if v can not be converted </summary>
 function Var2Str(const _v: variant; const _Default: string = '*NULL*'): string;
 
-{: Converts a variant to a string.
-   Raises an exception if v can not be converted.
-   @param(v Variant value to convert)
-   @param(Source string to include in the exception message)
-   @returns(the string value of v)
-   @raises(EVarIsNull if v is null)
-   @raises(EVarIsEmpty if v is empty)
-   @raises(EVariantConvertError if there is some other conversion error) }
+///<summary> Converts a variant to a string.
+///          Raises an exception if v can not be converted.
+///          @param v Variant value to convert
+///          @param Source string to include in the exception message
+///          @returns the string value of v
+///          @raises EVarIsNull if v is null
+///          @raises EVarIsEmpty if v is empty
+///          @raises EVariantConvertError if there is some other conversion error </summary>
 function Var2StrEx(_v: variant; const _Source: string): string;
 
 implementation
 
 uses
+  u_dzTranslator,
   u_dzConvertUtils;
 
-resourcestring
-  // Variant ist Null, sollte %s sein: %s
-  STR_VARIANT_IS_NULL_SHOULD_BE_SS = 'Variant is Null, should be %s: %s';
-  // Variant ist Empty, sollte %s sein: %s
-  STR_VARIANT_IS_EMPTY_SHOULD_BE_SS = 'Variant is Empty, should be %s: %s';
-  // Variant kann nicht nach %s konvertiert werden: %s
-  STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S = 'Variant can not be converted to %s';
-  STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS = 'Variant can not be converted to %s: %s';
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
 
 function toString(_v: OleVariant): string;
 var
@@ -280,16 +277,18 @@
 end;
 
 function Var2IntEx(const _v: variant; const _Source: string): integer;
+const
+  EXPECTED = 'Integer'; // do not translate
 begin
   if VarIsNull(_v) then
-    raise EVarIsNull.CreateFmt(STR_VARIANT_IS_NULL_SHOULD_BE_SS, ['Integer', _Source]); // do not translate
+    raise EVarIsNull.CreateFmt(_('Variant is Null, should be %s: %s'), [EXPECTED, _Source]);
   if VarIsEmpty(_v) then
-    raise EVarIsEmpty.CreateFmt(STR_VARIANT_IS_EMPTY_SHOULD_BE_SS, ['Integer', _Source]); // do not translate
+    raise EVarIsEmpty.CreateFmt(_('Variant is Empty, should be %s: %s'), [EXPECTED, _Source]);
   try
     Result := _v;
   except
     on e: EVariantError do
-      raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS, ['Integer', _Source]); // do not translate
+      raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s: %s'), [EXPECTED, _Source]);
   end;
 end;
 
@@ -307,16 +306,18 @@
 end;
 
 function Var2BoolEx(const _v: variant; const _Source: string): boolean;
+const
+  EXPECTED = 'Boolean'; // do not translate
 begin
   if VarIsNull(_v) then
-    raise EVarIsNull.CreateFmt(STR_VARIANT_IS_NULL_SHOULD_BE_SS, ['Boolean', _Source]); // do not translate
+    raise EVarIsNull.CreateFmt(_('Variant is Null, should be %s: %s'), [EXPECTED, _Source]);
   if VarIsEmpty(_v) then
-    raise EVarIsEmpty.CreateFmt(STR_VARIANT_IS_EMPTY_SHOULD_BE_SS, ['Boolean', _Source]); // do not translate
+    raise EVarIsEmpty.CreateFmt(_('Variant is Empty, should be %s: %s'), [EXPECTED, _Source]);
   try
     Result := _v;
   except
     on e: EVariantError do
-      raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS, ['Boolean', _Source]); // do not translate
+      raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s: %s'), [EXPECTED, _Source]);
   end;
 end;
 
@@ -331,16 +332,18 @@
 end;
 
 function Var2DateTimeEx(const _v: variant; const _Source: string): TDateTime;
+const
+  EXPECTED = 'Date'; // do not translate
 begin
   if VarIsNull(_v) then
-    raise EVarIsNull.CreateFmt(STR_VARIANT_IS_NULL_SHOULD_BE_SS, ['Date', _Source]); // do not translate
+    raise EVarIsNull.CreateFmt(_('Variant is Null, should be %s: %s'), [EXPECTED, _Source]);
   if VarIsEmpty(_v) then
-    raise EVarIsEmpty.CreateFmt(STR_VARIANT_IS_EMPTY_SHOULD_BE_SS, ['Date', _Source]); // do not translate
+    raise EVarIsEmpty.CreateFmt(_('Variant is Empty, should be %s: %s'), [EXPECTED, _Source]);
   try
     Result := _v;
   except
     on e: EVariantError do
-      raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS, ['Date', _Source]); // do not translate
+      raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s: %s'), [EXPECTED, _Source]);
   end;
 end;
 
@@ -383,7 +386,7 @@
 
 function TryVar2Dbl(const _v: variant; out _Value: double): boolean;
 const
-  EXPECTED = 'double';
+  EXPECTED = 'double'; // do not translate
 begin
   Result := not VarIsNull(_v) and not VarIsEmpty(_v);
   if Result then
@@ -391,13 +394,13 @@
       _Value := _v;
     except
       on e: EVariantError do
-        raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S, [EXPECTED]); // do not translate
+        raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s'), [EXPECTED]);
     end;
 end;
 
 function TryVar2Ext(const _v: variant; out _Value: extended): boolean;
 const
-  EXPECTED = 'extended';
+  EXPECTED = 'extended'; // do not translate
 begin
   Result := not VarIsNull(_v) and not VarIsEmpty(_v);
   if Result then
@@ -405,7 +408,7 @@
       _Value := _v;
     except
       on e: EVariantError do
-        raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S, [EXPECTED]); // do not translate
+        raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s'), [EXPECTED]);
     end;
 end;
 
@@ -417,33 +420,33 @@
 
 function Var2DblEx(const _v: variant; const _Source: string): double;
 const
-  EXPECTED = 'double';
+  EXPECTED = 'double'; // do not translate
 begin
   if VarIsNull(_v) then
-    raise EVarIsNull.CreateFmt(STR_VARIANT_IS_NULL_SHOULD_BE_SS, [EXPECTED, _Source]); // do not translate
+    raise EVarIsNull.CreateFmt(_('Variant is Null, should be %s: %s'), [EXPECTED, _Source]);
   if VarIsEmpty(_v) then
-    raise EVarIsEmpty.CreateFmt(STR_VARIANT_IS_EMPTY_SHOULD_BE_SS, [EXPECTED, _Source]); // do not translate
+    raise EVarIsEmpty.CreateFmt(_('Variant is Empty, should be %s: %s'), [EXPECTED, _Source]);
   try
     Result := _v;
   except
     on e: EVariantError do
-      raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS, [EXPECTED, _Source]); // do not translate
+      raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s: %s'), [EXPECTED, _Source]);
   end;
 end;
 
 function Var2ExtEx(const _v: variant; const _Source: string): extended;
 const
-  EXPECTED = 'extended';
+  EXPECTED = 'extended'; // do not translate
 begin
   if VarIsNull(_v) then
-    raise EVarIsNull.CreateFmt(STR_VARIANT_IS_NULL_SHOULD_BE_SS, [EXPECTED, _Source]); // do not translate
+    raise EVarIsNull.CreateFmt(_('Variant is Null, should be %s: %s'), [EXPECTED, _Source]);
   if VarIsEmpty(_v) then
-    raise EVarIsEmpty.CreateFmt(STR_VARIANT_IS_EMPTY_SHOULD_BE_SS, [EXPECTED, _Source]); // do not translate
+    raise EVarIsEmpty.CreateFmt(_('Variant is Empty, should be %s: %s'), [EXPECTED, _Source]);
   try
     Result := _v;
   except
     on e: EVariantError do
-      raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS, [EXPECTED, _Source]); // do not translate
+      raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s: %s'), [EXPECTED, _Source]);
   end;
 end;
 
@@ -458,6 +461,8 @@
 end;
 
 function TryVar2Str(const _v: variant; out _Value: string): boolean;
+const
+  EXPECTED = 'String'; // do not translate
 begin
   Result := not VarIsNull(_v) and not VarIsEmpty(_v);
   if Result then
@@ -465,7 +470,7 @@
       _Value := _v;
     except
       on e: EVariantError do
-        raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S, ['String']); // do not translate
+        raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s'), [EXPECTED]);
     end;
 end;
 
@@ -476,16 +481,18 @@
 end;
 
 function Var2StrEx(_v: variant; const _Source: string): string;
+const
+  EXPECTED = 'string'; // do not translate
 begin
   if VarIsNull(_v) then
-    raise EVarIsNull.CreateFmt(STR_VARIANT_IS_NULL_SHOULD_BE_SS, ['String', _Source]); // do not translate
+    raise EVarIsNull.CreateFmt(_('Variant is Null, should be %s: %s'), [EXPECTED, _Source]);
   if VarIsEmpty(_v) then
-    raise EVarIsEmpty.CreateFmt(STR_VARIANT_IS_EMPTY_SHOULD_BE_SS, ['String', _Source]); // do not translate
+    raise EVarIsEmpty.CreateFmt(_('Variant is Empty, should be %s: %s'), [EXPECTED, _Source]);
   try
     Result := _v;
   except
     on e: EVariantError do
-      raise EVariantConvertError.CreateFmt(STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS, ['String', _Source]); // do not translate
+      raise EVariantConvertError.CreateFmt(_('Variant can not be converted to %s: %s'), [EXPECTED, _Source]);
   end;
 end;
 

Modified: utilities/dzLib/trunk/translations/de/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 10:03:06 UTC (rev 293)
+++ utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 10:19:01 UTC (rev 294)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 02:32\n"
+"POT-Creation-Date: 2008-09-04 03:15\n"
 "PO-Revision-Date: 2008-09-04 02:42-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
@@ -17,198 +17,198 @@
 "X-Poedit-Language: German\n"
 "X-Poedit-Country: GERMANY\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150
+#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
+#: u_dzClassUtils.pas:150 
 msgid "no matching object found"
 msgstr "kein passendes Objekt gefunden"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113 
 msgid "Invalid character \"%s\"."
 msgstr "Ung?ltiges Zeichen \"%s\""
 
-#: u_dzConvertUtils.pas:367
+#: u_dzConvertUtils.pas:367 
 msgid "Digit out of range %s"
 msgstr "ung?ltige Ziffer %s"
 
-#: u_dzConvertUtils.pas:380
+#: u_dzConvertUtils.pas:380 
 msgid "Digit #%d (%s) out of range"
 msgstr "Ung?ltige Ziffer #%d (%s)"
 
-#: u_dzConvertUtils.pas:582
+#: u_dzConvertUtils.pas:582 
 msgid "\"%s\" is not a valid integer value: %s"
 msgstr "\"%s\" ist kein g?ltiger Integerwert: %s"
 
-#: u_dzConvertUtils.pas:600
+#: u_dzConvertUtils.pas:600 
 msgid "\"%s\" is not a valid Int64 value: %s"
 msgstr "\"%s\" ist kein g?ltiger Int64 Wert: %s"
 
-#: u_dzConvertUtils.pas:671
+#: u_dzConvertUtils.pas:671 
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" ist kein g?ltiger Flie?kommawert: %s"
 
-#: u_dzConvertUtils.pas:677
+#: u_dzConvertUtils.pas:677 
 msgid "%.2f EiB"
 msgstr "%.2f EiB"
 
-#: u_dzConvertUtils.pas:679
+#: u_dzConvertUtils.pas:679 
 msgid "%.2f PiB"
 msgstr "%.2f PiB"
 
-#: u_dzConvertUtils.pas:681
+#: u_dzConvertUtils.pas:681 
 msgid "%.2f TiB"
 msgstr "%.2f TiB"
 
-#: u_dzConvertUtils.pas:683
+#: u_dzConvertUtils.pas:683 
 msgid "%.2f GiB"
 msgstr "%.2f GiB"
 
-#: u_dzConvertUtils.pas:685
+#: u_dzConvertUtils.pas:685 
 msgid "%.2f MiB"
 msgstr "%.2f MiB"
 
-#: u_dzConvertUtils.pas:687
+#: u_dzConvertUtils.pas:687 
 msgid "%.2f KiB"
 msgstr "%.2f KiB"
 
-#: u_dzConvertUtils.pas:689
+#: u_dzConvertUtils.pas:689 
 msgid "%d Bytes"
 msgstr "%d Bytes"
 
-#. Days and hours, ignore minutes and seconds
-#: u_dzConvertUtils.pas:696
+#. Days and hours, ignore minutes and seconds
+#: u_dzConvertUtils.pas:696 
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Hours and minutes, ignore seconds
-#: u_dzConvertUtils.pas:699
+#. Hours and minutes, ignore seconds
+#: u_dzConvertUtils.pas:699 
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Minutes and seconds
-#: u_dzConvertUtils.pas:702
+#. Minutes and seconds
+#: u_dzConvertUtils.pas:702 
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Seconds only
-#: u_dzConvertUtils.pas:705
+#. Seconds only
+#: u_dzConvertUtils.pas:705 
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76
+#. Programmer's name for it: RS_Monday
+#: u_dzDateUtils.pas:76 
 msgid "Monday"
 msgstr "Montag"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77
+#. Programmer's name for it: RS_Tuesday
+#: u_dzDateUtils.pas:77 
 msgid "Tuesday"
 msgstr "Dienstag"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78
+#. Programmer's name for it: RS_Wednesday
+#: u_dzDateUtils.pas:78 
 msgid "Wednesday"
 msgstr "Mittwoch"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79
+#. Programmer's name for it: RS_Thursday
+#: u_dzDateUtils.pas:79 
 msgid "Thursday"
 msgstr "Donnerstag"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80
+#. Programmer's name for it: RS_Friday
+#: u_dzDateUtils.pas:80 
 msgid "Friday"
 msgstr "Freitag"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81
+#. Programmer's name for it: RS_Saturday
+#: u_dzDateUtils.pas:81 
 msgid "Saturday"
 msgstr "Samstag"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82
+#. Programmer's name for it: RS_Sunday
+#: u_dzDateUtils.pas:82 
 msgid "Sunday"
 msgstr "Sonntag"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83
+#. Programmer's name for it: RS_January
+#: u_dzDateUtils.pas:83 
 msgid "January"
 msgstr "Januar"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84
+#. Programmer's name for it: RS_February
+#: u_dzDateUtils.pas:84 
 msgid "February"
 msgstr "Februar"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85
+#. Programmer's name for it: RS_March
+#: u_dzDateUtils.pas:85 
 msgid "March"
 msgstr "M?rz"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86
+#. Programmer's name for it: RS_April
+#: u_dzDateUtils.pas:86 
 msgid "April"
 msgstr "April"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87
+#. Programmer's name for it: RS_May
+#: u_dzDateUtils.pas:87 
 msgid "May"
 msgstr "Mai"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88
+#. Programmer's name for it: RS_June
+#: u_dzDateUtils.pas:88 
 msgid "June"
 msgstr "Juni"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89
+#. Programmer's name for it: RS_July
+#: u_dzDateUtils.pas:89 
 msgid "July"
 msgstr "Juli"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90
+#. Programmer's name for it: RS_August
+#: u_dzDateUtils.pas:90 
 msgid "August"
 msgstr "August"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91
+#. Programmer's name for it: RS_September
+#: u_dzDateUtils.pas:91 
 msgid "September"
 msgstr "September"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92
+#. Programmer's name for it: RS_October
+#: u_dzDateUtils.pas:92 
 msgid "October"
 msgstr "Oktober"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93
+#. Programmer's name for it: RS_November
+#: u_dzDateUtils.pas:93 
 msgid "November"
 msgstr "November"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94
+#. Programmer's name for it: RS_December
+#: u_dzDateUtils.pas:94 
 msgid "December"
 msgstr "Dezember"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95
+#. Programmer's name for it: RS_InvalidMonthNumber_D
+#: u_dzDateUtils.pas:95 
 msgid "Invalid month number %d"
 msgstr "Ung?ltige Monatsnummer %d"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96
+#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
+#: u_dzDateUtils.pas:96 
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Ung?ltiger Wert f?r DayOfWeek: %d"
 
-#: u_dzDefaultMain.pas:114
+#: u_dzDefaultMain.pas:114 
 msgid "Error: %s"
 msgstr "Fehler: %s"
 
-#: u_dzDllLoader.pas:159
+#: u_dzDllLoader.pas:159 
 msgid "Could not load %s."
 msgstr "Konnte %s nicht laden."
 
-#: u_dzDllLoader.pas:180
+#: u_dzDllLoader.pas:180 
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
@@ -216,21 +216,19 @@
 "Konnte Einsprungpunkt %s nicht in %s finden\n"
 "Fehler: %%d, %%s"
 
-#: u_dzDllLoader.pas:194
-#: u_dzDllLoader.pas:209
-#: u_dzDllLoader.pas:214
-#: u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
+#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
 #: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr "DLL Einsprungpunkt nicht initialisiert"
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204 
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr "Kann Executor nicht freigeben w?hrend noch ein Prozess mit Ein-/Ausgabeumleitung l?uft."
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205 
 msgid ""
 "Process has not yet been started.\n"
 "%s"
@@ -238,8 +236,8 @@
 "Prozess wurde noch nicht gestarted.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206 
 msgid ""
 "Process is still running.\n"
 "%s"
@@ -247,8 +245,8 @@
 "Prozess l?uft noch.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207 
 msgid ""
 "Process has terminated.\n"
 "%s"
@@ -256,286 +254,289 @@
 "Prozess ist beendet.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208 
 msgid "Process has not yet been started"
 msgstr "Prozess wurde noch nicht gestartet"
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209 
 msgid "StdErr was not redirected"
 msgstr "StdErr wurde nicht umgeleitet"
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210 
 msgid "StdOut was not redirected"
 msgstr "StdOut wurde nicht umgeleitet"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198 
 msgid "Cannot change filename when file is open."
 msgstr "Kann Dateinamen nicht ?ndern wenn Datei ge?ffnet ist."
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199 
 msgid "Invalid file flags"
 msgstr "Ung?ltige Dateiflags"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200 
 msgid "Invalid file attributes"
 msgstr "Ung?ltige Dateiattribute"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201 
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
+#: u_dzFileUtils.pas:696 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
+#: u_dzFileUtils.pas:697 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath (zweiter)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698
+#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
+#: u_dzFileUtils.pas:698 
 msgid "could not find a unique directory name based on \"%s\""
 msgstr "Konnte keinen eindeutigen Verzeichnisnamen basierend auf \"%s\" finden."
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699
+#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
+#: u_dzFileUtils.pas:699 
 msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) beim Aufruf von Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700
+#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
+#: u_dzFileUtils.pas:700 
 msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) beim Aufruf von Windows.GetShortPathname"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701
+#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
+#: u_dzFileUtils.pas:701 
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "Kurzer Pfad ist l?nger als MAX_PATH (%d) Zeichen"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
+#: u_dzFileUtils.pas:703 
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Fehler %%1:s (%%0:d) beim Verschieben von \"%s\" nach \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_SETREADONLY_ERROR_S
+#: u_dzFileUtils.pas:705 
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim ?ndern des Schreibschutz-Flags von \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_COPYFILE_ERROR_SS
+#: u_dzFileUtils.pas:707 
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Fehler %%1:s (%%0:d) beim Kopieren von \"%s\" nach \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_DELETEFILE_ERROR_S
+#: u_dzFileUtils.pas:709 
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim L?schen der Datei \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
+#: u_dzFileUtils.pas:711 
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim L?schen des Verzeichnisses \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712
+#. Programmer's name for it: STR_DELTREE_ERROR_S
+#: u_dzFileUtils.pas:712 
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" existiert nicht oder ist kein Verzeichnis"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_CREATEDIR_ERROR_S
+#: u_dzFileUtils.pas:714 
 msgid "Error %%1:s (%%0:d) creating directory \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim Erstellen des Verzeichnisses \"%s\""
 
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715
+#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
+#: u_dzFileUtils.pas:715 
 msgid "Error creating directory \"%s\": %s (%s)"
 msgstr "Fehler beim Erstellen des Verzeichnisses \"%s\": %s (%s)"
 
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716
+#. Programmer's name for it: RS_FILE_NOT_FOUND_S
+#: u_dzFileUtils.pas:716 
 msgid "File not found: \"%s\""
 msgstr "Datei nicht gefunden: \"%s\""
 
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718
+#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
+#: u_dzFileUtils.pas:718 
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Kombination von ResultContainsNumber und KeepOriginal ist nicht erlaubt"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236 
 msgid "unknown OS error"
 msgstr "Unbekannter Betriebssystemfehler"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237 
 msgid "unknown Registry Root Key %x"
 msgstr "unbekannter Registry Rook-Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238 
 msgid "unknown RegDataType"
 msgstr "unbekannter RegDataType"
 
-#: u_dzOsUtils.pas:130
+#: u_dzOsUtils.pas:130 
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (Code %d) beim Aufruf von Windows.GetUsername"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150 
 msgid "Error %1:s (%0:d)"
 msgstr "Fehler %1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308
+#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
 msgid "No version information available for %s"
 msgstr "Keine Versionsinfirmationen fuer %s verf?gbar"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38 
 msgid "New capacity cannot be less than current length."
 msgstr "Neue Kapazit?t kann nicht kleiner sein als aktuelle L?nge."
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:160
+#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
+#: u_dzRingBuffer.pas:161 
 msgid "Index %d out of bounds."
 msgstr "Index %d nicht im g?ltigen Bereich."
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:161
+#. Programmer's name for it: RS_BUFFER_IS_FULL
+#: u_dzRingBuffer.pas:162 
 msgid "Buffer is full"
 msgstr "Puffer ist voll"
 
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:162
+#. Programmer's name for it: RS_BUFFER_IS_EMPTY
+#: u_dzRingBuffer.pas:163 
 msgid "Buffer is empty"
 msgstr "Puffer ist leer"
 
-#: u_dzStringUtils.pas:415
+#: u_dzStringUtils.pas:415 
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0tes Wort ist nicht verf?gbar"
 
-#: u_dzStringUtils.pas:883
+#: u_dzStringUtils.pas:883 
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Kann keinen String zentrieren, der l?nger als die maximale L?nge ist."
 
-#: u_dzStringUtils.pas:972
+#: u_dzStringUtils.pas:972 
 msgid "Strings do not have a 0th character."
 msgstr "Strings haben kein 0tes Zeichen."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34
+#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
+#: u_dzTextFile.pas:34 
 msgid "Invalid file access value (%d)"
 msgstr "Ung?ltiger Dateizugriffswert (%d)"
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35
+#. Programmer's name for it: RS_ACCESSING_FILE_SS
+#: u_dzTextFile.pas:35 
 msgid "%s accessing file %s"
 msgstr "%s beim Zugriff auf Datei %s"
 
-#. Variant ist Null, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:192
+#: u_dzVariantUtils.pas:284 
 u_dzVariantUtils.pas:313
+#: u_dzVariantUtils.pas:339 u_dzVariantUtils.pas:426 u_dzVariantUtils.pas:442
+#: u_dzVariantUtils.pas:488
 msgid "Variant is Null, should be %s: %s"
 msgstr "Variant ist Null, sollte %s sein: %s"
 
-#. Variant ist Empty, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:194
+#: u_dzVariantUtils.pas:286 
 u_dzVariantUtils.pas:315
+#: u_dzVariantUtils.pas:341 u_dzVariantUtils.pas:428 u_dzVariantUtils.pas:444
+#: u_dzVariantUtils.pas:490
 msgid "Variant is Empty, should be %s: %s"
 msgstr "Variant ist leer, sollte %s sein: %s"
 
-#. Variant kann nicht nach %s konvertiert werden: %s
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
-#: u_dzVariantUtils.pas:196
+#: u_dzVariantUtils.pas:291 
 u_dzVariantUtils.pas:320
+#: u_dzVariantUtils.pas:346 u_dzVariantUtils.pas:433 u_dzVariantUtils.pas:449
+#: u_dzVariantUtils.pas:495
+msgid "Variant can not be converted to %s: %s"
+msgstr "Variant kann nicht nach %s konvertiert werden: %s"
+
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:397 
 u_dzVariantUtils.pas:411
+#: u_dzVariantUtils.pas:473
 msgid "Variant can not be converted to %s"
 msgstr "Variant kann nicht nach %s konvertiert werden"
 
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
-#: u_dzVariantUtils.pas:197
-msgid "Variant can not be converted to %s: %s"
-msgstr "Variant kann nicht nach %s konvertiert werden: %s"
-
-#: u_dzVclUtils.pas:685
+#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" ist kein g?ltiger Flie?kommawert."
 
-#: u_dzVclUtils.pas:700
+#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" ist kein g?ltiger Integerwert."
 
-#: u_dzVclUtils.pas:1090
+#: u_dzVclUtils.pas:1090 
 msgid "No item selected in combobox"
 msgstr "Kein Eintrag der Combobox ausgew?hlt"
 
-#: u_dzVclUtils.pas:1109
+#: u_dzVclUtils.pas:1109 
 msgid "No item selected in listbox"
 msgstr "Kein Eintrag der Listbox ausgew?hlt"
 
-#: u_dzVclUtils.pas:1541
+#: u_dzVclUtils.pas:1541 
 msgid "JPEG Files"
 msgstr "JPEG Dateien"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6 
 msgid "Progress"
 msgstr "Fortschritt"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24 
 msgid "Action"
 msgstr "Aktion"
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41 
 msgid "Abort"
 msgstr "Abbrechen"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#. f_dzWizardForm..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
 #: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr "&Weiter >"
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
 #: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Abbrechen"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#. f_dzWizardForm..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
 #: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr "< &Zur?ck"
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:327 
 msgid "Invalid modal result %d."
 msgstr "Ung?ltiger modaler R?ckgabewert %d."
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:501 
 msgid "Do not show again."
 msgstr "Nicht nochmal anzeigen."
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:582 
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -543,67 +544,68 @@
 "Es ist ein Fehler aufgetreten:\n"
 "%s"
 
-#. 400;
-#: w_dzDialog.pas:606
+#. 400;
+#: w_dzDialog.pas:606 
 msgid "Additional information:"
 msgstr "Erweiterte Informationen:"
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:781 
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83 
 msgid "Do you really want to abort?"
 msgstr "Wollen Sie wirklich abbrechen?"
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85 
 msgid "Progress (%d%%)"
 msgstr "Fortschritt (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87 
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89 
 msgid "must not contain a % at the end"
 msgstr "darf am Ende kein % enthalten"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91 
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" muss von \"d\" or \"%\" gefolgt werden."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93 
 msgid "too many parameters"
 msgstr "Zuviele Parameter"
 
-#: w_dzWizard.pas:342
+#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
 msgid "&Finish"
 msgstr "&Beenden"
 
-#: w_dzWizard.pas:478
+#: w_dzWizard.pas:478 
 msgid "Already on first page."
 msgstr "Bereits auf erster Seite."
 
 #~ msgid "unknown Win32 error"
 #~ msgstr "Unbekannter Windows Fehler"
+
 #~ msgid "Synopsis: %s %s"
 #~ msgstr "Aufruf: %s %s"
+
 #~ msgid "Options:"
 #~ msgstr "Optionen:"
-

Modified: utilities/dzLib/trunk/translations/en/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 10:03:06 UTC (rev 293)
+++ utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 10:19:01 UTC (rev 294)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 02:32\n"
+"POT-Creation-Date: 2008-09-04 03:15\n"
 "PO-Revision-Date: 2008-09-04 02:43-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
@@ -17,198 +17,198 @@
 "X-Poedit-Language: English\n"
 "X-Poedit-Country: UNITED STATES\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150
+#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
+#: u_dzClassUtils.pas:150 
 msgid "no matching object found"
 msgstr "no matching object found"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113 
 msgid "Invalid character \"%s\"."
 msgstr "Invalid character \"%s\"."
 
-#: u_dzConvertUtils.pas:367
+#: u_dzConvertUtils.pas:367 
 msgid "Digit out of range %s"
 msgstr "Digit out of range %s"
 
-#: u_dzConvertUtils.pas:380
+#: u_dzConvertUtils.pas:380 
 msgid "Digit #%d (%s) out of range"
 msgstr "Digit #%d (%s) out of range"
 
-#: u_dzConvertUtils.pas:582
+#: u_dzConvertUtils.pas:582 
 msgid "\"%s\" is not a valid integer value: %s"
 msgstr "\"%s\" is not a valid integer value: %s"
 
-#: u_dzConvertUtils.pas:600
+#: u_dzConvertUtils.pas:600 
 msgid "\"%s\" is not a valid Int64 value: %s"
 msgstr "\"%s\" is not a valid Int64 value: %s"
 
-#: u_dzConvertUtils.pas:671
+#: u_dzConvertUtils.pas:671 
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" is not a valid floating point value: %s"
 
-#: u_dzConvertUtils.pas:677
+#: u_dzConvertUtils.pas:677 
 msgid "%.2f EiB"
 msgstr "%.2f EiB"
 
-#: u_dzConvertUtils.pas:679
+#: u_dzConvertUtils.pas:679 
 msgid "%.2f PiB"
 msgstr "%.2f PiB"
 
-#: u_dzConvertUtils.pas:681
+#: u_dzConvertUtils.pas:681 
 msgid "%.2f TiB"
 msgstr "%.2f TiB"
 
-#: u_dzConvertUtils.pas:683
+#: u_dzConvertUtils.pas:683 
 msgid "%.2f GiB"
 msgstr "%.2f GiB"
 
-#: u_dzConvertUtils.pas:685
+#: u_dzConvertUtils.pas:685 
 msgid "%.2f MiB"
 msgstr "%.2f MiB"
 
-#: u_dzConvertUtils.pas:687
+#: u_dzConvertUtils.pas:687 
 msgid "%.2f KiB"
 msgstr "%.2f KiB"
 
-#: u_dzConvertUtils.pas:689
+#: u_dzConvertUtils.pas:689 
 msgid "%d Bytes"
 msgstr "%d Bytes"
 
-#. Days and hours, ignore minutes and seconds
-#: u_dzConvertUtils.pas:696
+#. Days and hours, ignore minutes and seconds
+#: u_dzConvertUtils.pas:696 
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Hours and minutes, ignore seconds
-#: u_dzConvertUtils.pas:699
+#. Hours and minutes, ignore seconds
+#: u_dzConvertUtils.pas:699 
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Minutes and seconds
-#: u_dzConvertUtils.pas:702
+#. Minutes and seconds
+#: u_dzConvertUtils.pas:702 
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Seconds only
-#: u_dzConvertUtils.pas:705
+#. Seconds only
+#: u_dzConvertUtils.pas:705 
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76
+#. Programmer's name for it: RS_Monday
+#: u_dzDateUtils.pas:76 
 msgid "Monday"
 msgstr "Monday"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77
+#. Programmer's name for it: RS_Tuesday
+#: u_dzDateUtils.pas:77 
 msgid "Tuesday"
 msgstr "Tuesday"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78
+#. Programmer's name for it: RS_Wednesday
+#: u_dzDateUtils.pas:78 
 msgid "Wednesday"
 msgstr "Wednesday"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79
+#. Programmer's name for it: RS_Thursday
+#: u_dzDateUtils.pas:79 
 msgid "Thursday"
 msgstr "Thursday"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80
+#. Programmer's name for it: RS_Friday
+#: u_dzDateUtils.pas:80 
 msgid "Friday"
 msgstr "Friday"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81
+#. Programmer's name for it: RS_Saturday
+#: u_dzDateUtils.pas:81 
 msgid "Saturday"
 msgstr "Saturday"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82
+#. Programmer's name for it: RS_Sunday
+#: u_dzDateUtils.pas:82 
 msgid "Sunday"
 msgstr "Sunday"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83
+#. Programmer's name for it: RS_January
+#: u_dzDateUtils.pas:83 
 msgid "January"
 msgstr "January"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84
+#. Programmer's name for it: RS_February
+#: u_dzDateUtils.pas:84 
 msgid "February"
 msgstr "February"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85
+#. Programmer's name for it: RS_March
+#: u_dzDateUtils.pas:85 
 msgid "March"
 msgstr "March"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86
+#. Programmer's name for it: RS_April
+#: u_dzDateUtils.pas:86 
 msgid "April"
 msgstr "April"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87
+#. Programmer's name for it: RS_May
+#: u_dzDateUtils.pas:87 
 msgid "May"
 msgstr "May"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88
+#. Programmer's name for it: RS_June
+#: u_dzDateUtils.pas:88 
 msgid "June"
 msgstr "June"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89
+#. Programmer's name for it: RS_July
+#: u_dzDateUtils.pas:89 
 msgid "July"
 msgstr "July"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90
+#. Programmer's name for it: RS_August
+#: u_dzDateUtils.pas:90 
 msgid "August"
 msgstr "August"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91
+#. Programmer's name for it: RS_September
+#: u_dzDateUtils.pas:91 
 msgid "September"
 msgstr "September"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92
+#. Programmer's name for it: RS_October
+#: u_dzDateUtils.pas:92 
 msgid "October"
 msgstr "October"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93
+#. Programmer's name for it: RS_November
+#: u_dzDateUtils.pas:93 
 msgid "November"
 msgstr "November"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94
+#. Programmer's name for it: RS_December
+#: u_dzDateUtils.pas:94 
 msgid "December"
 msgstr "December"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95
+#. Programmer's name for it: RS_InvalidMonthNumber_D
+#: u_dzDateUtils.pas:95 
 msgid "Invalid month number %d"
 msgstr "Invalid month number %d"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96
+#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
+#: u_dzDateUtils.pas:96 
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Invalid value for DayOfWeek: %d"
 
-#: u_dzDefaultMain.pas:114
+#: u_dzDefaultMain.pas:114 
 msgid "Error: %s"
 msgstr "Error: %s"
 
-#: u_dzDllLoader.pas:159
+#: u_dzDllLoader.pas:159 
 msgid "Could not load %s."
 msgstr "Could not load %s."
 
-#: u_dzDllLoader.pas:180
+#: u_dzDllLoader.pas:180 
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
@@ -216,21 +216,19 @@
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
 
-#: u_dzDllLoader.pas:194
-#: u_dzDllLoader.pas:209
-#: u_dzDllLoader.pas:214
-#: u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
+#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
 #: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr "DLL entry point not initialized"
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204 
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr "Can not free Executor while a process using redirection is still running."
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205 
 msgid ""
 "Process has not yet been started.\n"
 "%s"
@@ -238,8 +236,8 @@
 "Process has not yet been started.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206 
 msgid ""
 "Process is still running.\n"
 "%s"
@@ -247,8 +245,8 @@
 "Process is still running.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207 
 msgid ""
 "Process has terminated.\n"
 "%s"
@@ -256,286 +254,295 @@
 "Process has terminated.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208 
 msgid "Process has not yet been started"
 msgstr "Process has not yet been started"
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209 
 msgid "StdErr was not redirected"
 msgstr "StdErr was not redirected"
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210 
 msgid "StdOut was not redirected"
 msgstr "StdOut was not redirected"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198 
 msgid "Cannot change filename when file is open."
 msgstr "Cannot change filename when file is open."
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199 
 msgid "Invalid file flags"
 msgstr "Invalid file flags"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200 
 msgid "Invalid file attributes"
 msgstr "Invalid file attributes"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201 
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
+#: u_dzFileUtils.pas:696 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
+#: u_dzFileUtils.pas:697 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698
+#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
+#: u_dzFileUtils.pas:698 
 msgid "could not find a unique directory name based on \"%s\""
 msgstr "could not find a unique directory name based on \"%s\""
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699
+#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
+#: u_dzFileUtils.pas:699 
 msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700
+#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
+#: u_dzFileUtils.pas:700 
 msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701
+#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
+#: u_dzFileUtils.pas:701 
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "Short pathname is longer than MAX_PATH (%d) characters"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
+#: u_dzFileUtils.pas:703 
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_SETREADONLY_ERROR_S
+#: u_dzFileUtils.pas:705 
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_COPYFILE_ERROR_SS
+#: u_dzFileUtils.pas:707 
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_DELETEFILE_ERROR_S
+#: u_dzFileUtils.pas:709 
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Error %%1:s (%%0:d) deleting file \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
+#: u_dzFileUtils.pas:711 
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Error %%1:s (%%0:d) deleting directory \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712
+#. Programmer's name for it: STR_DELTREE_ERROR_S
+#: u_dzFileUtils.pas:712 
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" does not exist or is not a directory"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_CREATEDIR_ERROR_S
+#: u_dzFileUtils.pas:714 
 msgid "Error %%1:s (%%0:d) creating directory \"%s\""
 msgstr "Error %%1:s (%%0:d) creating directory \"%s\""
 
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715
+#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
+#: u_dzFileUtils.pas:715 
 msgid "Error creating directory \"%s\": %s (%s)"
 msgstr "Error creating directory \"%s\": %s (%s)"
 
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716
+#. Programmer's name for it: RS_FILE_NOT_FOUND_S
+#: u_dzFileUtils.pas:716 
 msgid "File not found: \"%s\""
 msgstr "File not found: \"%s\""
 
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718
+#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
+#: u_dzFileUtils.pas:718 
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236 
 msgid "unknown OS error"
 msgstr "unknown OS error"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237 
 msgid "unknown Registry Root Key %x"
 msgstr "unknown Registry Root Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238 
 msgid "unknown RegDataType"
 msgstr "unknown RegDataType"
 
-#: u_dzOsUtils.pas:130
+#: u_dzOsUtils.pas:130 
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (code %d) calling Windows.GetUsername"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150 
 msgid "Error %1:s (%0:d)"
 msgstr "Error %1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308
+#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
 msgid "No version information available for %s"
 msgstr "No version information available for %s"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38 
 msgid "New capacity cannot be less than current length."
 msgstr "New capacity cannot be less than current length."
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:160
+#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
+#: u_dzRingBuffer.pas:161 
 msgid "Index %d out of bounds."
 msgstr "Index %d out of bounds."
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:161
+#. Programmer's name for it: RS_BUFFER_IS_FULL
+#: u_dzRingBuffer.pas:162 
 msgid "Buffer is full"
 msgstr "Buffer is full"
 
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:162
+#. Programmer's name for it: RS_BUFFER_IS_EMPTY
+#: u_dzRingBuffer.pas:163 
 msgid "Buffer is empty"
 msgstr "Buffer is empty"
 
-#: u_dzStringUtils.pas:415
+#: u_dzStringUtils.pas:415 
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0th word not available"
 
-#: u_dzStringUtils.pas:883
+#: u_dzStringUtils.pas:883 
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Cannot center string that is larger than the maximum length."
 
-#: u_dzStringUtils.pas:972
+#: u_dzStringUtils.pas:972 
 msgid "Strings do not have a 0th character."
 msgstr "Strings do not have a 0th character."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34
+#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
+#: u_dzTextFile.pas:34 
 msgid "Invalid file access value (%d)"
 msgstr "Invalid file access value (%d)"
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35
+#. Programmer's name for it: RS_ACCESSING_FILE_SS
+#: u_dzTextFile.pas:35 
 msgid "%s accessing file %s"
 msgstr "%s accessing file %s"
 
-#. Variant ist Null, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:192
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:284 
 u_dzVariantUtils.pas:313
+#: u_dzVariantUtils.pas:339 u_dzVariantUtils.pas:426 u_dzVariantUtils.pas:442
+#: u_dzVariantUtils.pas:488
 msgid "Variant is Null, should be %s: %s"
 msgstr "Variant is Null, should be %s: %s"
 
-#. Variant ist Empty, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:194
+#: u_dzVariantUtils.pas:286 
 u_dzVariantUtils.pas:315
+#: u_dzVariantUtils.pas:341 u_dzVariantUtils.pas:428 u_dzVariantUtils.pas:444
+#: u_dzVariantUtils.pas:490
 msgid "Variant is Empty, should be %s: %s"
 msgstr "Variant is Empty, should be %s: %s"
 
-#. Variant kann nicht nach %s konvertiert werden: %s
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
-#: u_dzVariantUtils.pas:196
+#: u_dzVariantUtils.pas:291 
 u_dzVariantUtils.pas:320
+#: u_dzVariantUtils.pas:346 u_dzVariantUtils.pas:433 u_dzVariantUtils.pas:449
+#: u_dzVariantUtils.pas:495
+msgid "Variant can not be converted to %s: %s"
+msgstr "Variant can not be converted to %s: %s"
+
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:397 
 u_dzVariantUtils.pas:411
+#: u_dzVariantUtils.pas:473
 msgid "Variant can not be converted to %s"
 msgstr "Variant can not be converted to %s"
 
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
-#: u_dzVariantUtils.pas:197
-msgid "Variant can not be converted to %s: %s"
-msgstr "Variant can not be converted to %s: %s"
-
-#: u_dzVclUtils.pas:685
+#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" is not a valid floating point value."
 
-#: u_dzVclUtils.pas:700
+#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" is not a valid integer value."
 
-#: u_dzVclUtils.pas:1090
+#: u_dzVclUtils.pas:1090 
 msgid "No item selected in combobox"
 msgstr "No item selected in combobox"
 
-#: u_dzVclUtils.pas:1109
+#: u_dzVclUtils.pas:1109 
 msgid "No item selected in listbox"
 msgstr "No item selected in listbox"
 
-#: u_dzVclUtils.pas:1541
+#: u_dzVclUtils.pas:1541 
 msgid "JPEG Files"
 msgstr "JPEG Files"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6 
 msgid "Progress"
 msgstr "Progress"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24 
 msgid "Action"
 msgstr "Action"
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41 
 msgid "Abort"
 msgstr "Abort"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#. f_dzWizardForm..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
 #: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr "&Next >"
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
 #: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Cancel"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#. f_dzWizardForm..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
 #: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr "< &Previous"
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:327 
 msgid "Invalid modal result %d."
 msgstr "Invalid modal result %d."
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:501 
 msgid "Do not show again."
 msgstr "Do not show again."
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:582 
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -543,60 +550,60 @@
 "An error occurred:\n"
 "%s"
 
-#. 400;
-#: w_dzDialog.pas:606
+#. 400;
+#: w_dzDialog.pas:606 
 msgid "Additional information:"
 msgstr "Additional information:"
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:781 
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83 
 msgid "Do you really want to abort?"
 msgstr "Do you really want to abort?"
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85 
 msgid "Progress (%d%%)"
 msgstr "Progress (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87 
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89 
 msgid "must not contain a % at the end"
 msgstr "must not contain a % at the end"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91 
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" must be followed by \"d\" or \"%\"."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93 
 msgid "too many parameters"
 msgstr "too many parameters"
 
-#: w_dzWizard.pas:342
+#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
 msgid "&Finish"
 msgstr "&Finish"
 
-#: w_dzWizard.pas:478
+#: w_dzWizard.pas:478 
 msgid "Already on first page."
 msgstr "Already on first page."
 
@@ -607,4 +614,3 @@
 #, fuzzy
 #~ msgid "Message of Exception (do not translate)"
 #~ msgstr "Message der Exception (do not translate)"
-

Modified: utilities/dzLib/trunk/translations/fr/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 10:03:06 UTC (rev 293)
+++ utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 10:19:01 UTC (rev 294)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 02:32\n"
+"POT-Creation-Date: 2008-09-04 03:15\n"
 "PO-Revision-Date: 2008-09-04 02:44-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
@@ -17,590 +17,596 @@
 "X-Poedit-Language: French\n"
 "X-Poedit-Country: FRANCE\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150
+#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
+#: u_dzClassUtils.pas:150 
 msgid "no matching object found"
 msgstr ""
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113 
 #, fuzzy
 msgid "Invalid character \"%s\"."
 msgstr "L'abscisse est invalide"
 
-#: u_dzConvertUtils.pas:367
+#: u_dzConvertUtils.pas:367 
 msgid "Digit out of range %s"
 msgstr "Chiffre hors d'echelle %s"
 
-#: u_dzConvertUtils.pas:380
+#: u_dzConvertUtils.pas:380 
 msgid "Digit #%d (%s) out of range"
 msgstr "Chiffre #%d (%s) hors d'echelle"
 
-#: u_dzConvertUtils.pas:582
+#: u_dzConvertUtils.pas:582 
 msgid "\"%s\" is not a valid integer value: %s"
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte: %s"
 
-#: u_dzConvertUtils.pas:600
+#: u_dzConvertUtils.pas:600 
 msgid "\"%s\" is not a valid Int64 value: %s"
 msgstr "\"%s\" n'est pas une valeur Int64 correcte: %s"
 
-#: u_dzConvertUtils.pas:671
+#: u_dzConvertUtils.pas:671 
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" n'est pas une nombre d?cimal valable: %s"
 
-#: u_dzConvertUtils.pas:677
+#: u_dzConvertUtils.pas:677 
 msgid "%.2f EiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:679
+#: u_dzConvertUtils.pas:679 
 msgid "%.2f PiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:681
+#: u_dzConvertUtils.pas:681 
 msgid "%.2f TiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:683
+#: u_dzConvertUtils.pas:683 
 msgid "%.2f GiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:685
+#: u_dzConvertUtils.pas:685 
 msgid "%.2f MiB"
 msgstr "%.2f Moctets"
 
-#: u_dzConvertUtils.pas:687
+#: u_dzConvertUtils.pas:687 
 msgid "%.2f KiB"
 msgstr "%.2f Koctets"
 
-#: u_dzConvertUtils.pas:689
+#: u_dzConvertUtils.pas:689 
 msgid "%d Bytes"
 msgstr "%d Octets"
 
-#. Days and hours, ignore minutes and seconds
-#: u_dzConvertUtils.pas:696
+#. Days and hours, ignore minutes and seconds
+#: u_dzConvertUtils.pas:696 
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Hours and minutes, ignore seconds
-#: u_dzConvertUtils.pas:699
+#. Hours and minutes, ignore seconds
+#: u_dzConvertUtils.pas:699 
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Minutes and seconds
-#: u_dzConvertUtils.pas:702
+#. Minutes and seconds
+#: u_dzConvertUtils.pas:702 
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Seconds only
-#: u_dzConvertUtils.pas:705
+#. Seconds only
+#: u_dzConvertUtils.pas:705 
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76
+#. Programmer's name for it: RS_Monday
+#: u_dzDateUtils.pas:76 
 msgid "Monday"
 msgstr "Lundi"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77
+#. Programmer's name for it: RS_Tuesday
+#: u_dzDateUtils.pas:77 
 msgid "Tuesday"
 msgstr "Mardi"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78
+#. Programmer's name for it: RS_Wednesday
+#: u_dzDateUtils.pas:78 
 msgid "Wednesday"
 msgstr "Mercredi"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79
+#. Programmer's name for it: RS_Thursday
+#: u_dzDateUtils.pas:79 
 msgid "Thursday"
 msgstr "Jeudi"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80
+#. Programmer's name for it: RS_Friday
+#: u_dzDateUtils.pas:80 
 msgid "Friday"
 msgstr "Vendredi"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81
+#. Programmer's name for it: RS_Saturday
+#: u_dzDateUtils.pas:81 
 msgid "Saturday"
 msgstr "Samedi"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82
+#. Programmer's name for it: RS_Sunday
+#: u_dzDateUtils.pas:82 
 msgid "Sunday"
 msgstr "Dimance"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83
+#. Programmer's name for it: RS_January
+#: u_dzDateUtils.pas:83 
 msgid "January"
 msgstr "Janvier"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84
+#. Programmer's name for it: RS_February
+#: u_dzDateUtils.pas:84 
 msgid "February"
 msgstr "F?vrier"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85
+#. Programmer's name for it: RS_March
+#: u_dzDateUtils.pas:85 
 msgid "March"
 msgstr "Mars"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86
+#. Programmer's name for it: RS_April
+#: u_dzDateUtils.pas:86 
 msgid "April"
 msgstr "Avril"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87
+#. Programmer's name for it: RS_May
+#: u_dzDateUtils.pas:87 
 msgid "May"
 msgstr "Mai"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88
+#. Programmer's name for it: RS_June
+#: u_dzDateUtils.pas:88 
 msgid "June"
 msgstr "Juin"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89
+#. Programmer's name for it: RS_July
+#: u_dzDateUtils.pas:89 
 msgid "July"
 msgstr "Juillet"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90
+#. Programmer's name for it: RS_August
+#: u_dzDateUtils.pas:90 
 msgid "August"
 msgstr "Ao?t"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91
+#. Programmer's name for it: RS_September
+#: u_dzDateUtils.pas:91 
 msgid "September"
 msgstr "Septembre"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92
+#. Programmer's name for it: RS_October
+#: u_dzDateUtils.pas:92 
 msgid "October"
 msgstr "Octobre"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93
+#. Programmer's name for it: RS_November
+#: u_dzDateUtils.pas:93 
 msgid "November"
 msgstr "Novembre"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94
+#. Programmer's name for it: RS_December
+#: u_dzDateUtils.pas:94 
 msgid "December"
 msgstr "D?cembre"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95
+#. Programmer's name for it: RS_InvalidMonthNumber_D
+#: u_dzDateUtils.pas:95 
 #, fuzzy
 msgid "Invalid month number %d"
 msgstr "L'abscisse est invalide"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96
+#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
+#: u_dzDateUtils.pas:96 
 #, fuzzy
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Caract?re  \"%s\" invalide dans  le champ  \"%s\""
 
-#: u_dzDefaultMain.pas:114
+#: u_dzDefaultMain.pas:114 
 msgid "Error: %s"
 msgstr "Erreur: %s"
 
-#: u_dzDllLoader.pas:159
+#: u_dzDllLoader.pas:159 
 msgid "Could not load %s."
 msgstr ""
 
-#: u_dzDllLoader.pas:180
+#: u_dzDllLoader.pas:180 
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
 msgstr ""
 
-#: u_dzDllLoader.pas:194
-#: u_dzDllLoader.pas:209
-#: u_dzDllLoader.pas:214
-#: u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
+#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
 #: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr ""
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204 
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205 
 msgid ""
 "Process has not yet been started.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206 
 msgid ""
 "Process is still running.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207 
 msgid ""
 "Process has terminated.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208 
 msgid "Process has not yet been started"
 msgstr ""
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209 
 msgid "StdErr was not redirected"
 msgstr ""
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210 
 msgid "StdOut was not redirected"
 msgstr ""
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198 
 msgid "Cannot change filename when file is open."
 msgstr ""
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199 
 #, fuzzy
 msgid "Invalid file flags"
 msgstr "Allocation du fichier de capture"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200 
 #, fuzzy
 msgid "Invalid file attributes"
 msgstr "Allocation du fichier de capture"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201 
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
+#: u_dzFileUtils.pas:696 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697
+#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
+#: u_dzFileUtils.pas:697 
 msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698
+#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
+#: u_dzFileUtils.pas:698 
 msgid "could not find a unique directory name based on \"%s\""
 msgstr "Impossible de trouver un nom de r?pertoire unique sur la base de \"%s\""
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699
+#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
+#: u_dzFileUtils.pas:699 
 msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700
+#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
+#: u_dzFileUtils.pas:700 
 msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701
+#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
+#: u_dzFileUtils.pas:701 
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "La longueur du chemin de fichier d?passe MAX_PATH (%d) caract?res "
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
+#: u_dzFileUtils.pas:703 
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Erreur %%1:s (%%0:d) lors du d?placement de \"%s\" vers \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_SETREADONLY_ERROR_S
+#: u_dzFileUtils.pas:705 
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors du changement de l'indicateur lecture seule de \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_COPYFILE_ERROR_SS
+#: u_dzFileUtils.pas:707 
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Erreur %%1:s (%%0:d) lors de la copie de \"%s\" vers \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_DELETEFILE_ERROR_S
+#: u_dzFileUtils.pas:709 
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de l'effacement du fichier \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
+#: u_dzFileUtils.pas:711 
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de l'effacement du r?pertoire \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712
+#. Programmer's name for it: STR_DELTREE_ERROR_S
+#: u_dzFileUtils.pas:712 
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" n'existe pas ou n'est pas un r?p?rtoire"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714
+#. duplicate % so they get passed through the format function
+#. Programmer's name for it: STR_CREATEDIR_ERROR_S
+#: u_dzFileUtils.pas:714 
 msgid "Error %%1:s (%%0:d) creating directory \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de la cr?ation du r?pertoire \"%s\""
 
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715
+#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
+#: u_dzFileUtils.pas:715 
 #, fuzzy
 msgid "Error creating directory \"%s\": %s (%s)"
 msgstr "Erreur Temps d?pass? dans %s"
 
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716
+#. Programmer's name for it: RS_FILE_NOT_FOUND_S
+#: u_dzFileUtils.pas:716 
 msgid "File not found: \"%s\""
 msgstr "Fichier non trouv?: \"%s\""
 
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718
+#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
+#: u_dzFileUtils.pas:718 
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr ""
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236 
 msgid "unknown OS error"
 msgstr "Erreur syst?me d'exploitation inconnue"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237 
 msgid "unknown Registry Root Key %x"
 msgstr ""
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238 
 #, fuzzy
 msgid "unknown RegDataType"
 msgstr "commande inconnue \"%s\""
 
-#: u_dzOsUtils.pas:130
+#: u_dzOsUtils.pas:130 
 #, fuzzy
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150 
 #, fuzzy
 msgid "Error %1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308
+#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
 msgid "No version information available for %s"
 msgstr ""
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38 
 msgid "New capacity cannot be less than current length."
 msgstr ""
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:160
+#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
+#: u_dzRingBuffer.pas:161 
 msgid "Index %d out of bounds."
 msgstr ""
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:161
+#. Programmer's name for it: RS_BUFFER_IS_FULL
+#: u_dzRingBuffer.pas:162 
 #, fuzzy
 msgid "Buffer is full"
 msgstr "La taille actuelle est %s"
 
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:162
+#. Programmer's name for it: RS_BUFFER_IS_EMPTY
+#: u_dzRingBuffer.pas:163 
 #, fuzzy
 msgid "Buffer is empty"
 msgstr "La taille actuelle est %s"
 
-#: u_dzStringUtils.pas:415
+#: u_dzStringUtils.pas:415 
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0iem mot n'est pas valable"
 
-#: u_dzStringUtils.pas:883
+#: u_dzStringUtils.pas:883 
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Impossible de centrer une chaine qui est plus longue que la longueur maximum."
 
-#: u_dzStringUtils.pas:972
+#: u_dzStringUtils.pas:972 
 msgid "Strings do not have a 0th character."
 msgstr "La chaine n'a pas de charat?re 0th."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34
+#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
+#: u_dzTextFile.pas:34 
 msgid "Invalid file access value (%d)"
 msgstr ""
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35
+#. Programmer's name for it: RS_ACCESSING_FILE_SS
+#: u_dzTextFile.pas:35 
 #, fuzzy
 msgid "%s accessing file %s"
 msgstr "Allocation du fichier de capture"
 
-#. Variant ist Null, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_NULL_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:192
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:284 
 u_dzVariantUtils.pas:313
+#: u_dzVariantUtils.pas:339 u_dzVariantUtils.pas:426 u_dzVariantUtils.pas:442
+#: u_dzVariantUtils.pas:488
 msgid "Variant is Null, should be %s: %s"
 msgstr "La variation est nulle, devrait ?tre %s: %s"
 
-#. Variant ist Empty, sollte %s sein: %s
-#. Programmer's name for it: STR_VARIANT_IS_EMPTY_SHOULD_BE_SS
-#: u_dzVariantUtils.pas:194
+#: u_dzVariantUtils.pas:286 
 u_dzVariantUtils.pas:315
+#: u_dzVariantUtils.pas:341 u_dzVariantUtils.pas:428 u_dzVariantUtils.pas:444
+#: u_dzVariantUtils.pas:490
 msgid "Variant is Empty, should be %s: %s"
 msgstr "La variation est vide, devrait ?tre %s: %s"
 
-#. Variant kann nicht nach %s konvertiert werden: %s
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_S
-#: u_dzVariantUtils.pas:196
+#: u_dzVariantUtils.pas:291 
 u_dzVariantUtils.pas:320
+#: u_dzVariantUtils.pas:346 u_dzVariantUtils.pas:433 u_dzVariantUtils.pas:449
+#: u_dzVariantUtils.pas:495
+msgid "Variant can not be converted to %s: %s"
+msgstr "La variation ne peut pas ?tre convertie de %s: %s"
+
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:397 
 u_dzVariantUtils.pas:411
+#: u_dzVariantUtils.pas:473
 msgid "Variant can not be converted to %s"
 msgstr "Un variant ne peut pas ?tre converti en %s"
 
-#. Programmer's name for it: STR_VARIANT_CAN_NOT_BE_CONVERTED_TO_SS
-#: u_dzVariantUtils.pas:197
-msgid "Variant can not be converted to %s: %s"
-msgstr "La variation ne peut pas ?tre convertie de %s: %s"
-
-#: u_dzVclUtils.pas:685
+#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#: u_dzVclUtils.pas:700
+#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#: u_dzVclUtils.pas:1090
+#: u_dzVclUtils.pas:1090 
 msgid "No item selected in combobox"
 msgstr ""
 
-#: u_dzVclUtils.pas:1109
+#: u_dzVclUtils.pas:1109 
 msgid "No item selected in listbox"
 msgstr ""
 
-#: u_dzVclUtils.pas:1541
+#: u_dzVclUtils.pas:1541 
 msgid "JPEG Files"
 msgstr "Fichiers JPEG"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6 
 msgid "Progress"
 msgstr "Avancement"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24 
 msgid "Action"
 msgstr ""
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41 
 msgid "Abort"
 msgstr "Annuler"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#. f_dzWizardForm..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
 #: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr ""
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
 #: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Annuler"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#. f_dzWizardForm..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
 #: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr ""
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:327 
 #, fuzzy
 msgid "Invalid modal result %d."
 msgstr "L'abscisse est invalide"
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:501 
 msgid "Do not show again."
 msgstr ""
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:582 
 #, fuzzy
 msgid ""
 "An error occurred:\n"
 "%s"
 msgstr "Erreur Temps d?pass? dans %s"
 
-#. 400;
-#: w_dzDialog.pas:606
+#. 400;
+#: w_dzDialog.pas:606 
 msgid "Additional information:"
 msgstr ""
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
 msgid "&Details >>"
 msgstr "&D?tails >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:781 
 msgid "&Details <<"
 msgstr "&D?tails <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83 
 msgid "Do you really want to abort?"
 msgstr ""
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85 
 msgid "Progress (%d%%)"
 msgstr "Avancement (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87 
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr ""
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89 
 msgid "must not contain a % at the end"
 msgstr ""
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91 
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr ""
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93 
 msgid "too many parameters"
 msgstr ""
 
-#: w_dzWizard.pas:342
+#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
 msgid "&Finish"
 msgstr ""
 
-#: w_dzWizard.pas:478
+#: w_dzWizard.pas:478 
 msgid "Already on first page."
 msgstr ""
-



From twm at mail.berlios.de  Thu Sep  4 12:20:03 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:20:03 +0200
Subject: [Dzchart-svncheckins] r295 - utilities/dzLib/trunk/src
Message-ID: <200809041020.m84AK3NQ023315@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:20:02 +0200 (Thu, 04 Sep 2008)
New Revision: 295

Modified:
   utilities/dzLib/trunk/src/u_dzUnitTestUtils.pas
Log:
'no' -> 'no.'

Modified: utilities/dzLib/trunk/src/u_dzUnitTestUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzUnitTestUtils.pas	2008-09-04 10:19:01 UTC (rev 294)
+++ utilities/dzLib/trunk/src/u_dzUnitTestUtils.pas	2008-09-04 10:20:02 UTC (rev 295)
@@ -162,7 +162,7 @@
     ActStrings := TStringList.Create;
     ExpStrings.Text := _Expected;
     ActStrings.Text := _Actual;
-    CheckEquals(ExpStrings.Count, ActStrings.Count, _Message + ' (no of lines does not match)');
+    CheckEquals(ExpStrings.Count, ActStrings.Count, _Message + ' (no. of lines does not match)');
     for i := 0 to ExpStrings.Count - 1 do
       CheckEquals(ExpStrings[i], ActStrings[i], _Message + Format(' (line %d does not match)', [i]));
   finally



From twm at mail.berlios.de  Thu Sep  4 12:21:52 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:21:52 +0200
Subject: [Dzchart-svncheckins] r296 - utilities/dzLib/trunk/src
Message-ID: <200809041021.m84ALqrO023470@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:21:48 +0200 (Thu, 04 Sep 2008)
New Revision: 296

Modified:
   utilities/dzLib/trunk/src/u_dzTextFile.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzTextFile.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzTextFile.pas	2008-09-04 10:20:02 UTC (rev 295)
+++ utilities/dzLib/trunk/src/u_dzTextFile.pas	2008-09-04 10:21:48 UTC (rev 296)
@@ -30,12 +30,16 @@
 
 implementation
 
-resourcestring
-  RS_INVALID_FILE_ACCES_VALUE_D = 'Invalid file access value (%d)';
-  RS_ACCESSING_FILE_SS = '%s accessing file %s';
-  
+uses
+  u_dzTranslator;
+
 { TTextFile }
 
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
+
 constructor TTextFile.Create(const _Filename: string; _Access: TTextFileAccess);
 var
   EInOut: EInOutError;
@@ -49,11 +53,11 @@
       tfaWrite: Rewrite(FFile);
       tfaAppend: Append(FFile);
     else
-      raise Exception.CreateFmt(RS_INVALID_FILE_ACCES_VALUE_D, [Ord(_Access)]);
+      raise Exception.CreateFmt(_('Invalid file access value (%d)'), [Ord(_Access)]);
     end;
   except
     on e: EInOutError do begin
-      EInOut := EInOutError.CreateFmt(RS_ACCESSING_FILE_SS, [e.Message, _Filename]);
+      EInOut := EInOutError.CreateFmt(_('%s accessing file %s'), [e.Message, _Filename]);
       EInOut.ErrorCode := e.ErrorCode;
       raise EInOut;
     end;



From twm at mail.berlios.de  Thu Sep  4 12:25:53 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:25:53 +0200
Subject: [Dzchart-svncheckins] r297 - utilities/dzLib/trunk/src
Message-ID: <200809041025.m84APrfj023683@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:25:53 +0200 (Thu, 04 Sep 2008)
New Revision: 297

Modified:
   utilities/dzLib/trunk/src/u_dzShellApiUtils.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzShellApiUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzShellApiUtils.pas	2008-09-04 10:21:48 UTC (rev 296)
+++ utilities/dzLib/trunk/src/u_dzShellApiUtils.pas	2008-09-04 10:25:53 UTC (rev 297)
@@ -1,5 +1,5 @@
 {.GXFormatter.config=twm}
-{: implements an object with utility functions regarding the ShellAPI }
+///<summary> implements an object with utility functions regarding the ShellAPI </summary>
 unit u_dzShellApiUtils;
 
 {$i jedi.inc}
@@ -25,28 +25,28 @@
   TSHGetFolderPath = function(hwnd: HWND; csidl: Integer; hToken: THandle; dwFlags: DWORD; pszPath: PChar): HResult; Stdcall;
 
 type
-  {: TWindowsShell is a wrapper object for several ShellApi functions }
+  ///<summary> TWindowsShell is a wrapper object for several ShellApi functions </summary>
   TWindowsShell = class
   private
     function LoadSHFolder(var SHGetFolderPath: TSHGetFolderPath): Integer;
   protected
-    fAppHandle: THandle;
+    FAppHandle: THandle;
     function GetSpecialFolder(_CSIDL: integer): string;
   public
-    {: Creates a TWindowsShell object,
-       @param ApplicationHandle is the application's handle (Application.Handle) }
+    ///<summary> Creates a TWindowsShell object,
+    ///   @param ApplicationHandle is the application's handle (Application.Handle) </summary>
     constructor Create(_ApplicationHandle: THandle = 0);
     destructor Destroy; override;
-    {: returns the path to the 'My Documents' folder }
+    ///<summary> returns the path to the 'My Documents' folder </summary>
     function GetMyDocuments: string;
     class function GetMyDocumentsDir(_ApplicationHandle: THandle = 0): string;
-    {: returns the path of the 'My Pictures' folder }
+    ///<summary> returns the path of the 'My Pictures' folder </summary>
     function GetMyPictures: string;
     class function GetMyPicturesDir(_ApplicationHandle: THandle = 0): string;
-    {: returns the 'common files' folder }
+    ///<summary> returns the 'common files' folder </summary>
     function GetCommonFiles: string;
     class function GetCommonFilesDir(_ApplicationHandle: THandle = 0): string;
-    {: returngs the 'program files' folder }
+    ///<summary> returngs the 'program files' folder </summary>
     function GetProgramFiles: string;
     class function GetProgramFilesDir(_ApplicationHandle: THandle = 0): string;
 
@@ -114,9 +114,9 @@
 begin
   inherited Create;
   if _ApplicationHandle = 0 then
-    fAppHandle := Application.Handle
+    FAppHandle := Application.Handle
   else
-    fAppHandle := _ApplicationHandle;
+    FAppHandle := _ApplicationHandle;
 end;
 
 destructor TWindowsShell.Destroy;



From twm at mail.berlios.de  Thu Sep  4 12:35:17 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:35:17 +0200
Subject: [Dzchart-svncheckins] r298 - utilities/dzLib/trunk/src
Message-ID: <200809041035.m84AZHMB029848@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:35:11 +0200 (Thu, 04 Sep 2008)
New Revision: 298

Modified:
   utilities/dzLib/trunk/src/u_dzRingBuffer.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzRingBuffer.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzRingBuffer.pas	2008-09-04 10:25:53 UTC (rev 297)
+++ utilities/dzLib/trunk/src/u_dzRingBuffer.pas	2008-09-04 10:35:11 UTC (rev 298)
@@ -17,168 +17,173 @@
 type
   TdzCustomRingBuffer = class
   protected
-    {: size of one element stored in this buffer }
-    fElementSize: integer;
-    {: length of the buffer }
-    fLength: integer;
-    {: pointer to a memory block that stores the buffer }
-    fBuffer: PByte;
-    {: position of the first element stored in the buffer,
-       if fFirstUsed = fFirstFree the buffer is empty }
-    fFirstUsed: integer;
-    {: position of the next element bo be stored in the buffer
-       if fFirstUsed = fFirstFree the buffer is empty }
-    fFirstFree: integer;
-    {: number of elements stored in the buffer }
-    fElementCount: integer;
-    {: is called by the destructor to do any finalization that might be
-       necessary for the elements stored in the buffer. Does nothing here. }
+    ///<summary> size of one element stored in this buffer </summary>
+    FElementSize: integer;
+    ///<summary> length of the buffer </summary>
+    FLength: integer;
+    ///<summary> pointer to a memory block that stores the buffer </summary>
+    FBuffer: PByte;
+    ///<summary> position of the first element stored in the buffer,
+    ///          if fFirstUsed = fFirstFree the buffer is empty </summary>
+    FFirstUsed: integer;
+    ///<summary> position of the next element bo be stored in the buffer
+    ///          if fFirstUsed = fFirstFree the buffer is empty </summary>
+    FFirstFree: integer;
+    ///<summary> number of elements stored in the buffer </summary>
+    FElementCount: integer;
+    ///<summary> is called by the destructor to do any finalization that might be
+    ///          necessary for the elements stored in the buffer. Does nothing here. </summary>
     procedure FinalizeElements; virtual;
-    {: inserts the given Element in front of the buffer }
+    ///<summary> inserts the given Element in front of the buffer </summary>
     procedure InsertFront(const _Element); virtual;
-    {: inserts the given Element at the end of the buffer }
+    ///<summary> inserts the given Element at the end of the buffer </summary>
     procedure InsertEnd(const _Element); virtual;
-    {: extracts the first Element from the buffer }
+    ///<summary> extracts the first Element from the buffer </summary>
     procedure ExtractFront(var _Element); virtual;
-    {: extracts the last Element from the buffer }
+    ///<summary> extracts the last Element from the buffer </summary>
     procedure ExtractEnd(var _Element); virtual;
-    {: gets the Element with the index Idx }
+    ///<summary> gets the Element with the index Idx </summary>
     procedure GetElement(_Idx: integer; var _Element); virtual;
-    {: sets the Element with the index Idx, note: No finalization is done
-       for the element previously stored at Idx. }
+    ///<summary> sets the Element with the index Idx, note: No finalization is done
+    ///          for the element previously stored at Idx. </summary>
     procedure SetElement(_Idx: integer; const _Element); virtual;
-    {: gets the first Element from the buffer }
+    ///<summary> gets the first Element from the buffer </summary>
     procedure GetFirst(var _Element); virtual;
-    {: gets the last Element from the buffer }
+    ///<summary> gets the last Element from the buffer </summary>
     procedure GetLast(var _Element); virtual;
-    {: checks whether there is enough space for another element in the buffer }
+    ///<summary> checks whether there is enough space for another element in the buffer </summary>
     procedure CheckFull; virtual;
-    {: checks whether there are any elements in the buffer }
+    ///<summary> checks whether there are any elements in the buffer </summary>
     procedure CheckEmpty; virtual;
-    {: returns true, if the buffer is full }
+    ///<summary> returns true, if the buffer is full </summary>
     function IsFull: boolean; virtual;
-    {: returns true, if the buffer is empty }
+    ///<summary> returns true, if the buffer is empty </summary>
     function IsEmpty: boolean; virtual;
-    {: returns the number of elements stored in the buffer }
+    ///<summary> returns the number of elements stored in the buffer </summary>
     function GetCount: integer; virtual;
-    {: deletes all elements from the buffer }
+    ///<summary> deletes all elements from the buffer </summary>
     procedure Clear; virtual;
   public
-    {: creates a ringbuffer with enough space to store Length elements of
-       ElementSize bytes size }
+    ///<summary> creates a ringbuffer with enough space to store Length elements of
+    ///          ElementSize bytes size </summary>
     constructor Create(_ElementSize: integer; _Length: integer);
-    {: calls FinalizeElements and frees the memory allocated for the buffer }
+    ///<summary> calls FinalizeElements and frees the memory allocated for the buffer </summary>
     destructor Destroy; override;
   end;
 
 type
-  {: publishes all methods of TdzCustomRingBuffer }
+  ///<summary> publishes all methods of TdzCustomRingBuffer </summary>
   TdzRingBuffer = class(TdzCustomRingbuffer)
   public
-    {: inserts the given Element in front of the buffer }
+    ///<summary> inserts the given Element in front of the buffer </summary>
     procedure InsertFront(const _Element); override;
-    {: inserts the given Element at the end of the buffer }
+    ///<summary> inserts the given Element at the end of the buffer </summary>
     procedure InsertEnd(const _Element); override;
-    {: extracts the first Element from the buffer }
+    ///<summary> extracts the first Element from the buffer </summary>
     procedure ExtractFront(var _Element); override;
-    {: extracts the last Element from the buffer }
+    ///<summary> extracts the last Element from the buffer </summary>
     procedure ExtractEnd(var _Element); override;
-    {: gets the Element with the index Idx }
+    ///<summary> gets the Element with the index Idx </summary>
     procedure GetElement(_Idx: integer; var _Element); override;
-    {: sets the Element with the index Idx, note: No finalization is done
-       for the element previously stored at Idx. }
+    ///<summary> sets the Element with the index Idx, note: No finalization is done
+    ///          for the element previously stored at Idx. </summary>
     procedure SetElement(_Idx: integer; const _Element); override;
-    {: gets the first Element from the buffer }
+    ///<summary> gets the first Element from the buffer </summary>
     procedure GetFirst(var _Element); override;
-    {: gets the last Element from the buffer }
+    ///<summary> gets the last Element from the buffer </summary>
     procedure GetLast(var _Element); override;
-    {: checks whether there is enough space for another element in the buffer }
+    ///<summary> checks whether there is enough space for another element in the buffer </summary>
     procedure CheckFull; override;
-    {: checks whether there are any elements in the buffer }
+    ///<summary> checks whether there are any elements in the buffer </summary>
     procedure CheckEmpty; override;
-    {: returns true, if the buffer is full }
+    ///<summary> returns true, if the buffer is full </summary>
     function IsFull: boolean; override;
-    {: returns true, if the buffer is empty }
+    ///<summary> returns true, if the buffer is empty </summary>
     function IsEmpty: boolean; override;
-    {: returns the number of elements stored in the buffer }
+    ///<summary> returns the number of elements stored in the buffer </summary>
     function GetCount: integer; override;
-    {: deletes all elements from the buffer }
+    ///<summary> deletes all elements from the buffer </summary>
     procedure Clear; override;
   end;
 
 type
-  {: makes only those methods public that are useful for a stack }
+  ///<summary> makes only those methods public that are useful for a stack
+  ///          (Yes, it doesn't really make much sense implementing a stack
+  ///          as a ring buffer.) </summary>
   TdzRingStack = class(TdzCustomRingbuffer)
   public
-    {: inserts the given Element at the end of the buffer }
+    ///<summary> inserts the given Element at the end of the buffer </summary>
     procedure InsertEnd(const _Element); override;
-    {: extracts the last Element from the buffer }
+    ///<summary> extracts the last Element from the buffer </summary>
     procedure ExtractEnd(var _Element); override;
-    {: gets the Element with the index Idx }
+    ///<summary> gets the Element with the index Idx </summary>
     procedure GetElement(_Idx: integer; var _Element); override;
-    {: sets the Element with the index Idx, note: No finalization is done
-       for the element previously stored at Idx. }
+    ///<summary> sets the Element with the index Idx, note: No finalization is done
+    ///          for the element previously stored at Idx. <summary>
     procedure SetElement(_Idx: integer; const _Element); override;
-    {: gets the last Element from the buffer }
+    ///<summary> gets the last Element from the buffer </summary>
     procedure GetLast(var _Element); override;
-    {: returns true, if the buffer is full }
+    ///<summary> returns true, if the buffer is full </summary>
     function IsFull: boolean; override;
-    {: returns true, if the buffer is empty }
+    ///<summary> returns true, if the buffer is empty </summary>
     function IsEmpty: boolean; override;
-    {: returns the number of elements stored in the buffer }
+    ///<summary> returns the number of elements stored in the buffer </summary>
     function GetCount: integer; override;
-    {: deletes all elements from the buffer }
+    ///<summary> deletes all elements from the buffer </summary>
     procedure Clear; override;
   end;
 
 type
-  {: makes only those methods public that are usefull for a queue }
+  ///<summary> makes only those methods public that are usefull for a queue </summary>
   TdzRingQueue = class(TdzCustomRingbuffer)
-    {: inserts the given Element at the end of the buffer }
+    ///<summary> inserts the given Element at the end of the buffer </summary>
     procedure InsertEnd(const _Element); override;
-    {: extracts the first Element from the buffer }
+    ///<summary> extracts the first Element from the buffer </summary>
     procedure ExtractFront(var _Element); override;
-    {: gets the Element with the index Idx }
+    ///<summary> gets the Element with the index Idx </summary>
     procedure GetElement(_Idx: integer; var _Element); override;
-    {: sets the Element with the index Idx, note: No finalization is done
-       for the element previously stored at Idx. }
+    ///<summary> sets the Element with the index Idx, note: No finalization is done
+    ///          for the element previously stored at Idx. </summary>
     procedure SetElement(_Idx: integer; const _Element); override;
-    {: gets the first Element from the buffer }
+    ///<summary> gets the first Element from the buffer </summary>
     procedure GetFirst(var _Element); override;
-    {: returns true, if the buffer is full }
+    ///<summary> returns true, if the buffer is full </summary>
     function IsFull: boolean; override;
-    {: returns true, if the buffer is empty }
+    ///<summary> returns true, if the buffer is empty </summary>
     function IsEmpty: boolean; override;
-    {: returns the number of elements stored in the buffer }
+    ///<summary> returns the number of elements stored in the buffer </summary>
     function GetCount: integer; override;
-    {: deletes all elements from the buffer }
+    ///<summary> deletes all elements from the buffer </summary>
     procedure Clear; override;
   end;
 
 implementation
 
-resourcestring
-  RS_INDEX_OUT_OF_BOUNDS_D = 'Index %d out of bounds.';
-  RS_BUFFER_IS_FULL = 'Buffer is full';
-  RS_BUFFER_IS_EMPTY = 'Buffer is empty';
+uses
+  u_dzTranslator;
 
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
+
 { TdzCustomRingBuffer }
 
 constructor TdzCustomRingBuffer.Create(_ElementSize, _Length: integer);
 begin
   inherited Create;
-  fLength := _Length;
-  fElementSize := _ElementSize;
-  fFirstUsed := 0;
-  fFirstFree := 0;
-  GetMem(fBuffer, fLength * fElementSize);
+  FLength := _Length;
+  FElementSize := _ElementSize;
+  FFirstUsed := 0;
+  FFirstFree := 0;
+  GetMem(FBuffer, FLength * FElementSize);
 end;
 
 destructor TdzCustomRingBuffer.Destroy;
 begin
-  if Assigned(fBuffer) and (fLength > 0) then begin
+  if Assigned(FBuffer) and (FLength > 0) then begin
     FinalizeElements;
-    FreeMem(fBuffer);
+    FreeMem(FBuffer);
   end;
   inherited;
 end;
@@ -193,11 +198,11 @@
   p: PByte;
 begin
   CheckFull;
-  fFirstUsed := (fFirstUsed - 1) mod fLength;
-  p := fBuffer;
-  Inc(p, fFirstUsed * fElementSize);
-  Move(_Element, p^, fElementSize);
-  Inc(fElementCount);
+  FFirstUsed := (FFirstUsed - 1) mod FLength;
+  p := FBuffer;
+  Inc(p, FFirstUsed * FElementSize);
+  Move(_Element, p^, FElementSize);
+  Inc(FElementCount);
 end;
 
 procedure TdzCustomRingBuffer.InsertEnd(const _Element);
@@ -205,11 +210,11 @@
   p: PByte;
 begin
   CheckFull;
-  p := fBuffer;
-  Inc(p, fFirstFree * fElementSize);
-  Move(_Element, p^, fElementSize);
-  fFirstFree := (fFirstFree + 1) mod fLength;
-  Inc(fElementCount);
+  p := FBuffer;
+  Inc(p, FFirstFree * FElementSize);
+  Move(_Element, p^, FElementSize);
+  FFirstFree := (FFirstFree + 1) mod FLength;
+  Inc(FElementCount);
 end;
 
 procedure TdzCustomRingBuffer.ExtractFront(var _Element);
@@ -217,11 +222,11 @@
   p: PByte;
 begin
   CheckEmpty;
-  p := fBuffer;
-  Inc(p, fFirstUsed * fElementSize);
-  Move(p^, _Element, fElementSize);
-  fFirstUsed := (fFirstUsed + 1) mod fLength;
-  Dec(fElementCount);
+  p := FBuffer;
+  Inc(p, FFirstUsed * FElementSize);
+  Move(p^, _Element, FElementSize);
+  FFirstUsed := (FFirstUsed + 1) mod FLength;
+  Dec(FElementCount);
 end;
 
 procedure TdzCustomRingBuffer.ExtractEnd(var _Element);
@@ -229,33 +234,33 @@
   p: PByte;
 begin
   CheckEmpty;
-  fFirstFree := (fFirstFree - 1) mod fLength;
-  p := fBuffer;
-  Inc(p, fFirstFree * fElementSize);
-  Move(p^, _Element, fElementSize);
-  Dec(fElementCount);
+  FFirstFree := (FFirstFree - 1) mod FLength;
+  p := FBuffer;
+  Inc(p, FFirstFree * FElementSize);
+  Move(p^, _Element, FElementSize);
+  Dec(FElementCount);
 end;
 
 procedure TdzCustomRingBuffer.GetElement(_Idx: integer; var _Element);
 var
   p: PByte;
 begin
-  if (fFirstUsed + _Idx) mod fLength >= fFirstFree then
-    raise EIndexOutOfBounds.CreateFmt(RS_INDEX_OUT_OF_BOUNDS_D, [_Idx]);
-  p := fBuffer;
-  Inc(p, (fFirstUsed + _Idx) * fElementSize);
-  Move(p^, _Element, fElementSize);
+  if (FFirstUsed + _Idx) mod FLength >= FFirstFree then
+    raise EIndexOutOfBounds.CreateFmt(_('Index %d out of bounds.'), [_Idx]);
+  p := FBuffer;
+  Inc(p, (FFirstUsed + _Idx) * FElementSize);
+  Move(p^, _Element, FElementSize);
 end;
 
 procedure TdzCustomRingBuffer.SetElement(_Idx: integer; const _Element);
 var
   p: PByte;
 begin
-  if (fFirstUsed + _Idx) mod fLength >= fFirstFree then
-    raise EIndexOutOfBounds.CreateFmt(RS_INDEX_OUT_OF_BOUNDS_D, [_Idx]);
-  p := fBuffer;
-  Inc(p, (fFirstUsed + _Idx) * fElementSize);
-  Move(_Element, p^, fElementSize);
+  if (FFirstUsed + _Idx) mod FLength >= FFirstFree then
+    raise EIndexOutOfBounds.CreateFmt(_('Index %d out of bounds.'), [_Idx]);
+  p := FBuffer;
+  Inc(p, (FFirstUsed + _Idx) * FElementSize);
+  Move(_Element, p^, FElementSize);
 end;
 
 procedure TdzCustomRingBuffer.GetFirst(var _Element);
@@ -270,37 +275,37 @@
 
 function TdzCustomRingBuffer.IsFull: boolean;
 begin
-  Result := fElementCount >= fLength;
+  Result := FElementCount >= FLength;
 end;
 
 procedure TdzCustomRingBuffer.CheckFull;
 begin
   if IsFull then
-    raise EBufferFull.Create(RS_BUFFER_IS_FULL);
+    raise EBufferFull.Create('Buffer is full');
 end;
 
 function TdzCustomRingBuffer.IsEmpty: boolean;
 begin
-  Result := fElementCount = 0;
+  Result := FElementCount = 0;
 end;
 
 procedure TdzCustomRingBuffer.CheckEmpty;
 begin
   if IsEmpty then
-    raise EBufferEmpty.Create(RS_BUFFER_IS_EMPTY);
+    raise EBufferEmpty.Create('Buffer is empty');
 end;
 
 function TdzCustomRingBuffer.GetCount: integer;
 begin
-  Result := fElementCount;
+  Result := FElementCount;
 end;
 
 procedure TdzCustomRingBuffer.Clear;
 begin
   FinalizeElements;
-  fFirstUsed := 0;
-  fFirstFree := 0;
-  fElementCount := 0;
+  FFirstUsed := 0;
+  FFirstFree := 0;
+  FElementCount := 0;
 end;
 
 { TdzRingBuffer }



From twm at mail.berlios.de  Thu Sep  4 12:44:22 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:44:22 +0200
Subject: [Dzchart-svncheckins] r299 - utilities/dzLib/trunk/src
Message-ID: <200809041044.m84AiMhE006319@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:44:21 +0200 (Thu, 04 Sep 2008)
New Revision: 299

Modified:
   utilities/dzLib/trunk/src/u_dzClassUtils.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzClassUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzClassUtils.pas	2008-09-04 10:35:11 UTC (rev 298)
+++ utilities/dzLib/trunk/src/u_dzClassUtils.pas	2008-09-04 10:44:21 UTC (rev 299)
@@ -54,7 +54,7 @@
 procedure TList_FreeWithItems(var _List: TList); deprecated; // use contnrs.TObjectList
 
 /// <summary>
-// Write a string to the stream
+/// Write a string to the stream
 /// @param Stream is the TStream to write to.
 /// @param s is the string to write
 /// @returns the number of bytes written.
@@ -62,7 +62,7 @@
 function TStream_WriteString(_Stream: TStream; const _s: string): integer;
 
 /// <summary>
-// Write a ShortString to the stream as binary, that is the length byte followed by len content bytes
+/// Write a ShortString to the stream as binary, that is the length byte followed by len content bytes
 /// @param Stream is the TStream to write to.
 /// @param s is the string to write
 /// @returns the number of bytes written.
@@ -70,7 +70,7 @@
 function TStream_WriteShortStringBinary(_Stream: TStream; const _s: ShortString): integer;
 
 /// <summary>
-// Reads a ShortString as written by TStream_WriteShortStringBinary
+/// Reads a ShortString as written by TStream_WriteShortStringBinary
 /// @param Stream is the TStream to write to.
 /// @returns the string read
 /// </summary>
@@ -144,10 +144,13 @@
 
 uses
   StrUtils,
+  u_dzTranslator,
   u_dzStringUtils;
 
-resourcestring
-  RS_NO_MATCHING_OBJECT_FOUND = 'no matching object found';
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
 
 procedure TList_FreeWithItems(var _List: TList);
 var
@@ -302,7 +305,7 @@
 begin
   if not TStrings_TryStringByObj(_Strings, _Obj, Result) then begin
     if _RaiseException then
-      raise EObjectNotFound.Create(RS_NO_MATCHING_OBJECT_FOUND);
+      raise EObjectNotFound.Create(_('no matching object found'));
     Result := '';
   end;
 end;



From twm at mail.berlios.de  Thu Sep  4 12:47:01 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:47:01 +0200
Subject: [Dzchart-svncheckins] r300 - utilities/dzLib/trunk/src
Message-ID: <200809041047.m84Al19P009438@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:46:59 +0200 (Thu, 04 Sep 2008)
New Revision: 300

Modified:
   utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas	2008-09-04 10:44:21 UTC (rev 299)
+++ utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas	2008-09-04 10:46:59 UTC (rev 300)
@@ -97,7 +97,7 @@
     FDataset: TDataset;
     FTableName: string;
   public
-    ///<summary> creates a TDatasetHelper for accessing a TAdoTable or TAdoQuery </summary>
+    ///<summary> creates a TDatasetHelper for accessing a TQuery, TTable, TAdoTable or TAdoQuery </summary>
     constructor Create(_Table: TAdoTable); overload;
     constructor Create(_Table: TTable); overload;
     ///<summary> creates a TDatasetHelper for accessing a query
@@ -160,9 +160,15 @@
 
 uses
   Variants,
+  u_dzTranslator,
   u_dzVariantUtils,
   u_dzMiscUtils;
 
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
+
 { TDatasetHelper }
 
 constructor TDatasetHelper.Create(_Table: TTable);
@@ -326,7 +332,7 @@
   else if FDataset is TQuery then
     (FDataset as TQuery).ParamByName(_Param).Value := _Value
   else
-    raise Exception.CreateFmt('SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants).', [FDataset.ClassName]);
+    raise Exception.CreateFmt(_('SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants).'), [FDataset.ClassName]);
 end;
 
 procedure TDatasetHelper.Cancel;



From twm at mail.berlios.de  Thu Sep  4 12:52:30 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 12:52:30 +0200
Subject: [Dzchart-svncheckins] r301 - utilities/dzLib/trunk/src
Message-ID: <200809041052.m84AqUAM017535@sheep.berlios.de>

Author: twm
Date: 2008-09-04 12:52:29 +0200 (Thu, 04 Sep 2008)
New Revision: 301

Modified:
   utilities/dzLib/trunk/src/u_dzDateUtils.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzDateUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzDateUtils.pas	2008-09-04 10:46:59 UTC (rev 300)
+++ utilities/dzLib/trunk/src/u_dzDateUtils.pas	2008-09-04 10:52:29 UTC (rev 301)
@@ -69,31 +69,14 @@
 
 uses
   SysUtils,
-  u_dzStringUtils,
-  DateUtils;
+  DateUtils,
+  u_dzTranslator,
+  u_dzStringUtils;
 
-resourcestring
-  RS_Monday = 'Monday';
-  RS_Tuesday = 'Tuesday';
-  RS_Wednesday = 'Wednesday';
-  RS_Thursday = 'Thursday';
-  RS_Friday = 'Friday';
-  RS_Saturday = 'Saturday';
-  RS_Sunday = 'Sunday';
-  RS_January = 'January';
-  RS_February = 'February';
-  RS_March = 'March';
-  RS_April = 'April';
-  RS_May = 'May';
-  RS_June = 'June';
-  RS_July = 'July';
-  RS_August = 'August';
-  RS_September = 'September';
-  RS_October = 'October';
-  RS_November = 'November';
-  RS_December = 'December';
-  RS_InvalidMonthNumber_D = 'Invalid month number %d';
-  RS_InvalidValueForDayOfWeek_D = 'Invalid value for DayOfWeek: %d';
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
 
 function GetDayOfTheWeek(_Date: TDateTime): TDayOfWeekEnum;
 var
@@ -107,37 +90,37 @@
 function DayOfWeek2Str(_Dow: TDayOfWeekEnum): string;
 begin
   case _Dow of
-    dowMonday: Result := RS_Monday;
-    dowTuesday: Result := RS_Tuesday;
-    dowWednesday: Result := RS_Wednesday;
-    dowThursday: Result := RS_Thursday;
-    dowFriday: Result := RS_Friday;
-    dowSaturday: Result := RS_Saturday;
-    dowSunday: Result := RS_Sunday;
+    dowMonday: Result := _('Monday');
+    dowTuesday: Result := _('Tuesday');
+    dowWednesday: Result := _('Wednesday');
+    dowThursday: Result := _('Thursday');
+    dowFriday: Result := _('Friday');
+    dowSaturday: Result := _('Saturday');
+    dowSunday: Result := _('Sunday');
   else
     // should never happen ...
-    raise exception.CreateFmt(RS_InvalidValueForDayOfWeek_D, [Ord(_Dow)]);
+    raise exception.CreateFmt(_('Invalid value for DayOfWeek: %d'), [Ord(_Dow)]);
   end;
 end;
 
 function Month2Str(_Month: TMonthNumbers): string;
 begin
   case _Month of
-    1: Result := RS_January;
-    2: Result := RS_February;
-    3: Result := RS_March;
-    4: Result := RS_April;
-    5: Result := RS_May;
-    6: Result := RS_June;
-    7: Result := RS_July;
-    8: Result := RS_August;
-    9: Result := RS_September;
-    10: Result := RS_October;
-    11: Result := RS_November;
-    12: Result := RS_December;
+    1: Result := _('January');
+    2: Result := _('February');
+    3: Result := _('March');
+    4: Result := _('April');
+    5: Result := _('May');
+    6: Result := _('June');
+    7: Result := _('July');
+    8: Result := _('August');
+    9: Result := _('September');
+    10: Result := _('October');
+    11: Result := _('November');
+    12: Result := _('December');
   else
     // should never happen ...
-    raise Exception.CreateFmt(RS_InvalidMonthNumber_D, [_Month]);
+    raise Exception.CreateFmt(_('Invalid month number %d'), [_Month]);
   end;
 end;
 



From twm at mail.berlios.de  Thu Sep  4 13:15:57 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 13:15:57 +0200
Subject: [Dzchart-svncheckins] r302 - in utilities/dzLib/trunk: src
	translations/de translations/en translations/fr
Message-ID: <200809041115.m84BFvhj015582@sheep.berlios.de>

Author: twm
Date: 2008-09-04 13:15:54 +0200 (Thu, 04 Sep 2008)
New Revision: 302

Modified:
   utilities/dzLib/trunk/src/u_dzFileUtils.pas
   utilities/dzLib/trunk/translations/de/dzlib.po
   utilities/dzLib/trunk/translations/en/dzlib.po
   utilities/dzLib/trunk/translations/fr/dzlib.po
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzFileUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzFileUtils.pas	2008-09-04 10:52:29 UTC (rev 301)
+++ utilities/dzLib/trunk/src/u_dzFileUtils.pas	2008-09-04 11:15:54 UTC (rev 302)
@@ -688,34 +688,15 @@
 implementation
 
 uses
+  u_dzTranslator,
   u_dzMiscUtils,
   u_dzStringUtils,
   u_dzDateUtils;
 
-resourcestring
-  STR_GETTEMPPATH_ERROR_DS = 'u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath';
-  STR_GETTEMPPATH_ERROR2_DS = 'u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)';
-  STR_CREATEUNIQUEDIR_ERROR_S = 'could not find a unique directory name based on "%s"';
-  STR_GETTEMPFILENAME_ERROR_DS = 'u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName';
-  STR_GETSHORTPATHNAME_ERROR_DS = 'u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname';
-  STR_GETSHORTPATHNAME_TOO_LONG_D = 'Short pathname is longer than MAX_PATH (%d) characters';
-  // duplicate % so they get passed through the format function
-  STR_MOVEFILE_ERROR_SS = 'Error %%1:s (%%0:d) while trying to move "%s" to "%s".';
-  // duplicate % so they get passed through the format function
-  STR_SETREADONLY_ERROR_S = 'Error %%1:s (%%0:d) while changing the readonly flag of "%s"';
-  // duplicate % so they get passed through the format function
-  STR_COPYFILE_ERROR_SS = 'Error %%1:s (%%0:d) while trying to copy "%s" to "%s".';
-  // duplicate % so they get passed through the format function
-  STR_DELETEFILE_ERROR_S = 'Error %%1:s (%%0:d) deleting file "%s"';
-  // duplicate % so they get passed through the format function
-  STR_REMOVEDIR_ERROR_S = 'Error %%1:s (%%0:d) deleting directory "%s"';
-  STR_DELTREE_ERROR_S = '"%s" does not exist or is not a directory';
-  // duplicate % so they get passed through the format function
-  STR_CREATEDIR_ERROR_S = 'Error %%1:s (%%0:d) creating directory "%s"';
-  STR_CREATEDIR_EXCEPTION_SSS = 'Error creating directory "%s": %s (%s)';
-  RS_FILE_NOT_FOUND_S = 'File not found: "%s"';
-  RS_COMBINATION_NOT_ALLOWED = 'Combination of ResultContainsNumber and Keep' +
-    'Original is not allowed';
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
 
 function itpd(const _Dirname: string): string; inline;
 begin
@@ -848,15 +829,17 @@
   SetLength(Result, 1024);
   Res := Windows.GetTempPath(1024, PChar(Result));
   if Res < 0 then begin
+    // GetLastError must be called before _(), otherwise the error code gets lost
     LastError := GetLastError;
-    RaiseLastOSErrorEx(LastError, STR_GETTEMPPATH_ERROR_DS);
+    RaiseLastOSErrorEx(LastError, _('TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath'));
   end;
   if Res > 1024 then begin
     SetLength(Result, Res + 1);
     Res := Windows.GetTempPath(Res + 1, PChar(Result));
     if Res < 0 then begin
+      // GetLastError must be called before _(), otherwise the error code gets lost
       LastError := GetLastError;
-      RaiseLastOsErrorEx(LastError, STR_GETTEMPPATH_ERROR2_DS);
+      RaiseLastOsErrorEx(LastError, _('TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)'));
     end;
   end;
   SetLength(Result, Res);
@@ -870,8 +853,10 @@
   Result := SysUtils.CreateDir(_DirectoryName);
   if not Result then begin
     if _RaiseException then begin
+      // GetLastError must be called before _(), otherwise the error code gets lost
       LastError := GetLastError;
-      RaiseLastOsErrorEx(LastError, Format(STR_CREATEDIR_ERROR_S, [_DirectoryName]));
+      // duplicate % so they get passed through the format function
+      RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) creating directory "%s"'), [_DirectoryName]));
     end;
   end;
 end;
@@ -895,7 +880,7 @@
     if not OK then begin
       Inc(Counter);
       if Counter > 1000 then
-        raise ECreateUniqueDir.CreateFmt(STR_CREATEUNIQUEDIR_ERROR_S, [Result]);
+        raise ECreateUniqueDir.CreateFmt(_('Could not find a unique directory name based on "%s"'), [Result]);
     end;
   end;
 end;
@@ -911,8 +896,9 @@
   SetLength(Result, MAX_PATH);
   Res := Windows.GetTempFileName(PChar(_Directory), PChar(_Prefix), _Unique, PChar(Result));
   if Res = 0 then begin
+    // GetLastError must be called before _(), otherwise the error code gets lost
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, STR_GETTEMPFILENAME_ERROR_DS);
+    RaiseLastOsErrorEx(LastError, _('TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName'));
   end;
   Result := PChar(Result); // remove trailing characters
 end;
@@ -939,13 +925,13 @@
 class function TFileSystem.GetFileInfo(const _Filename: string): TFileInfoRec;
 begin
   if not TryGetFileInfo(_Filename, Result) then
-    raise EFileNotFound.CreateFmt(RS_FILE_NOT_FOUND_S, [_Filename]);
+    raise EFileNotFound.CreateFmt(_('File not found: "%s"'), [_Filename]);
 end;
 
 class function TFileSystem.GetFileSize(const _Filename: string): Int64;
 begin
   if not TryGetFileSize(_Filename, Result) then
-    raise EFileNotFound.CreateFmt(RS_FILE_NOT_FOUND_S, [_Filename]);
+    raise EFileNotFound.CreateFmt(_('File not found: "%s"'), [_Filename]);
 end;
 
 class function TFileSystem.TryGetFileSize(const _Filename: string;
@@ -990,9 +976,9 @@
   Res := Windows.GetShortPathname(PChar(_LongName), PChar(Result), Length(Result));
   if Res = 0 then begin
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, STR_GETSHORTPATHNAME_ERROR_DS);
+    RaiseLastOsErrorEx(LastError, _('TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname'));
   end else if Res > MAX_PATH then
-    raise EPathTooLong.CreateFmt(STR_GETSHORTPATHNAME_TOO_LONG_D, [MAX_PATH]);
+    raise EPathTooLong.CreateFmt(_('Short pathname is longer than MAX_PATH (%d) characters'), [MAX_PATH]);
   Result := PChar(Result); // truncate at first #0
 end;
 
@@ -1003,7 +989,8 @@
   Result := Windows.MoveFile(PChar(_Source), PChar(_Dest));
   if not Result and _RaiseException then begin
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, Format(STR_MOVEFILE_ERROR_SS, [_Source, _Dest]));
+    // duplicate % so they get passed through the format function
+    RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) while trying to move "%s" to "%s".'), [_Source, _Dest]));
   end;
 end;
 
@@ -1020,7 +1007,8 @@
   if FileSetAttr(_Filename, Attr) <> 0 then begin
     if _RaiseException then begin
       LastError := GetLastError;
-      RaiseLastOsErrorEx(LastError, Format(STR_SETREADONLY_ERROR_S, [_Filename]));
+      // duplicate % so they get passed through the format function
+      RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) while changing the readonly flag of "%s"'), [_Filename]));
     end;
     Result := false
   end else
@@ -1039,7 +1027,8 @@
   end;
   if not Result and _RaiseException then begin
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, Format(STR_COPYFILE_ERROR_SS, [_Source, _Dest]));
+    // duplicate % so they get passed through the format function
+    RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) while trying to copy "%s" to "%s".'), [_Source, _Dest]));
   end;
 end;
 
@@ -1144,8 +1133,10 @@
       if LastError = ERROR_REQUEST_ABORTED then
         Result := cfwAborted
       else begin
-        if cfwRaiseException in _Flags then
-          RaiseLastOsErrorEx(LastError, Format(STR_COPYFILE_ERROR_SS, [_Source, _Dest]));
+        if cfwRaiseException in _Flags then begin
+          // duplicate % so they get passed through the format function
+          RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) while trying to copy "%s" to "%s".'), [_Source, _Dest]));
+        end;
         Result := cfwError;
       end;
     end else
@@ -1215,8 +1206,10 @@
       @ProgressCallback, Redir, Flags);
     if not Res then begin
       LastError := GetLastError;
-      if mfwRaiseException in _Flags then
-        RaiseLastOsErrorEx(LastError, Format(STR_COPYFILE_ERROR_SS, [_Source, _Dest]));
+      if mfwRaiseException in _Flags then begin
+        // duplicate % so they get passed through the format function
+        RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) while trying to copy "%s" to "%s".'), [_Source, _Dest]));
+      end;
 
       if LastError = ERROR_REQUEST_ABORTED then
         Result := cfwAborted
@@ -1244,7 +1237,8 @@
   end;
   if not Result and _RaiseException then begin
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, Format(STR_DELETEFILE_ERROR_S, [_Filename]));
+    // duplicate % so they get passed through the format function
+    RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) deleting file "%s"'), [_Filename]));
   end;
 end;
 
@@ -1305,14 +1299,15 @@
     on e: Exception do begin
       // ForceDirectories can raise EInOutError if the directory path contains empty parts
       if _RaiseException then
-        raise Exception.CreateFmt(STR_CREATEDIR_EXCEPTION_SSS, [_DirectoryPath, e.Message, e.ClassName]);
+        raise Exception.CreateFmt(_('Error creating directory "%s": %s (%s)'), [_DirectoryPath, e.Message, e.ClassName]);
       Result := false;
       exit;
     end;
   end;
   if not Result and _RaiseException then begin
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, Format(STR_CREATEDIR_ERROR_S, [_DirectoryPath]));
+    // duplicate % so they get passed through the format function
+    RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) creating directory "%s"'), [_DirectoryPath]));
   end;
 end;
 
@@ -1330,7 +1325,8 @@
   end;
   if not Result and _RaiseException then begin
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, Format(STR_REMOVEDIR_ERROR_S, [_Dirname]));
+    // duplicate % so they get passed through the format function
+    RaiseLastOsErrorEx(LastError, Format(_('Error %%1:s (%%0:d) deleting directory "%s"'), [_Dirname]));
   end;
 end;
 
@@ -1348,7 +1344,7 @@
   Result := DirectoryExists(ExcludeTrailingPathDelimiter(_Dirname));
   if not Result then begin
     if _RaiseException then
-      raise EDirNotFound.CreateFmt(STR_DELTREE_ERROR_S, [_DirName]);
+      raise EDirNotFound.CreateFmt(_('"%s" does not exist or is not a directory'), [_DirName]);
     exit;
   end;
   if 0 = FindFirst(IncludeTrailingPathDelimiter(_Dirname) + '*.*', faAnyFile, sr) then
@@ -1565,7 +1561,7 @@
 begin
   if FResultContainsNumber then begin
     if _KeepOriginal then
-      raise EInvalidPropertyCombination.Create(RS_COMBINATION_NOT_ALLOWED);
+      raise EInvalidPropertyCombination.Create(_('Combination of ResultContainsNumber and KeepOriginal is not allowed'));
     if FOldestIsHighest then begin
       Result := doNumberOldIsHighest();
     end else begin

Modified: utilities/dzLib/trunk/translations/de/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 10:52:29 UTC (rev 301)
+++ utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 11:15:54 UTC (rev 302)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 03:15\n"
-"PO-Revision-Date: 2008-09-04 02:42-0800\n"
+"POT-Creation-Date: 2008-09-04 04:10\n"
+"PO-Revision-Date: 2008-09-04 04:13-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -17,198 +17,182 @@
 "X-Poedit-Language: German\n"
 "X-Poedit-Country: GERMANY\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150 
+#: u_dzClassUtils.pas:308
 msgid "no matching object found"
 msgstr "kein passendes Objekt gefunden"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113 
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113
 msgid "Invalid character \"%s\"."
 msgstr "Ung?ltiges Zeichen \"%s\""
 
-#: u_dzConvertUtils.pas:367 
+#: u_dzConvertUtils.pas:367
 msgid "Digit out of range %s"
-msgstr "ung?ltige Ziffer %s"
+msgstr "Ung?ltige Ziffer %s"
 
-#: u_dzConvertUtils.pas:380 
+#: u_dzConvertUtils.pas:380
 msgid "Digit #%d (%s) out of range"
 msgstr "Ung?ltige Ziffer #%d (%s)"
 
-#: u_dzConvertUtils.pas:582 
+#: u_dzConvertUtils.pas:582
 msgid "\"%s\" is not a valid integer value: %s"
 msgstr "\"%s\" ist kein g?ltiger Integerwert: %s"
 
-#: u_dzConvertUtils.pas:600 
+#: u_dzConvertUtils.pas:600
 msgid "\"%s\" is not a valid Int64 value: %s"
 msgstr "\"%s\" ist kein g?ltiger Int64 Wert: %s"
 
-#: u_dzConvertUtils.pas:671 
+#: u_dzConvertUtils.pas:671
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" ist kein g?ltiger Flie?kommawert: %s"
 
-#: u_dzConvertUtils.pas:677 
+#: u_dzConvertUtils.pas:677
 msgid "%.2f EiB"
 msgstr "%.2f EiB"
 
-#: u_dzConvertUtils.pas:679 
+#: u_dzConvertUtils.pas:679
 msgid "%.2f PiB"
 msgstr "%.2f PiB"
 
-#: u_dzConvertUtils.pas:681 
+#: u_dzConvertUtils.pas:681
 msgid "%.2f TiB"
 msgstr "%.2f TiB"
 
-#: u_dzConvertUtils.pas:683 
+#: u_dzConvertUtils.pas:683
 msgid "%.2f GiB"
 msgstr "%.2f GiB"
 
-#: u_dzConvertUtils.pas:685 
+#: u_dzConvertUtils.pas:685
 msgid "%.2f MiB"
 msgstr "%.2f MiB"
 
-#: u_dzConvertUtils.pas:687 
+#: u_dzConvertUtils.pas:687
 msgid "%.2f KiB"
 msgstr "%.2f KiB"
 
-#: u_dzConvertUtils.pas:689 
+#: u_dzConvertUtils.pas:689
 msgid "%d Bytes"
 msgstr "%d Bytes"
 
-#. Days and hours, ignore minutes and seconds
-#: u_dzConvertUtils.pas:696 
+#. Days and hours, ignore minutes and seconds
+#: u_dzConvertUtils.pas:696
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Hours and minutes, ignore seconds
-#: u_dzConvertUtils.pas:699 
+#. Hours and minutes, ignore seconds
+#: u_dzConvertUtils.pas:699
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Minutes and seconds
-#: u_dzConvertUtils.pas:702 
+#. Minutes and seconds
+#: u_dzConvertUtils.pas:702
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Seconds only
-#: u_dzConvertUtils.pas:705 
+#. Seconds only
+#: u_dzConvertUtils.pas:705
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76 
+#: u_dzDatasetHelpers.pas:335
+msgid "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
+msgstr "SetParamByName wird f?r %s nicht unterst?tzt (nur TQuery- und TAdoDataset-Abk?mmlinge)"
+
+#: u_dzDateUtils.pas:93
 msgid "Monday"
 msgstr "Montag"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77 
+#: u_dzDateUtils.pas:94
 msgid "Tuesday"
 msgstr "Dienstag"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78 
+#: u_dzDateUtils.pas:95
 msgid "Wednesday"
 msgstr "Mittwoch"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79 
+#: u_dzDateUtils.pas:96
 msgid "Thursday"
 msgstr "Donnerstag"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80 
+#: u_dzDateUtils.pas:97
 msgid "Friday"
 msgstr "Freitag"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81 
+#: u_dzDateUtils.pas:98
 msgid "Saturday"
 msgstr "Samstag"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82 
+#: u_dzDateUtils.pas:99
 msgid "Sunday"
 msgstr "Sonntag"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83 
+#. should never happen ...
+#: u_dzDateUtils.pas:102
+msgid "Invalid value for DayOfWeek: %d"
+msgstr "Ung?ltiger Wert f?r DayOfWeek: %d"
+
+#: u_dzDateUtils.pas:109
 msgid "January"
 msgstr "Januar"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84 
+#: u_dzDateUtils.pas:110
 msgid "February"
 msgstr "Februar"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85 
+#: u_dzDateUtils.pas:111
 msgid "March"
 msgstr "M?rz"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86 
+#: u_dzDateUtils.pas:112
 msgid "April"
 msgstr "April"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87 
+#: u_dzDateUtils.pas:113
 msgid "May"
 msgstr "Mai"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88 
+#: u_dzDateUtils.pas:114
 msgid "June"
 msgstr "Juni"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89 
+#: u_dzDateUtils.pas:115
 msgid "July"
 msgstr "Juli"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90 
+#: u_dzDateUtils.pas:116
 msgid "August"
 msgstr "August"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91 
+#: u_dzDateUtils.pas:117
 msgid "September"
 msgstr "September"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92 
+#: u_dzDateUtils.pas:118
 msgid "October"
 msgstr "Oktober"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93 
+#: u_dzDateUtils.pas:119
 msgid "November"
 msgstr "November"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94 
+#: u_dzDateUtils.pas:120
 msgid "December"
 msgstr "Dezember"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95 
+#. should never happen ...
+#: u_dzDateUtils.pas:123
 msgid "Invalid month number %d"
 msgstr "Ung?ltige Monatsnummer %d"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96 
-msgid "Invalid value for DayOfWeek: %d"
-msgstr "Ung?ltiger Wert f?r DayOfWeek: %d"
-
-#: u_dzDefaultMain.pas:114 
+#: u_dzDefaultMain.pas:114
 msgid "Error: %s"
 msgstr "Fehler: %s"
 
-#: u_dzDllLoader.pas:159 
+#: u_dzDllLoader.pas:159
 msgid "Could not load %s."
 msgstr "Konnte %s nicht laden."
 
-#: u_dzDllLoader.pas:180 
+#: u_dzDllLoader.pas:180
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
@@ -216,19 +200,21 @@
 "Konnte Einsprungpunkt %s nicht in %s finden\n"
 "Fehler: %%d, %%s"
 
-#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
-#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:194
+#: u_dzDllLoader.pas:209
+#: u_dzDllLoader.pas:214
+#: u_dzDllLoader.pas:219
 #: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr "DLL Einsprungpunkt nicht initialisiert"
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204 
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr "Kann Executor nicht freigeben w?hrend noch ein Prozess mit Ein-/Ausgabeumleitung l?uft."
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205 
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205
 msgid ""
 "Process has not yet been started.\n"
 "%s"
@@ -236,8 +222,8 @@
 "Prozess wurde noch nicht gestarted.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206 
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206
 msgid ""
 "Process is still running.\n"
 "%s"
@@ -245,8 +231,8 @@
 "Prozess l?uft noch.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207 
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207
 msgid ""
 "Process has terminated.\n"
 "%s"
@@ -254,289 +240,279 @@
 "Prozess ist beendet.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208 
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208
 msgid "Process has not yet been started"
 msgstr "Prozess wurde noch nicht gestartet"
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209 
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209
 msgid "StdErr was not redirected"
 msgstr "StdErr wurde nicht umgeleitet"
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210 
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210
 msgid "StdOut was not redirected"
 msgstr "StdOut wurde nicht umgeleitet"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198 
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198
 msgid "Cannot change filename when file is open."
 msgstr "Kann Dateinamen nicht ?ndern wenn Datei ge?ffnet ist."
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199 
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199
 msgid "Invalid file flags"
 msgstr "Ung?ltige Dateiflags"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200 
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200
 msgid "Invalid file attributes"
 msgstr "Ung?ltige Dateiattribute"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201 
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696 
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:834
+msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
+msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697 
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath (zweiter)"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:842
+msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
+msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) beim Aufruf von Windows.GetTempPath (zweiter)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698 
-msgid "could not find a unique directory name based on \"%s\""
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:859
+msgid "Error %%1:s (%%0:d) creating directory \"%s\""
+msgstr "Fehler %%1:s (%%0:d) beim Erstellen des Verzeichnisses \"%s\""
+
+#: u_dzFileUtils.pas:883
+msgid "Could not find a unique directory name based on \"%s\""
 msgstr "Konnte keinen eindeutigen Verzeichnisnamen basierend auf \"%s\" finden."
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699 
-msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
-msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) beim Aufruf von Windows.GetTempFileName"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:901
+msgid "TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
+msgstr "TFileSystem.GetTempFilename: %1:s (Code: %0:d) beim Aufruf von Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700 
-msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
-msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) beim Aufruf von Windows.GetShortPathname"
+#: u_dzFileUtils.pas:928
+msgid "File not found: \"%s\""
+msgstr "Datei nicht gefunden: \"%s\""
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701 
+#: u_dzFileUtils.pas:979
+msgid "TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
+msgstr "TFileSystem.GetShortPathname: %1:s (Code: %0:d) beim Aufruf von Windows.GetShortPathname"
+
+#: u_dzFileUtils.pas:981
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "Kurzer Pfad ist l?nger als MAX_PATH (%d) Zeichen"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:993
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Fehler %%1:s (%%0:d) beim Verschieben von \"%s\" nach \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1011
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim ?ndern des Schreibschutz-Flags von \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707 
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1031
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Fehler %%1:s (%%0:d) beim Kopieren von \"%s\" nach \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1241
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim L?schen der Datei \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711 
+#. ForceDirectories can raise EInOutError if the directory path contains empty parts
+#: u_dzFileUtils.pas:1302
+msgid "Error creating directory \"%s\": %s (%s)"
+msgstr "Fehler beim Erstellen des Verzeichnisses \"%s\": %s (%s)"
+
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1329
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Fehler %%1:s (%%0:d) beim L?schen des Verzeichnisses \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712 
+#: u_dzFileUtils.pas:1347
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" existiert nicht oder ist kein Verzeichnis"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714 
-msgid "Error %%1:s (%%0:d) creating directory \"%s\""
-msgstr "Fehler %%1:s (%%0:d) beim Erstellen des Verzeichnisses \"%s\""
-
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715 
-msgid "Error creating directory \"%s\": %s (%s)"
-msgstr "Fehler beim Erstellen des Verzeichnisses \"%s\": %s (%s)"
-
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716 
-msgid "File not found: \"%s\""
-msgstr "Datei nicht gefunden: \"%s\""
-
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718 
+#: u_dzFileUtils.pas:1564
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Kombination von ResultContainsNumber und KeepOriginal ist nicht erlaubt"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236 
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236
 msgid "unknown OS error"
 msgstr "Unbekannter Betriebssystemfehler"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237 
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237
 msgid "unknown Registry Root Key %x"
 msgstr "unbekannter Registry Rook-Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238 
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238
 msgid "unknown RegDataType"
 msgstr "unbekannter RegDataType"
 
-#: u_dzOsUtils.pas:130 
+#: u_dzOsUtils.pas:130
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (Code %d) beim Aufruf von Windows.GetUsername"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150 
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150
 msgid "Error %1:s (%0:d)"
 msgstr "Fehler %1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
+#: u_dzOsUtils.pas:308
 msgid "No version information available for %s"
 msgstr "Keine Versionsinfirmationen fuer %s verf?gbar"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38 
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38
 msgid "New capacity cannot be less than current length."
 msgstr "Neue Kapazit?t kann nicht kleiner sein als aktuelle L?nge."
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:161 
+#: u_dzRingBuffer.pas:249
 msgid "Index %d out of bounds."
 msgstr "Index %d nicht im g?ltigen Bereich."
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:162 
-msgid "Buffer is full"
-msgstr "Puffer ist voll"
-
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:163 
-msgid "Buffer is empty"
-msgstr "Puffer ist leer"
-
-#: u_dzStringUtils.pas:415 
+#: u_dzStringUtils.pas:415
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0tes Wort ist nicht verf?gbar"
 
-#: u_dzStringUtils.pas:883 
+#: u_dzStringUtils.pas:883
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Kann keinen String zentrieren, der l?nger als die maximale L?nge ist."
 
-#: u_dzStringUtils.pas:972 
+#: u_dzStringUtils.pas:972
 msgid "Strings do not have a 0th character."
 msgstr "Strings haben kein 0tes Zeichen."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34 
+#: u_dzTextFile.pas:56
 msgid "Invalid file access value (%d)"
 msgstr "Ung?ltiger Dateizugriffswert (%d)"
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35 
+#: u_dzTextFile.pas:60
 msgid "%s accessing file %s"
 msgstr "%s beim Zugriff auf Datei %s"
 
-#: u_dzVariantUtils.pas:284 
 u_dzVariantUtils.pas:313
-#: u_dzVariantUtils.pas:339 u_dzVariantUtils.pas:426 u_dzVariantUtils.pas:442
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:284
+#: u_dzVariantUtils.pas:339
+#: u_dzVariantUtils.pas:426
+#: u_dzVariantUtils.pas:442
 #: u_dzVariantUtils.pas:488
 msgid "Variant is Null, should be %s: %s"
 msgstr "Variant ist Null, sollte %s sein: %s"
 
-#: u_dzVariantUtils.pas:286 
 u_dzVariantUtils.pas:315
-#: u_dzVariantUtils.pas:341 u_dzVariantUtils.pas:428 u_dzVariantUtils.pas:444
+#: u_dzVariantUtils.pas:286
+#: u_dzVariantUtils.pas:341
+#: u_dzVariantUtils.pas:428
+#: u_dzVariantUtils.pas:444
 #: u_dzVariantUtils.pas:490
 msgid "Variant is Empty, should be %s: %s"
 msgstr "Variant ist leer, sollte %s sein: %s"
 
-#: u_dzVariantUtils.pas:291 
 u_dzVariantUtils.pas:320
-#: u_dzVariantUtils.pas:346 u_dzVariantUtils.pas:433 u_dzVariantUtils.pas:449
+#: u_dzVariantUtils.pas:291
+#: u_dzVariantUtils.pas:346
+#: u_dzVariantUtils.pas:433
+#: u_dzVariantUtils.pas:449
 #: u_dzVariantUtils.pas:495
 msgid "Variant can not be converted to %s: %s"
 msgstr "Variant kann nicht nach %s konvertiert werden: %s"
 
-#. do not translate
-#. do not translate
-#. do not translate
-#: u_dzVariantUtils.pas:397 
 u_dzVariantUtils.pas:411
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:397
 #: u_dzVariantUtils.pas:473
 msgid "Variant can not be converted to %s"
 msgstr "Variant kann nicht nach %s konvertiert werden"
 
-#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
+#: u_dzVclUtils.pas:685
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" ist kein g?ltiger Flie?kommawert."
 
-#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
+#: u_dzVclUtils.pas:700
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" ist kein g?ltiger Integerwert."
 
-#: u_dzVclUtils.pas:1090 
+#: u_dzVclUtils.pas:1090
 msgid "No item selected in combobox"
 msgstr "Kein Eintrag der Combobox ausgew?hlt"
 
-#: u_dzVclUtils.pas:1109 
+#: u_dzVclUtils.pas:1109
 msgid "No item selected in listbox"
 msgstr "Kein Eintrag der Listbox ausgew?hlt"
 
-#: u_dzVclUtils.pas:1541 
+#: u_dzVclUtils.pas:1541
 msgid "JPEG Files"
 msgstr "JPEG Dateien"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6 
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6
 msgid "Progress"
 msgstr "Fortschritt"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24 
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24
 msgid "Action"
 msgstr "Aktion"
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41 
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41
 msgid "Abort"
 msgstr "Abbrechen"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#. f_dzWizardForm..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210
 #: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr "&Weiter >"
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223
 #: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Abbrechen"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#. f_dzWizardForm..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233
 #: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr "< &Zur?ck"
 
-#: w_dzDialog.pas:327 
+#: w_dzDialog.pas:327
 msgid "Invalid modal result %d."
 msgstr "Ung?ltiger modaler R?ckgabewert %d."
 
-#: w_dzDialog.pas:501 
+#: w_dzDialog.pas:501
 msgid "Do not show again."
 msgstr "Nicht nochmal anzeigen."
 
-#: w_dzDialog.pas:582 
+#: w_dzDialog.pas:582
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -544,68 +520,71 @@
 "Es ist ein Fehler aufgetreten:\n"
 "%s"
 
-#. 400;
-#: w_dzDialog.pas:606 
+#. 400;
+#: w_dzDialog.pas:606
 msgid "Additional information:"
 msgstr "Erweiterte Informationen:"
 
-#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
+#: w_dzDialog.pas:626
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781 
+#: w_dzDialog.pas:781
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83 
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83
 msgid "Do you really want to abort?"
 msgstr "Wollen Sie wirklich abbrechen?"
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85 
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85
 msgid "Progress (%d%%)"
 msgstr "Fortschritt (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87 
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89 
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89
 msgid "must not contain a % at the end"
 msgstr "darf am Ende kein % enthalten"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91 
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" muss von \"d\" or \"%\" gefolgt werden."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93 
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93
 msgid "too many parameters"
 msgstr "Zuviele Parameter"
 
-#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
+#: w_dzWizard.pas:342
 msgid "&Finish"
 msgstr "&Beenden"
 
-#: w_dzWizard.pas:478 
+#: w_dzWizard.pas:478
 msgid "Already on first page."
 msgstr "Bereits auf erster Seite."
 
+#~ msgid "Buffer is full"
+#~ msgstr "Puffer ist voll"
+#~ msgid "Buffer is empty"
+#~ msgstr "Puffer ist leer"
 #~ msgid "unknown Win32 error"
 #~ msgstr "Unbekannter Windows Fehler"
-
 #~ msgid "Synopsis: %s %s"
 #~ msgstr "Aufruf: %s %s"
-
 #~ msgid "Options:"
 #~ msgstr "Optionen:"
+

Modified: utilities/dzLib/trunk/translations/en/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 10:52:29 UTC (rev 301)
+++ utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 11:15:54 UTC (rev 302)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 03:15\n"
-"PO-Revision-Date: 2008-09-04 02:43-0800\n"
+"POT-Creation-Date: 2008-09-04 04:10\n"
+"PO-Revision-Date: 2008-09-04 04:11-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -17,198 +17,182 @@
 "X-Poedit-Language: English\n"
 "X-Poedit-Country: UNITED STATES\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150 
+#: u_dzClassUtils.pas:308
 msgid "no matching object found"
 msgstr "no matching object found"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113 
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113
 msgid "Invalid character \"%s\"."
 msgstr "Invalid character \"%s\"."
 
-#: u_dzConvertUtils.pas:367 
+#: u_dzConvertUtils.pas:367
 msgid "Digit out of range %s"
 msgstr "Digit out of range %s"
 
-#: u_dzConvertUtils.pas:380 
+#: u_dzConvertUtils.pas:380
 msgid "Digit #%d (%s) out of range"
 msgstr "Digit #%d (%s) out of range"
 
-#: u_dzConvertUtils.pas:582 
+#: u_dzConvertUtils.pas:582
 msgid "\"%s\" is not a valid integer value: %s"
 msgstr "\"%s\" is not a valid integer value: %s"
 
-#: u_dzConvertUtils.pas:600 
+#: u_dzConvertUtils.pas:600
 msgid "\"%s\" is not a valid Int64 value: %s"
 msgstr "\"%s\" is not a valid Int64 value: %s"
 
-#: u_dzConvertUtils.pas:671 
+#: u_dzConvertUtils.pas:671
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" is not a valid floating point value: %s"
 
-#: u_dzConvertUtils.pas:677 
+#: u_dzConvertUtils.pas:677
 msgid "%.2f EiB"
 msgstr "%.2f EiB"
 
-#: u_dzConvertUtils.pas:679 
+#: u_dzConvertUtils.pas:679
 msgid "%.2f PiB"
 msgstr "%.2f PiB"
 
-#: u_dzConvertUtils.pas:681 
+#: u_dzConvertUtils.pas:681
 msgid "%.2f TiB"
 msgstr "%.2f TiB"
 
-#: u_dzConvertUtils.pas:683 
+#: u_dzConvertUtils.pas:683
 msgid "%.2f GiB"
 msgstr "%.2f GiB"
 
-#: u_dzConvertUtils.pas:685 
+#: u_dzConvertUtils.pas:685
 msgid "%.2f MiB"
 msgstr "%.2f MiB"
 
-#: u_dzConvertUtils.pas:687 
+#: u_dzConvertUtils.pas:687
 msgid "%.2f KiB"
 msgstr "%.2f KiB"
 
-#: u_dzConvertUtils.pas:689 
+#: u_dzConvertUtils.pas:689
 msgid "%d Bytes"
 msgstr "%d Bytes"
 
-#. Days and hours, ignore minutes and seconds
-#: u_dzConvertUtils.pas:696 
+#. Days and hours, ignore minutes and seconds
+#: u_dzConvertUtils.pas:696
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Hours and minutes, ignore seconds
-#: u_dzConvertUtils.pas:699 
+#. Hours and minutes, ignore seconds
+#: u_dzConvertUtils.pas:699
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Minutes and seconds
-#: u_dzConvertUtils.pas:702 
+#. Minutes and seconds
+#: u_dzConvertUtils.pas:702
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Seconds only
-#: u_dzConvertUtils.pas:705 
+#. Seconds only
+#: u_dzConvertUtils.pas:705
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76 
+#: u_dzDatasetHelpers.pas:335
+msgid "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
+msgstr "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
+
+#: u_dzDateUtils.pas:93
 msgid "Monday"
 msgstr "Monday"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77 
+#: u_dzDateUtils.pas:94
 msgid "Tuesday"
 msgstr "Tuesday"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78 
+#: u_dzDateUtils.pas:95
 msgid "Wednesday"
 msgstr "Wednesday"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79 
+#: u_dzDateUtils.pas:96
 msgid "Thursday"
 msgstr "Thursday"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80 
+#: u_dzDateUtils.pas:97
 msgid "Friday"
 msgstr "Friday"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81 
+#: u_dzDateUtils.pas:98
 msgid "Saturday"
 msgstr "Saturday"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82 
+#: u_dzDateUtils.pas:99
 msgid "Sunday"
 msgstr "Sunday"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83 
+#. should never happen ...
+#: u_dzDateUtils.pas:102
+msgid "Invalid value for DayOfWeek: %d"
+msgstr "Invalid value for DayOfWeek: %d"
+
+#: u_dzDateUtils.pas:109
 msgid "January"
 msgstr "January"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84 
+#: u_dzDateUtils.pas:110
 msgid "February"
 msgstr "February"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85 
+#: u_dzDateUtils.pas:111
 msgid "March"
 msgstr "March"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86 
+#: u_dzDateUtils.pas:112
 msgid "April"
 msgstr "April"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87 
+#: u_dzDateUtils.pas:113
 msgid "May"
 msgstr "May"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88 
+#: u_dzDateUtils.pas:114
 msgid "June"
 msgstr "June"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89 
+#: u_dzDateUtils.pas:115
 msgid "July"
 msgstr "July"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90 
+#: u_dzDateUtils.pas:116
 msgid "August"
 msgstr "August"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91 
+#: u_dzDateUtils.pas:117
 msgid "September"
 msgstr "September"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92 
+#: u_dzDateUtils.pas:118
 msgid "October"
 msgstr "October"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93 
+#: u_dzDateUtils.pas:119
 msgid "November"
 msgstr "November"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94 
+#: u_dzDateUtils.pas:120
 msgid "December"
 msgstr "December"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95 
+#. should never happen ...
+#: u_dzDateUtils.pas:123
 msgid "Invalid month number %d"
 msgstr "Invalid month number %d"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96 
-msgid "Invalid value for DayOfWeek: %d"
-msgstr "Invalid value for DayOfWeek: %d"
-
-#: u_dzDefaultMain.pas:114 
+#: u_dzDefaultMain.pas:114
 msgid "Error: %s"
 msgstr "Error: %s"
 
-#: u_dzDllLoader.pas:159 
+#: u_dzDllLoader.pas:159
 msgid "Could not load %s."
 msgstr "Could not load %s."
 
-#: u_dzDllLoader.pas:180 
+#: u_dzDllLoader.pas:180
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
@@ -216,19 +200,21 @@
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
 
-#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
-#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:194
+#: u_dzDllLoader.pas:209
+#: u_dzDllLoader.pas:214
+#: u_dzDllLoader.pas:219
 #: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr "DLL entry point not initialized"
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204 
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr "Can not free Executor while a process using redirection is still running."
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205 
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205
 msgid ""
 "Process has not yet been started.\n"
 "%s"
@@ -236,8 +222,8 @@
 "Process has not yet been started.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206 
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206
 msgid ""
 "Process is still running.\n"
 "%s"
@@ -245,8 +231,8 @@
 "Process is still running.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207 
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207
 msgid ""
 "Process has terminated.\n"
 "%s"
@@ -254,295 +240,279 @@
 "Process has terminated.\n"
 "%s"
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208 
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208
 msgid "Process has not yet been started"
 msgstr "Process has not yet been started"
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209 
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209
 msgid "StdErr was not redirected"
 msgstr "StdErr was not redirected"
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210 
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210
 msgid "StdOut was not redirected"
 msgstr "StdOut was not redirected"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198 
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198
 msgid "Cannot change filename when file is open."
 msgstr "Cannot change filename when file is open."
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199 
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199
 msgid "Invalid file flags"
 msgstr "Invalid file flags"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200 
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200
 msgid "Invalid file attributes"
 msgstr "Invalid file attributes"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201 
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696 
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:834
+msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
+msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697 
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:842
+msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
+msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698 
-msgid "could not find a unique directory name based on \"%s\""
-msgstr "could not find a unique directory name based on \"%s\""
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:859
+msgid "Error %%1:s (%%0:d) creating directory \"%s\""
+msgstr "Error %%1:s (%%0:d) creating directory \"%s\""
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699 
-msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
-msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
+#: u_dzFileUtils.pas:883
+msgid "Could not find a unique directory name based on \"%s\""
+msgstr "Could not find a unique directory name based on \"%s\""
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700 
-msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
-msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:901
+msgid "TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
+msgstr "TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701 
+#: u_dzFileUtils.pas:928
+msgid "File not found: \"%s\""
+msgstr "File not found: \"%s\""
+
+#: u_dzFileUtils.pas:979
+msgid "TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
+msgstr "TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
+
+#: u_dzFileUtils.pas:981
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "Short pathname is longer than MAX_PATH (%d) characters"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:993
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1011
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707 
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1031
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1241
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Error %%1:s (%%0:d) deleting file \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711 
+#. ForceDirectories can raise EInOutError if the directory path contains empty parts
+#: u_dzFileUtils.pas:1302
+msgid "Error creating directory \"%s\": %s (%s)"
+msgstr "Error creating directory \"%s\": %s (%s)"
+
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1329
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Error %%1:s (%%0:d) deleting directory \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712 
+#: u_dzFileUtils.pas:1347
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" does not exist or is not a directory"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714 
-msgid "Error %%1:s (%%0:d) creating directory \"%s\""
-msgstr "Error %%1:s (%%0:d) creating directory \"%s\""
-
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715 
-msgid "Error creating directory \"%s\": %s (%s)"
-msgstr "Error creating directory \"%s\": %s (%s)"
-
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716 
-msgid "File not found: \"%s\""
-msgstr "File not found: \"%s\""
-
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718 
+#: u_dzFileUtils.pas:1564
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236 
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236
 msgid "unknown OS error"
 msgstr "unknown OS error"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237 
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237
 msgid "unknown Registry Root Key %x"
 msgstr "unknown Registry Root Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238 
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238
 msgid "unknown RegDataType"
 msgstr "unknown RegDataType"
 
-#: u_dzOsUtils.pas:130 
+#: u_dzOsUtils.pas:130
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (code %d) calling Windows.GetUsername"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150 
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150
 msgid "Error %1:s (%0:d)"
 msgstr "Error %1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
+#: u_dzOsUtils.pas:308
 msgid "No version information available for %s"
 msgstr "No version information available for %s"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38 
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38
 msgid "New capacity cannot be less than current length."
 msgstr "New capacity cannot be less than current length."
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:161 
+#: u_dzRingBuffer.pas:249
 msgid "Index %d out of bounds."
 msgstr "Index %d out of bounds."
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:162 
-msgid "Buffer is full"
-msgstr "Buffer is full"
-
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:163 
-msgid "Buffer is empty"
-msgstr "Buffer is empty"
-
-#: u_dzStringUtils.pas:415 
+#: u_dzStringUtils.pas:415
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0th word not available"
 
-#: u_dzStringUtils.pas:883 
+#: u_dzStringUtils.pas:883
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Cannot center string that is larger than the maximum length."
 
-#: u_dzStringUtils.pas:972 
+#: u_dzStringUtils.pas:972
 msgid "Strings do not have a 0th character."
 msgstr "Strings do not have a 0th character."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34 
+#: u_dzTextFile.pas:56
 msgid "Invalid file access value (%d)"
 msgstr "Invalid file access value (%d)"
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35 
+#: u_dzTextFile.pas:60
 msgid "%s accessing file %s"
 msgstr "%s accessing file %s"
 
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#: u_dzVariantUtils.pas:284 
 u_dzVariantUtils.pas:313
-#: u_dzVariantUtils.pas:339 u_dzVariantUtils.pas:426 u_dzVariantUtils.pas:442
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:284
+#: u_dzVariantUtils.pas:339
+#: u_dzVariantUtils.pas:426
+#: u_dzVariantUtils.pas:442
 #: u_dzVariantUtils.pas:488
 msgid "Variant is Null, should be %s: %s"
 msgstr "Variant is Null, should be %s: %s"
 
-#: u_dzVariantUtils.pas:286 
 u_dzVariantUtils.pas:315
-#: u_dzVariantUtils.pas:341 u_dzVariantUtils.pas:428 u_dzVariantUtils.pas:444
+#: u_dzVariantUtils.pas:286
+#: u_dzVariantUtils.pas:341
+#: u_dzVariantUtils.pas:428
+#: u_dzVariantUtils.pas:444
 #: u_dzVariantUtils.pas:490
 msgid "Variant is Empty, should be %s: %s"
 msgstr "Variant is Empty, should be %s: %s"
 
-#: u_dzVariantUtils.pas:291 
 u_dzVariantUtils.pas:320
-#: u_dzVariantUtils.pas:346 u_dzVariantUtils.pas:433 u_dzVariantUtils.pas:449
+#: u_dzVariantUtils.pas:291
+#: u_dzVariantUtils.pas:346
+#: u_dzVariantUtils.pas:433
+#: u_dzVariantUtils.pas:449
 #: u_dzVariantUtils.pas:495
 msgid "Variant can not be converted to %s: %s"
 msgstr "Variant can not be converted to %s: %s"
 
-#. do not translate
-#. do not translate
-#. do not translate
-#: u_dzVariantUtils.pas:397 
 u_dzVariantUtils.pas:411
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:397
 #: u_dzVariantUtils.pas:473
 msgid "Variant can not be converted to %s"
 msgstr "Variant can not be converted to %s"
 
-#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
+#: u_dzVclUtils.pas:685
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" is not a valid floating point value."
 
-#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
+#: u_dzVclUtils.pas:700
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" is not a valid integer value."
 
-#: u_dzVclUtils.pas:1090 
+#: u_dzVclUtils.pas:1090
 msgid "No item selected in combobox"
 msgstr "No item selected in combobox"
 
-#: u_dzVclUtils.pas:1109 
+#: u_dzVclUtils.pas:1109
 msgid "No item selected in listbox"
 msgstr "No item selected in listbox"
 
-#: u_dzVclUtils.pas:1541 
+#: u_dzVclUtils.pas:1541
 msgid "JPEG Files"
 msgstr "JPEG Files"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6 
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6
 msgid "Progress"
 msgstr "Progress"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24 
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24
 msgid "Action"
 msgstr "Action"
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41 
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41
 msgid "Abort"
 msgstr "Abort"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#. f_dzWizardForm..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210
 #: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr "&Next >"
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223
 #: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Cancel"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#. f_dzWizardForm..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233
 #: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr "< &Previous"
 
-#: w_dzDialog.pas:327 
+#: w_dzDialog.pas:327
 msgid "Invalid modal result %d."
 msgstr "Invalid modal result %d."
 
-#: w_dzDialog.pas:501 
+#: w_dzDialog.pas:501
 msgid "Do not show again."
 msgstr "Do not show again."
 
-#: w_dzDialog.pas:582 
+#: w_dzDialog.pas:582
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -550,63 +520,68 @@
 "An error occurred:\n"
 "%s"
 
-#. 400;
-#: w_dzDialog.pas:606 
+#. 400;
+#: w_dzDialog.pas:606
 msgid "Additional information:"
 msgstr "Additional information:"
 
-#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
+#: w_dzDialog.pas:626
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781 
+#: w_dzDialog.pas:781
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83 
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83
 msgid "Do you really want to abort?"
 msgstr "Do you really want to abort?"
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85 
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85
 msgid "Progress (%d%%)"
 msgstr "Progress (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87 
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89 
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89
 msgid "must not contain a % at the end"
 msgstr "must not contain a % at the end"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91 
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" must be followed by \"d\" or \"%\"."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93 
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93
 msgid "too many parameters"
 msgstr "too many parameters"
 
-#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
+#: w_dzWizard.pas:342
 msgid "&Finish"
 msgstr "&Finish"
 
-#: w_dzWizard.pas:478 
+#: w_dzWizard.pas:478
 msgid "Already on first page."
 msgstr "Already on first page."
 
+#~ msgid "Buffer is full"
+#~ msgstr "Buffer is full"
+#~ msgid "Buffer is empty"
+#~ msgstr "Buffer is empty"
+
 #, fuzzy
 #~ msgid "Option descriptions (do not translate)"
 #~ msgstr "Message der Exception (do not translate)"
@@ -614,3 +589,4 @@
 #, fuzzy
 #~ msgid "Message of Exception (do not translate)"
 #~ msgstr "Message der Exception (do not translate)"
+

Modified: utilities/dzLib/trunk/translations/fr/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 10:52:29 UTC (rev 301)
+++ utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 11:15:54 UTC (rev 302)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 03:15\n"
-"PO-Revision-Date: 2008-09-04 02:44-0800\n"
+"POT-Creation-Date: 2008-09-04 04:10\n"
+"PO-Revision-Date: 2008-09-04 04:15-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -17,596 +17,574 @@
 "X-Poedit-Language: French\n"
 "X-Poedit-Country: FRANCE\n"
 
-#. Programmer's name for it: RS_NO_MATCHING_OBJECT_FOUND
-#: u_dzClassUtils.pas:150 
+#: u_dzClassUtils.pas:308
 msgid "no matching object found"
 msgstr ""
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113 
+#. Programmer's name for it: RS_INVALID_CHARACTER_S
+#: u_dzCmdLineParserStates.pas:113
 #, fuzzy
 msgid "Invalid character \"%s\"."
 msgstr "L'abscisse est invalide"
 
-#: u_dzConvertUtils.pas:367 
+#: u_dzConvertUtils.pas:367
 msgid "Digit out of range %s"
 msgstr "Chiffre hors d'echelle %s"
 
-#: u_dzConvertUtils.pas:380 
+#: u_dzConvertUtils.pas:380
 msgid "Digit #%d (%s) out of range"
 msgstr "Chiffre #%d (%s) hors d'echelle"
 
-#: u_dzConvertUtils.pas:582 
+#: u_dzConvertUtils.pas:582
 msgid "\"%s\" is not a valid integer value: %s"
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte: %s"
 
-#: u_dzConvertUtils.pas:600 
+#: u_dzConvertUtils.pas:600
 msgid "\"%s\" is not a valid Int64 value: %s"
 msgstr "\"%s\" n'est pas une valeur Int64 correcte: %s"
 
-#: u_dzConvertUtils.pas:671 
+#: u_dzConvertUtils.pas:671
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" n'est pas une nombre d?cimal valable: %s"
 
-#: u_dzConvertUtils.pas:677 
+#: u_dzConvertUtils.pas:677
 msgid "%.2f EiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:679 
+#: u_dzConvertUtils.pas:679
 msgid "%.2f PiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:681 
+#: u_dzConvertUtils.pas:681
 msgid "%.2f TiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:683 
+#: u_dzConvertUtils.pas:683
 msgid "%.2f GiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:685 
+#: u_dzConvertUtils.pas:685
 msgid "%.2f MiB"
 msgstr "%.2f Moctets"
 
-#: u_dzConvertUtils.pas:687 
+#: u_dzConvertUtils.pas:687
 msgid "%.2f KiB"
 msgstr "%.2f Koctets"
 
-#: u_dzConvertUtils.pas:689 
+#: u_dzConvertUtils.pas:689
 msgid "%d Bytes"
 msgstr "%d Octets"
 
-#. Days and hours, ignore minutes and seconds
-#: u_dzConvertUtils.pas:696 
+#. Days and hours, ignore minutes and seconds
+#: u_dzConvertUtils.pas:696
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Hours and minutes, ignore seconds
-#: u_dzConvertUtils.pas:699 
+#. Hours and minutes, ignore seconds
+#: u_dzConvertUtils.pas:699
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Minutes and seconds
-#: u_dzConvertUtils.pas:702 
+#. Minutes and seconds
+#: u_dzConvertUtils.pas:702
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Seconds only
-#: u_dzConvertUtils.pas:705 
+#. Seconds only
+#: u_dzConvertUtils.pas:705
 msgid "%ds"
 msgstr "%ds"
 
-#. Programmer's name for it: RS_Monday
-#: u_dzDateUtils.pas:76 
+#: u_dzDatasetHelpers.pas:335
+msgid "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
+msgstr ""
+
+#: u_dzDateUtils.pas:93
 msgid "Monday"
 msgstr "Lundi"
 
-#. Programmer's name for it: RS_Tuesday
-#: u_dzDateUtils.pas:77 
+#: u_dzDateUtils.pas:94
 msgid "Tuesday"
 msgstr "Mardi"
 
-#. Programmer's name for it: RS_Wednesday
-#: u_dzDateUtils.pas:78 
+#: u_dzDateUtils.pas:95
 msgid "Wednesday"
 msgstr "Mercredi"
 
-#. Programmer's name for it: RS_Thursday
-#: u_dzDateUtils.pas:79 
+#: u_dzDateUtils.pas:96
 msgid "Thursday"
 msgstr "Jeudi"
 
-#. Programmer's name for it: RS_Friday
-#: u_dzDateUtils.pas:80 
+#: u_dzDateUtils.pas:97
 msgid "Friday"
 msgstr "Vendredi"
 
-#. Programmer's name for it: RS_Saturday
-#: u_dzDateUtils.pas:81 
+#: u_dzDateUtils.pas:98
 msgid "Saturday"
 msgstr "Samedi"
 
-#. Programmer's name for it: RS_Sunday
-#: u_dzDateUtils.pas:82 
+#: u_dzDateUtils.pas:99
 msgid "Sunday"
 msgstr "Dimance"
 
-#. Programmer's name for it: RS_January
-#: u_dzDateUtils.pas:83 
+#. should never happen ...
+#: u_dzDateUtils.pas:102
+#, fuzzy
+msgid "Invalid value for DayOfWeek: %d"
+msgstr "Caract?re  \"%s\" invalide dans  le champ  \"%s\""
+
+#: u_dzDateUtils.pas:109
 msgid "January"
 msgstr "Janvier"
 
-#. Programmer's name for it: RS_February
-#: u_dzDateUtils.pas:84 
+#: u_dzDateUtils.pas:110
 msgid "February"
 msgstr "F?vrier"
 
-#. Programmer's name for it: RS_March
-#: u_dzDateUtils.pas:85 
+#: u_dzDateUtils.pas:111
 msgid "March"
 msgstr "Mars"
 
-#. Programmer's name for it: RS_April
-#: u_dzDateUtils.pas:86 
+#: u_dzDateUtils.pas:112
 msgid "April"
 msgstr "Avril"
 
-#. Programmer's name for it: RS_May
-#: u_dzDateUtils.pas:87 
+#: u_dzDateUtils.pas:113
 msgid "May"
 msgstr "Mai"
 
-#. Programmer's name for it: RS_June
-#: u_dzDateUtils.pas:88 
+#: u_dzDateUtils.pas:114
 msgid "June"
 msgstr "Juin"
 
-#. Programmer's name for it: RS_July
-#: u_dzDateUtils.pas:89 
+#: u_dzDateUtils.pas:115
 msgid "July"
 msgstr "Juillet"
 
-#. Programmer's name for it: RS_August
-#: u_dzDateUtils.pas:90 
+#: u_dzDateUtils.pas:116
 msgid "August"
 msgstr "Ao?t"
 
-#. Programmer's name for it: RS_September
-#: u_dzDateUtils.pas:91 
+#: u_dzDateUtils.pas:117
 msgid "September"
 msgstr "Septembre"
 
-#. Programmer's name for it: RS_October
-#: u_dzDateUtils.pas:92 
+#: u_dzDateUtils.pas:118
 msgid "October"
 msgstr "Octobre"
 
-#. Programmer's name for it: RS_November
-#: u_dzDateUtils.pas:93 
+#: u_dzDateUtils.pas:119
 msgid "November"
 msgstr "Novembre"
 
-#. Programmer's name for it: RS_December
-#: u_dzDateUtils.pas:94 
+#: u_dzDateUtils.pas:120
 msgid "December"
 msgstr "D?cembre"
 
-#. Programmer's name for it: RS_InvalidMonthNumber_D
-#: u_dzDateUtils.pas:95 
+#. should never happen ...
+#: u_dzDateUtils.pas:123
 #, fuzzy
 msgid "Invalid month number %d"
 msgstr "L'abscisse est invalide"
 
-#. Programmer's name for it: RS_InvalidValueForDayOfWeek_D
-#: u_dzDateUtils.pas:96 
-#, fuzzy
-msgid "Invalid value for DayOfWeek: %d"
-msgstr "Caract?re  \"%s\" invalide dans  le champ  \"%s\""
-
-#: u_dzDefaultMain.pas:114 
+#: u_dzDefaultMain.pas:114
 msgid "Error: %s"
 msgstr "Erreur: %s"
 
-#: u_dzDllLoader.pas:159 
+#: u_dzDllLoader.pas:159
 msgid "Could not load %s."
 msgstr ""
 
-#: u_dzDllLoader.pas:180 
+#: u_dzDllLoader.pas:180
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
 msgstr ""
 
-#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
-#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:194
+#: u_dzDllLoader.pas:209
+#: u_dzDllLoader.pas:214
+#: u_dzDllLoader.pas:219
 #: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr ""
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204 
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205 
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205
 msgid ""
 "Process has not yet been started.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206 
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206
 msgid ""
 "Process is still running.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207 
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207
 msgid ""
 "Process has terminated.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208 
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208
 msgid "Process has not yet been started"
 msgstr ""
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209 
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209
 msgid "StdErr was not redirected"
 msgstr ""
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210 
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210
 msgid "StdOut was not redirected"
 msgstr ""
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198 
+#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
+#: u_dzFileStreams.pas:198
 msgid "Cannot change filename when file is open."
 msgstr ""
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199 
+#. Programmer's name for it: STR_INVALID_FILE_FLAGS
+#: u_dzFileStreams.pas:199
 #, fuzzy
 msgid "Invalid file flags"
 msgstr "Allocation du fichier de capture"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200 
+#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
+#: u_dzFileStreams.pas:200
 #, fuzzy
 msgid "Invalid file attributes"
 msgstr "Allocation du fichier de capture"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201 
+#. Programmer's name for it: STR_0S_ERROR_SD
+#: u_dzFileStreams.pas:201
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR_DS
-#: u_dzFileUtils.pas:696 
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:834
+msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
+msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. Programmer's name for it: STR_GETTEMPPATH_ERROR2_DS
-#: u_dzFileUtils.pas:697 
-msgid "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:842
+msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
+msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 
-#. Programmer's name for it: STR_CREATEUNIQUEDIR_ERROR_S
-#: u_dzFileUtils.pas:698 
-msgid "could not find a unique directory name based on \"%s\""
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:859
+msgid "Error %%1:s (%%0:d) creating directory \"%s\""
+msgstr "Erreur %%1:s (%%0:d) lors de la cr?ation du r?pertoire \"%s\""
+
+#: u_dzFileUtils.pas:883
+#, fuzzy
+msgid "Could not find a unique directory name based on \"%s\""
 msgstr "Impossible de trouver un nom de r?pertoire unique sur la base de \"%s\""
 
-#. Programmer's name for it: STR_GETTEMPFILENAME_ERROR_DS
-#: u_dzFileUtils.pas:699 
-msgid "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
-msgstr "u_dzFileUtils.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:901
+msgid "TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
+msgstr "TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_ERROR_DS
-#: u_dzFileUtils.pas:700 
-msgid "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
-msgstr "u_dzFileUtils.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
+#: u_dzFileUtils.pas:928
+msgid "File not found: \"%s\""
+msgstr "Fichier non trouv?: \"%s\""
 
-#. Programmer's name for it: STR_GETSHORTPATHNAME_TOO_LONG_D
-#: u_dzFileUtils.pas:701 
+#: u_dzFileUtils.pas:979
+msgid "TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
+msgstr "TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
+
+#: u_dzFileUtils.pas:981
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "La longueur du chemin de fichier d?passe MAX_PATH (%d) caract?res "
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_MOVEFILE_ERROR_SS
-#: u_dzFileUtils.pas:703 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:993
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Erreur %%1:s (%%0:d) lors du d?placement de \"%s\" vers \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_SETREADONLY_ERROR_S
-#: u_dzFileUtils.pas:705 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1011
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors du changement de l'indicateur lecture seule de \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_COPYFILE_ERROR_SS
-#: u_dzFileUtils.pas:707 
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1031
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Erreur %%1:s (%%0:d) lors de la copie de \"%s\" vers \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_DELETEFILE_ERROR_S
-#: u_dzFileUtils.pas:709 
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1241
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de l'effacement du fichier \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_REMOVEDIR_ERROR_S
-#: u_dzFileUtils.pas:711 
+#. ForceDirectories can raise EInOutError if the directory path contains empty parts
+#: u_dzFileUtils.pas:1302
+#, fuzzy
+msgid "Error creating directory \"%s\": %s (%s)"
+msgstr "Erreur Temps d?pass? dans %s"
+
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1329
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de l'effacement du r?pertoire \"%s\""
 
-#. Programmer's name for it: STR_DELTREE_ERROR_S
-#: u_dzFileUtils.pas:712 
+#: u_dzFileUtils.pas:1347
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" n'existe pas ou n'est pas un r?p?rtoire"
 
-#. duplicate % so they get passed through the format function
-#. Programmer's name for it: STR_CREATEDIR_ERROR_S
-#: u_dzFileUtils.pas:714 
-msgid "Error %%1:s (%%0:d) creating directory \"%s\""
-msgstr "Erreur %%1:s (%%0:d) lors de la cr?ation du r?pertoire \"%s\""
-
-#. Programmer's name for it: STR_CREATEDIR_EXCEPTION_SSS
-#: u_dzFileUtils.pas:715 
-#, fuzzy
-msgid "Error creating directory \"%s\": %s (%s)"
-msgstr "Erreur Temps d?pass? dans %s"
-
-#. Programmer's name for it: RS_FILE_NOT_FOUND_S
-#: u_dzFileUtils.pas:716 
-msgid "File not found: \"%s\""
-msgstr "Fichier non trouv?: \"%s\""
-
-#. Programmer's name for it: RS_COMBINATION_NOT_ALLOWED
-#: u_dzFileUtils.pas:718 
+#: u_dzFileUtils.pas:1564
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr ""
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236 
+#. Unbekannter Betriebssystem Fehler
+#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
+#: u_dzMiscUtils.pas:236
 msgid "unknown OS error"
 msgstr "Erreur syst?me d'exploitation inconnue"
 
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237 
+#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
+#: u_dzMiscUtils.pas:237
 msgid "unknown Registry Root Key %x"
 msgstr ""
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238 
+#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
+#: u_dzMiscUtils.pas:238
 #, fuzzy
 msgid "unknown RegDataType"
 msgstr "commande inconnue \"%s\""
 
-#: u_dzOsUtils.pas:130 
+#: u_dzOsUtils.pas:130
 #, fuzzy
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150 
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150
 #, fuzzy
 msgid "Error %1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
+#: u_dzOsUtils.pas:308
 msgid "No version information available for %s"
 msgstr ""
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38 
+#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
+#: u_dzRecordArray.pas:38
 msgid "New capacity cannot be less than current length."
 msgstr ""
 
-#. Programmer's name for it: RS_INDEX_OUT_OF_BOUNDS_D
-#: u_dzRingBuffer.pas:161 
+#: u_dzRingBuffer.pas:249
 msgid "Index %d out of bounds."
 msgstr ""
 
-#. Programmer's name for it: RS_BUFFER_IS_FULL
-#: u_dzRingBuffer.pas:162 
-#, fuzzy
-msgid "Buffer is full"
-msgstr "La taille actuelle est %s"
-
-#. Programmer's name for it: RS_BUFFER_IS_EMPTY
-#: u_dzRingBuffer.pas:163 
-#, fuzzy
-msgid "Buffer is empty"
-msgstr "La taille actuelle est %s"
-
-#: u_dzStringUtils.pas:415 
+#: u_dzStringUtils.pas:415
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0iem mot n'est pas valable"
 
-#: u_dzStringUtils.pas:883 
+#: u_dzStringUtils.pas:883
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Impossible de centrer une chaine qui est plus longue que la longueur maximum."
 
-#: u_dzStringUtils.pas:972 
+#: u_dzStringUtils.pas:972
 msgid "Strings do not have a 0th character."
 msgstr "La chaine n'a pas de charat?re 0th."
 
-#. Programmer's name for it: RS_INVALID_FILE_ACCES_VALUE_D
-#: u_dzTextFile.pas:34 
+#: u_dzTextFile.pas:56
 msgid "Invalid file access value (%d)"
 msgstr ""
 
-#. Programmer's name for it: RS_ACCESSING_FILE_SS
-#: u_dzTextFile.pas:35 
+#: u_dzTextFile.pas:60
 #, fuzzy
 msgid "%s accessing file %s"
 msgstr "Allocation du fichier de capture"
 
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#: u_dzVariantUtils.pas:284 
 u_dzVariantUtils.pas:313
-#: u_dzVariantUtils.pas:339 u_dzVariantUtils.pas:426 u_dzVariantUtils.pas:442
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:284
+#: u_dzVariantUtils.pas:339
+#: u_dzVariantUtils.pas:426
+#: u_dzVariantUtils.pas:442
 #: u_dzVariantUtils.pas:488
 msgid "Variant is Null, should be %s: %s"
 msgstr "La variation est nulle, devrait ?tre %s: %s"
 
-#: u_dzVariantUtils.pas:286 
 u_dzVariantUtils.pas:315
-#: u_dzVariantUtils.pas:341 u_dzVariantUtils.pas:428 u_dzVariantUtils.pas:444
+#: u_dzVariantUtils.pas:286
+#: u_dzVariantUtils.pas:341
+#: u_dzVariantUtils.pas:428
+#: u_dzVariantUtils.pas:444
 #: u_dzVariantUtils.pas:490
 msgid "Variant is Empty, should be %s: %s"
 msgstr "La variation est vide, devrait ?tre %s: %s"
 
-#: u_dzVariantUtils.pas:291 
 u_dzVariantUtils.pas:320
-#: u_dzVariantUtils.pas:346 u_dzVariantUtils.pas:433 u_dzVariantUtils.pas:449
+#: u_dzVariantUtils.pas:291
+#: u_dzVariantUtils.pas:346
+#: u_dzVariantUtils.pas:433
+#: u_dzVariantUtils.pas:449
 #: u_dzVariantUtils.pas:495
 msgid "Variant can not be converted to %s: %s"
 msgstr "La variation ne peut pas ?tre convertie de %s: %s"
 
-#. do not translate
-#. do not translate
-#. do not translate
-#: u_dzVariantUtils.pas:397 
 u_dzVariantUtils.pas:411
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:397
 #: u_dzVariantUtils.pas:473
 msgid "Variant can not be converted to %s"
 msgstr "Un variant ne peut pas ?tre converti en %s"
 
-#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
+#: u_dzVclUtils.pas:685
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
+#: u_dzVclUtils.pas:700
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#: u_dzVclUtils.pas:1090 
+#: u_dzVclUtils.pas:1090
 msgid "No item selected in combobox"
 msgstr ""
 
-#: u_dzVclUtils.pas:1109 
+#: u_dzVclUtils.pas:1109
 msgid "No item selected in listbox"
 msgstr ""
 
-#: u_dzVclUtils.pas:1541 
+#: u_dzVclUtils.pas:1541
 msgid "JPEG Files"
 msgstr "Fichiers JPEG"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6 
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6
 msgid "Progress"
 msgstr "Avancement"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24 
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:24
 msgid "Action"
 msgstr ""
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41 
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:41
 msgid "Abort"
 msgstr "Annuler"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#. f_dzWizardForm..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210
 #: w_dzWizardForm.pas:222
 msgid "&Next >"
 msgstr ""
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223
 #: w_dzWizardForm.pas:221
 msgid "Cancel"
 msgstr "Annuler"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#. f_dzWizardForm..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233
 #: w_dzWizardForm.pas:220
 msgid "< &Previous"
 msgstr ""
 
-#: w_dzDialog.pas:327 
+#: w_dzDialog.pas:327
 #, fuzzy
 msgid "Invalid modal result %d."
 msgstr "L'abscisse est invalide"
 
-#: w_dzDialog.pas:501 
+#: w_dzDialog.pas:501
 msgid "Do not show again."
 msgstr ""
 
-#: w_dzDialog.pas:582 
+#: w_dzDialog.pas:582
 #, fuzzy
 msgid ""
 "An error occurred:\n"
 "%s"
 msgstr "Erreur Temps d?pass? dans %s"
 
-#. 400;
-#: w_dzDialog.pas:606 
+#. 400;
+#: w_dzDialog.pas:606
 msgid "Additional information:"
 msgstr ""
 
-#: w_dzDialog.pas:626 
 w_dzDialog.pas:731 w_dzDialog.pas:778
+#: w_dzDialog.pas:626
 msgid "&Details >>"
 msgstr "&D?tails >>"
 
-#: w_dzDialog.pas:781 
+#: w_dzDialog.pas:781
 msgid "&Details <<"
 msgstr "&D?tails <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83 
+#. Wirklich abbrechen?
+#. Programmer's name for it: QuestionAbort
+#: w_dzProgress.pas:83
 msgid "Do you really want to abort?"
 msgstr ""
 
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85 
+#. Fortschritt (%d%%)
+#. Programmer's name for it: FormCaptionD
+#: w_dzProgress.pas:85
 msgid "Progress (%d%%)"
 msgstr "Avancement (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87 
+#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
+#. Programmer's name for it: InvalidFormCaptionS
+#: w_dzProgress.pas:87
 msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
 msgstr ""
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89 
+#. darf kein "%" am Ende haben
+#. Programmer's name for it: PercentAtEnd
+#: w_dzProgress.pas:89
 msgid "must not contain a % at the end"
 msgstr ""
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91 
+#. auf "%" mu? "d" oder "%" folgen
+#. Programmer's name for it: InvalidFormatChar
+#: w_dzProgress.pas:91
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr ""
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93 
+#. zuviele Parameter
+#. Programmer's name for it: TooManyParameters
+#: w_dzProgress.pas:93
 msgid "too many parameters"
 msgstr ""
 
-#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:223
+#: w_dzWizard.pas:342
 msgid "&Finish"
 msgstr ""
 
-#: w_dzWizard.pas:478 
+#: w_dzWizard.pas:478
 msgid "Already on first page."
 msgstr ""
+
+#, fuzzy
+#~ msgid "Buffer is full"
+#~ msgstr "La taille actuelle est %s"
+
+#, fuzzy
+#~ msgid "Buffer is empty"
+#~ msgstr "La taille actuelle est %s"
+



From twm at mail.berlios.de  Thu Sep  4 13:19:43 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 13:19:43 +0200
Subject: [Dzchart-svncheckins] r303 - utilities/dzLib/trunk/src
Message-ID: <200809041119.m84BJhGW021654@sheep.berlios.de>

Author: twm
Date: 2008-09-04 13:19:42 +0200 (Thu, 04 Sep 2008)
New Revision: 303

Modified:
   utilities/dzLib/trunk/src/u_dzFileStreams.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzFileStreams.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzFileStreams.pas	2008-09-04 11:15:54 UTC (rev 302)
+++ utilities/dzLib/trunk/src/u_dzFileStreams.pas	2008-09-04 11:19:42 UTC (rev 303)
@@ -191,14 +191,14 @@
 implementation
 
 uses
+  u_dzTranslator,
   u_dzFileUtils,
   u_dzMiscUtils;
 
-resourcestring
-  STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE = 'Cannot change filename when file is open.';
-  STR_INVALID_FILE_FLAGS = 'Invalid file flags';
-  STR_INVALID_FILE_ATTRIBUTES = 'Invalid file attributes';
-  STR_0S_ERROR_SD = '%1:s (%0:d)';
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
 
 const
   cFileAccessModeValues: array[TFileAccessModes] of DWORD =
@@ -252,11 +252,12 @@
 
 procedure TdzFile.Open;
 var
-  s: string;
+  LastError: Cardinal;
 begin
-  s := STR_0S_ERROR_SD;
-  if not OpenNoException then
-    RaiseLastOSErrorEx(s);
+  if not OpenNoException then begin
+    LastError := GetLastError;
+    RaiseLastOSErrorEx(LastError, _('%1:s (%0:d)'));
+  end;
 end;
 
 function TdzFile.OpenNoException: boolean;
@@ -303,7 +304,7 @@
     FILE_ATTRIBUTE_SYSTEM or FILE_ATTRIBUTE_TEMPORARY;
 begin
   if (_FileAttributes and not cValidAttributes) <> 0 then
-    raise EdzFile.Create(STR_INVALID_FILE_ATTRIBUTES);
+    raise EdzFile.Create(_('Invalid file attributes'));
   FFileAttributes := _FileAttributes;
 end;
 
@@ -315,7 +316,7 @@
     FILE_FLAG_BACKUP_SEMANTICS or FILE_FLAG_POSIX_SEMANTICS);
 begin
   if (_FileFlags and not cValidFlags) <> 0 then
-    raise EdzFile.Create(STR_INVALID_FILE_FLAGS);
+    raise EdzFile.Create(_('Invalid file flags'));
   FFileFlags := _FileFlags;
 end;
 
@@ -334,7 +335,7 @@
 procedure TdzFile.SetFilename(const _Filename: string);
 begin
   if Self.Handle <> integer(INVALID_HANDLE_VALUE) then
-    raise EdzFile.Create(STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE);
+    raise EdzFile.Create(_('Cannot change filename when file is open.'));
   FFilename := _Filename;
 end;
 



From twm at mail.berlios.de  Thu Sep  4 13:37:49 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 13:37:49 +0200
Subject: [Dzchart-svncheckins] r304 - utilities/dzLib/trunk/src
Message-ID: <200809041137.m84Bbn5v019675@sheep.berlios.de>

Author: twm
Date: 2008-09-04 13:37:48 +0200 (Thu, 04 Sep 2008)
New Revision: 304

Modified:
   utilities/dzLib/trunk/src/u_dzMiscUtils.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzMiscUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzMiscUtils.pas	2008-09-04 11:19:42 UTC (rev 303)
+++ utilities/dzLib/trunk/src/u_dzMiscUtils.pas	2008-09-04 11:37:48 UTC (rev 304)
@@ -1,15 +1,18 @@
 {.GXFormatter.config=twm}
-{: Implements commonly used functions.
-   This unit implements some commonly used functions.<br>
-   There is also a NotImplemend procedure which should be called
-   whereever some features are left out to be implemented "later"
-   This procedure will not be available when we compile the
-   shipping code (no DEBUG symbol), so the compiler should
-   complain if it is still used by then.<br>
-   Note: String functions have been moved to dzStringUtils
-   Note: Variant functions have been moved to dzVariantUtils
-   @author twm
-}
+///<summary>
+/// Implements commonly used functions.
+/// This unit implements some commonly used functions.
+///<br/>
+/// There is also a NotImplemend procedure which should be called
+/// whereever some features are left out to be implemented "later"
+/// This procedure will not be available when we compile the
+/// shipping code (no DEBUG symbol), so the compiler should
+/// complain if it is still used by then.
+/// <br>
+/// Note: String functions have been moved to dzStringUtils
+/// Note: Variant functions have been moved to dzVariantUtils
+/// @author twm
+///</summary>
 
 unit u_dzMiscUtils;
 
@@ -21,26 +24,13 @@
 interface
 
 uses
-//  Variants,
   SysUtils,
   Windows,
   Registry;
 
 type
-  {: raised if there is a conversion error in one of the Xxx2YyyEx functions }
-  EConvertError = class(Exception);
-
-  {: raised if there is a conversion error in one of the Var2XxxEx functions }
-  EVariantConvertError = class(EConvertError);
-
-  {: raised if the variant passed to one of the Var2XxxEx functions is null }
-  EVarIsNull = class(EVariantConvertError);
-
-  {: raised if the variant passed to one of the Var2XxxEx functions is empty }
-  EVarIsEmpty = class(EVariantConvertError);
-
-  {: raised by Max([array of const]) and Min([array of const]) if the passed
-     paramter is empty }
+  ///<summary> raised by Max([array of const]) and Min([array of const]) if the passed
+  ///   paramter is empty </summary>
   EEmptyArray = class(Exception);
 
   EPathTooLong = class(Exception);
@@ -55,39 +45,39 @@
 const
   BOOLEAN_NAMES: TBooleanNames = ('false', 'true'); // do not translate
 
-{: Emulates this infamous Visual Basic function of which nobody actually knows
-   what it does.}
+///<summary> Emulates this infamous Visual Basic function of which nobody actually knows
+///          what it does. </summary>
 function TwipsPerPixelX(_Handle: hdc): Extended;
 
-{: Emulates this infamous Visual Basic function of which nobody actually knows
-   what it does.}
+///<summary> Emulates this infamous Visual Basic function of which nobody actually knows
+///          what it does. </summary>
 function TwipsPerPixelY(_Handle: hdc): Extended;
 
-{: Returns the name for the HKey constant. }
+///<summary> Returns the name for the HKey constant. </summary>
 function HKeyToString(_HKey: HKey): string;
 
-{: Returns the name for the TRegDataType Value. }
+///<summary> Returns the name for the TRegDataType Value. </summary>
 function RegDataTypeToString(_DataType: TRegDataType): string;
 
-{: returns a hex dump of the buffer (no spaces added)
-   @param(Buffer is the memory block to dump)
-   @param(Len is the length of the block)
-   @returns(a string containing the hex dump of the buffer) }
+///<summary> returns a hex dump of the buffer (no spaces added)
+///          @param Buffer is the memory block to dump
+///          @param Len is the length of the block
+///          @returns a string containing the hex dump of the buffer </summary>
 function HexDump(const _Buffer; _Len: integer): string;
 
-{: hex dumps a double value }
+///<summary> hex dumps a double value </summary>
 function HexDumpDouble(const _dbl: Double): string;
 
-{: hex dumps an extended value }
+///<summary> hex dumps an extended value </summary>
 function HexDumpExtended(const _ext: Extended): string;
 
-{: returns a hex dump of the zero terminated string s }
-function HexDumpString(const _s: string): string;
+///<summary> returns a hex dump of the string s </summary>
+function HexDumpString(const _s: ansistring): string;
 
-{: converts a hexdump of a double back to a double value }
+///<summary> converts a hexdump of a double back to a double value </summary>
 procedure HexDumpToDbl(const _s: string; var _Value: double);
 
-{: converts a hexdump of an extended back to an extended value }
+///<summary> converts a hexdump of an extended back to an extended value </summary>
 procedure HexDumpToExtended(const _s: string; var _Value: Extended);
 
 ///<summary> converts an integer to a 8 digit hex string </summary>
@@ -96,117 +86,98 @@
 ///<summary> converts an In64 to a 16 digit hex string </summary>
 function IntToHex(_Value: Int64): string; overload;
 
-{: Converts an integer to a boolean.
-   @param(Int is the integer to convert)
-   @returns(false, if the integer is 0, true otherwise) }
+///<summary> Converts an integer to a boolean.
+///          @param Int is the integer to convert
+///          @returns false, if the integer is 0, true otherwise </summary>
 function IntToBool(_Int: integer): boolean;
 
-{: Converts a boolean to an integer.
-   @param(B is the boolean to convert)
-   @returns(0 if the boolean is false, 1 if it is true) }
+///<summary> Converts a boolean to an integer.
+///          @param B is the boolean to convert
+///          @returns 0 if the boolean is false, 1 if it is true </summary>
 function BoolToInt(_B: boolean): integer;
 
-{: Uses GetLastError to get the last WinAPI error code, then
-   calls SysErrorMessage to get the corresponding error string,
-   optionally takes a format string.
-   @param(Error is the error string, only valid if error code <> 0)
-   @param(Format The Format string to use. It must have %d and %s in it, to
-                 change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
-                 %d is replaced by the error code and %s is replaced by the
-                 error message string.
-                 If no format string is given Error will just contain the
-                 Windows error message.)
-   @returns(the error code) }
+///<summary> Uses GetLastError to get the last WinAPI error code, then
+///          calls SysErrorMessage to get the corresponding error string,
+///          optionally takes a format string.
+///          @param Error is the error string, only valid if error code <> 0
+///          @param Format The Format string to use. It must have %d and %s in it, to
+///                        change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
+///                        %d is replaced by the error code and %s is replaced by the
+///                        error message string.
+///                        If no format string is given Error will just contain the
+///                        Windows error message.
+///                        NOTE: Do not pass a resource string or a string translated
+///                              using DxGetText to this function since this
+///                              would clear the GetLastError result. Use the
+///                              overloaded version that takes the ErrCode
+///                              parameter instead.
+///          @returns the error code /</summary>
 function GetLastOsError(out _Error: string; const _Format: string = ''): DWORD; overload;
 function GetLastOsError(_ErrCode: integer; out _Error: string; const _Format: string = ''): DWORD; overload;
 
-{: Similar to SysUtils.Win32Check, but does not raise an exception. Instead
-   it returns the error message. The function optionally takes a format string.
-   @param RetVal is the return value of a WinAPI function
-   @param ErrorCode is the error code returned by GetLastError
-   @param Error is the error message corresponding to the error code (only valid if result <> 0)
-   @param Format The Format string to use. It must have %d and %s in it, to
-                 change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
-                 %d is replaced by the error code and %s is replaced by the
-                 error message string.
-                 If no format string is given Error will just contain the
-                 Windows error message.
-   @Returns the error code }
+///<summary> Similar to SysUtils.Win32Check, but does not raise an exception. Instead
+///          it returns the error message. The function optionally takes a format string.
+///          @param RetVal is the return value of a WinAPI function
+///          @param ErrorCode is the error code returned by GetLastError
+///          @param Error is the error message corresponding to the error code (only valid if result <> 0)
+///          @param Format The Format string to use. It must have %d and %s in it, to
+///                        change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
+///                        %d is replaced by the error code and %s is replaced by the
+///                        error message string.
+///                        If no format string is given Error will just contain the
+///                        Windows error message.
+///                        NOTE: Do not pass a resource string or a string translated
+///                              using DxGetText to this function since this
+///                              would clear the GetLastError result.
+///          @Returns the error code </summary>
 function Win32CheckEx(_RetVal: BOOL; out _ErrorCode: DWORD; out _Error: string; const _Format: string = ''): BOOL;
 
-{: Same as VCL RaiseLastWin32Error but can specify a format.
-   This procedure does the same as the VCL RaiseLastWin32Error but you can
-   specify a format string to use. With this string you can provide some
-   additional information about where the error occured.
-   It calls GetLastError to get the result code of the last Win32 api function.
-   If it returns non 0 the function uses SysErrorMessage to retrieve an error
-   message for the error code and raises raises an EWin32Error exception
-   (to be compatible with the VCL function) with the Error message.
-   NOTE: Do not pass a resource string as format parameter, since loading this
-         string will reset the error code returned by GetLastError, so
-         you always get 0. Use the overloaded Version that takes the error code
-         as parameter and get it before using the resource string if you want that.
-   @param Format The Format string to use. It must have %d and %s in it, to
-                 change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
-                 %d is replaced by the error code and %s is replaced by the
-                 error message string. }
+///<summary> Same as VCL RaiseLastWin32Error but can specify a format.
+///          This procedure does the same as the VCL RaiseLastWin32Error but you can
+///          specify a format string to use. With this string you can provide some
+///          additional information about where the error occured.
+///          It calls GetLastError to get the result code of the last Win32 api function.
+///          If it returns non 0 the function uses SysErrorMessage to retrieve an error
+///          message for the error code and raises raises an EWin32Error exception
+///          (to be compatible with the VCL function) with the Error message.
+///          NOTE: Do not pass a resource string as format parameter, since loading this
+///                string will reset the error code returned by GetLastError, so
+///                you always get 0. Use the overloaded Version that takes the error code
+///                as parameter and get it before using the resource string if you want that.
+///          @param Format The Format string to use. It must have %d and %s in it, to
+///                        change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
+///                        %d is replaced by the error code and %s is replaced by the
+///                        error message string. </summary>
 procedure RaiseLastOsErrorEx(const _Format: string); overload;
 
-{: Same as VCL RaiseLastWin32Error but can specify a format.
-   This procedure does the same as the VCL RaiseLastWin32Error but you can
-   specify a format string to use. With this string you can provide some
-   additional information about where the error occured.
-   If it returns non 0 the function uses SysErrorMessage to retrieve an error
-   message for the error code and raises raises an EWin32Error exception
-   (to be compatible with the VCL function) with the Error message.
-   NOTE: If you pass a resource string as format parameter make sure you
-         call GetLastError before referencing the resource string, otherwise
-         loading the string will reset the error code returned by GetLastError, so
-         you always get 0.
-   @param ErrorCode is an error code returned from GetLastWin32Error
-   @param Format The Format string to use. It must have %d and %s in it, to
-                 change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
-                 %d is replaced by the error code and %s is replaced by the
-                 error message string. }
+///<summary> Same as VCL RaiseLastWin32Error but can specify a format.
+///          This procedure does the same as the VCL RaiseLastWin32Error but you can
+///          specify a format string to use. With this string you can provide some
+///          additional information about where the error occured.
+///          If it returns non 0 the function uses SysErrorMessage to retrieve an error
+///          message for the error code and raises raises an EWin32Error exception
+///          (to be compatible with the VCL function) with the Error message.
+///          NOTE: If you pass a resource string as format parameter make sure you
+///          call GetLastError before referencing the resource string, otherwise
+///          loading the string will reset the error code returned by GetLastError, so
+///          you always get 0.
+///          @param ErrorCode is an error code returned from GetLastWin32Error
+///          @param Format The Format string to use. It must have %d and %s in it, to
+///                        change the order, use %0:d and %1:s, e.g. 'Error %1:s (%0:d)'
+///                        %d is replaced by the error code and %s is replaced by the
+///                        error message string. </summary>
 procedure RaiseLastOsErrorEx(_ErrorCode: integer; _Format: string); overload;
 
-//{: Determines the greater of two integer values.
-//   @Returns the greater of A and B. }
-//function Max(_a, _b: integer): integer; overload;
-//
-//{: Determines the greater of two double values.
-//   @Returns the greater of A and B. }
-//function Max(_a, _b: double): double; overload;
-//
-//{: Determines the greater of two int64 values.
-//   @Returns the greater of A and B. }
-//function Max(_a, _b: int64): int64; overload;
-
-//{: Determines the lesser of two integer values.
-//   @Returns(the lesser of A and B.) }
-//
-//function Min(_a, _b: integer): integer; overload;
-//
-//{: Determines the lesser of two double values.
-//   @Returns(the lesser of A and B.) }
-//
-//function Min(_a, _b: double): double; overload;
-//
-//{: Determines the lesser of two int64 values.
-//   @Returns(the lesser of A and B.) }
-//
-//function Min(_a, _b: int64): int64; overload;
-
-{: Combines WriteLn with Format
-   @param(FormatStr string describing the format)
-   @param(Args constant array with the arguments) }
+///<summary> Combines WriteLn with Format
+///          @param FormatStr string describing the format
+///          @param Args constant array with the arguments </summary>
 procedure WriteFmtLn(const _FormatStr: string; _Args: array of const);
 
-{: splits a wildcard into its components: The path and the filemask
-   @param(Wildcard is a string specifying the wildcard)
-   @param(Path is a string returning the path part of the wildcard)
-   @param(Mask is a string returning the Mask part of the wildcard)
-   @returns(true, if the Path exists, false otherwise) }
+///<summary> splits a wildcard into its components: The path and the filemask
+///          @param Wildcard is a string specifying the wildcard
+///          @param Path is a string returning the path part of the wildcard
+///          @param Mask is a string returning the Mask part of the wildcard
+///          @returns true, if the Path exists, false otherwise </summary>
 function SplitWildcard(_Wildcard: string; out _Path, _Mask: string): boolean;
 
 {: returns the string's reference counter, pass a string by typecasting it
@@ -228,14 +199,14 @@
 {$ENDIF}
   FileCtrl,
   StrUtils,
+  u_dzTranslator,
   u_dzStringUtils,
   u_dzConvertUtils;
 
-resourcestring
-  // Unbekannter Betriebssystem Fehler
-  STR_UNKNOWN_WIN32_ERROR = 'unknown OS error';
-  RS_UNKNOWN_REGISTRY_ROOT_KEY_X = 'unknown Registry Root Key %x';
-  RS_UNKNOWN_REGDATATYPE = 'unknown RegDataType';
+function _(const _s: string): string; inline;
+begin
+  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+end;
 
 {$IFDEF debug}
 
@@ -271,28 +242,28 @@
 function HKeyToString(_HKey: HKey): string;
 begin
   case _HKey of
-    HKEY_CLASSES_ROOT: result := 'HKEY_CLASSES_ROOT';
-    HKEY_CURRENT_USER: result := 'HKEY_CURRENT_USER';
-    HKEY_LOCAL_MACHINE: result := 'HKEY_LOCAL_MACHINE';
-    HKEY_USERS: result := 'HKEY_USERS';
-    HKEY_PERFORMANCE_DATA: result := 'HKEY_PERFORMANCE_DATA';
-    HKEY_CURRENT_CONFIG: result := 'HKEY_CURRENT_CONFIG';
-    HKEY_DYN_DATA: result := 'HKEY_DYN_DATA';
+    HKEY_CLASSES_ROOT: result := 'HKEY_CLASSES_ROOT'; // do not translate
+    HKEY_CURRENT_USER: result := 'HKEY_CURRENT_USER'; // do not translate
+    HKEY_LOCAL_MACHINE: result := 'HKEY_LOCAL_MACHINE'; // do not translate
+    HKEY_USERS: result := 'HKEY_USERS'; // do not translate
+    HKEY_PERFORMANCE_DATA: result := 'HKEY_PERFORMANCE_DATA'; // do not translate
+    HKEY_CURRENT_CONFIG: result := 'HKEY_CURRENT_CONFIG'; // do not translate
+    HKEY_DYN_DATA: result := 'HKEY_DYN_DATA'; // do not translate
   else
-    Result := Format(RS_UNKNOWN_REGISTRY_ROOT_KEY_X, [_HKey]);
+    Result := Format(_('unknown Registry Root Key %x'), [_HKey]);
   end;
 end;
 
 function RegDataTypeToString(_DataType: TRegDataType): string;
 begin
   case _DataType of
-    rdUnknown: Result := 'Unknown';
-    rdString: Result := 'String';
-    rdExpandString: Result := 'ExpandString';
-    rdInteger: Result := 'Integer';
-    rdBinary: Result := 'Binary';
+    rdUnknown: Result := 'Unknown'; // do not translate
+    rdString: Result := 'String'; // do not translate
+    rdExpandString: Result := 'ExpandString'; // do not translate
+    rdInteger: Result := 'Integer'; // do not translate
+    rdBinary: Result := 'Binary'; // do not translate
   else
-    Result := RS_UNKNOWN_REGDATATYPE;
+    Result := _('unknown RegDataType');
   end;
 end;
 
@@ -321,7 +292,7 @@
   if _ErrorCode <> ERROR_SUCCESS then
     Error := EOSError.CreateFmt(_Format, [_ErrorCode, SysErrorMessage(_ErrorCode)])
   else
-    Error := EOsError.CreateFmt(_Format, [_ErrorCode, STR_UNKNOWN_WIN32_ERROR]);
+    Error := EOsError.CreateFmt(_Format, [_ErrorCode, _('unknown OS error')]);
   Error.ErrorCode := _ErrorCode;
   raise Error;
 end;
@@ -339,7 +310,7 @@
   if Result <> ERROR_SUCCESS then
     s := SysErrorMessage(Result)
   else
-    s := STR_UNKNOWN_WIN32_ERROR;
+    s := _('unknown OS error');
   if _Format <> '' then
     try
       _Error := Format(_Format, [Result, s])
@@ -357,60 +328,6 @@
     _ErrorCode := GetLastOsError(_Error, _Format);
 end;
 
-// Irgendwie doof, dass man das dreimal implementieren muss, nur weil der
-// Typ verschieden ist. Habe ich mal erwaehnt, dass C macros doch ganz nett
-// sein koennen? ;-)
-
-//function Max(_a, _b: integer): integer;
-//begin
-//  if _a > _b then
-//    Result := _a
-//  else
-//    Result := _b;
-//end;
-//
-//function Max(_a, _b: double): double;
-//begin
-//  if _a > _b then
-//    Result := _a
-//  else
-//    Result := _b;
-//end;
-//
-//function Max(_a, _b: int64): int64;
-//begin
-//  if _a > _b then
-//    Result := _a
-//  else
-//    Result := _b;
-//end;
-
-// und jetzt dasselbe nochmal fuer Min ...
-
-//function Min(_a, _b: integer): integer;
-//begin
-//  if _a < _b then
-//    Result := _a
-//  else
-//    Result := _b;
-//end;
-//
-//function Min(_a, _b: double): double;
-//begin
-//  if _a < _b then
-//    Result := _a
-//  else
-//    Result := _b;
-//end;
-//
-//function Min(_a, _b: int64): int64;
-//begin
-//  if _a < _b then
-//    Result := _a
-//  else
-//    Result := _b;
-//end;
-
 procedure WriteFmtLn(const _FormatStr: string; _Args: array of const);
 begin
   WriteLn(Format(_FormatStr, _Args));
@@ -441,7 +358,7 @@
         _Path := LeftStr(_Wildcard, i - 1);
         Result := DirectoryExists(_Path);
       end else begin
-              // there was no mask and the whole thing is a directory
+        // there was no mask and the whole thing is a directory
         Result := true;
         _Path := _Wildcard;
         _Mask := '';
@@ -461,7 +378,7 @@
     _Mask := _Wildcard;
     Result := true;
   end else begin
-      // otherwise it is a subdirectory
+    // otherwise it is a subdirectory
     _Path := _Wildcard;
     _Mask := '';
     Result := true;
@@ -500,7 +417,7 @@
     Result := _IfFalse;
 end;
 
-function HexDumpString(const _s: string): string;
+function HexDumpString(const _s: ansistring): string;
 var
   i: integer;
 begin



From twm at mail.berlios.de  Thu Sep  4 14:42:01 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 14:42:01 +0200
Subject: [Dzchart-svncheckins] r305 - in utilities/dzLib/trunk: src
	translations/de translations/en translations/fr
Message-ID: <200809041242.m84Cg1oX025693@sheep.berlios.de>

Author: twm
Date: 2008-09-04 14:41:59 +0200 (Thu, 04 Sep 2008)
New Revision: 305

Modified:
   utilities/dzLib/trunk/src/u_dzOsUtils.pas
   utilities/dzLib/trunk/src/u_dzRecordArray.pas
   utilities/dzLib/trunk/translations/de/dzlib.po
   utilities/dzLib/trunk/translations/en/dzlib.po
   utilities/dzLib/trunk/translations/fr/dzlib.po
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzlib')


Modified: utilities/dzLib/trunk/src/u_dzOsUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzOsUtils.pas	2008-09-04 11:37:48 UTC (rev 304)
+++ utilities/dzLib/trunk/src/u_dzOsUtils.pas	2008-09-04 12:41:59 UTC (rev 305)
@@ -147,7 +147,7 @@
   end;
   if Res = 0 then begin
     LastError := GetLastError;
-    RaiseLastOsErrorEx(LastError, _('Error %1:s (%0:d)'));
+    RaiseLastOsErrorEx(LastError, _('Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings'));
   end;
   SetLength(Result, Res - 1);
 end;

Modified: utilities/dzLib/trunk/src/u_dzRecordArray.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzRecordArray.pas	2008-09-04 11:37:48 UTC (rev 304)
+++ utilities/dzLib/trunk/src/u_dzRecordArray.pas	2008-09-04 12:41:59 UTC (rev 305)
@@ -8,6 +8,7 @@
   Classes;
 
 type
+  ///<summary> a class emulating a generic array of records </summary>
   TRecordArray = class
   private
     FData: array of byte;
@@ -32,11 +33,9 @@
 implementation
 
 uses
-  RTLConsts;
+  RTLConsts,
+  u_dzTranslator;
 
-resourcestring
-  RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH = 'New capacity cannot be less than current length.';
-
 { TRecordArray }
 
 constructor TRecordArray.Create(_RecordSize: integer; _InitialCapacity: integer = 0; _GrowBy: extended = 0.1);
@@ -65,7 +64,7 @@
   NewArraySize := _NewCapacity * FRecordSize;
   if System.Length(FData) <> NewArraySize then begin
     if _NewCapacity < FLength then
-      raise Exception.Create(RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH);
+      raise Exception.Create(_('New capacity cannot be less than current length.'));
     System.SetLength(FData, NewArraySize);
   end;
 end;

Modified: utilities/dzLib/trunk/translations/de/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 11:37:48 UTC (rev 304)
+++ utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-04 12:41:59 UTC (rev 305)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 04:10\n"
-"PO-Revision-Date: 2008-09-04 04:13-0800\n"
+"POT-Creation-Date: 2008-09-04 05:40\n"
+"PO-Revision-Date: 2008-09-04 05:40-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -255,26 +255,22 @@
 msgid "StdOut was not redirected"
 msgstr "StdOut wurde nicht umgeleitet"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
-msgid "Cannot change filename when file is open."
-msgstr "Kann Dateinamen nicht ?ndern wenn Datei ge?ffnet ist."
+#: u_dzFileStreams.pas:259
+msgid "%1:s (%0:d)"
+msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
-msgid "Invalid file flags"
-msgstr "Ung?ltige Dateiflags"
-
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#: u_dzFileStreams.pas:307
 msgid "Invalid file attributes"
 msgstr "Ung?ltige Dateiattribute"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
-msgid "%1:s (%0:d)"
-msgstr "%1:s (%0:d)"
+#: u_dzFileStreams.pas:319
+msgid "Invalid file flags"
+msgstr "Ung?ltige Dateiflags"
 
+#: u_dzFileStreams.pas:338
+msgid "Cannot change filename when file is open."
+msgstr "Kann Dateinamen nicht ?ndern wenn Datei ge?ffnet ist."
+
 #. GetLastError must be called before _(), otherwise the error code gets lost
 #: u_dzFileUtils.pas:834
 msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
@@ -352,37 +348,34 @@
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Kombination von ResultContainsNumber und KeepOriginal ist nicht erlaubt"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
-msgid "unknown OS error"
-msgstr "Unbekannter Betriebssystemfehler"
-
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. do not translate
+#: u_dzMiscUtils.pas:253
 msgid "unknown Registry Root Key %x"
 msgstr "unbekannter Registry Rook-Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. do not translate
+#: u_dzMiscUtils.pas:266
 msgid "unknown RegDataType"
 msgstr "unbekannter RegDataType"
 
+#: u_dzMiscUtils.pas:295
+msgid "unknown OS error"
+msgstr "Unbekannter Betriebssystemfehler"
+
 #: u_dzOsUtils.pas:130
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (Code %d) beim Aufruf von Windows.GetUsername"
 
 #. 16 KB should be enough for everybody... ;-)
 #: u_dzOsUtils.pas:150
-msgid "Error %1:s (%0:d)"
-msgstr "Fehler %1:s (%0:d)"
+msgid "Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings"
+msgstr "Fehler %%1:s (%%0:d) beim Aufruf von Windows.ExpandEnvironmentStrings"
 
 #: u_dzOsUtils.pas:308
 msgid "No version information available for %s"
 msgstr "Keine Versionsinfirmationen fuer %s verf?gbar"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#: u_dzRecordArray.pas:67
 msgid "New capacity cannot be less than current length."
 msgstr "Neue Kapazit?t kann nicht kleiner sein als aktuelle L?nge."
 
@@ -577,6 +570,8 @@
 msgid "Already on first page."
 msgstr "Bereits auf erster Seite."
 
+#~ msgid "Error %1:s (%0:d)"
+#~ msgstr "Fehler %1:s (%0:d)"
 #~ msgid "Buffer is full"
 #~ msgstr "Puffer ist voll"
 #~ msgid "Buffer is empty"

Modified: utilities/dzLib/trunk/translations/en/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 11:37:48 UTC (rev 304)
+++ utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-04 12:41:59 UTC (rev 305)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 04:10\n"
-"PO-Revision-Date: 2008-09-04 04:11-0800\n"
+"POT-Creation-Date: 2008-09-04 05:40\n"
+"PO-Revision-Date: 2008-09-04 05:41-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -255,26 +255,22 @@
 msgid "StdOut was not redirected"
 msgstr "StdOut was not redirected"
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
-msgid "Cannot change filename when file is open."
-msgstr "Cannot change filename when file is open."
+#: u_dzFileStreams.pas:259
+msgid "%1:s (%0:d)"
+msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
-msgid "Invalid file flags"
-msgstr "Invalid file flags"
-
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#: u_dzFileStreams.pas:307
 msgid "Invalid file attributes"
 msgstr "Invalid file attributes"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
-msgid "%1:s (%0:d)"
-msgstr "%1:s (%0:d)"
+#: u_dzFileStreams.pas:319
+msgid "Invalid file flags"
+msgstr "Invalid file flags"
 
+#: u_dzFileStreams.pas:338
+msgid "Cannot change filename when file is open."
+msgstr "Cannot change filename when file is open."
+
 #. GetLastError must be called before _(), otherwise the error code gets lost
 #: u_dzFileUtils.pas:834
 msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
@@ -352,37 +348,34 @@
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
-msgid "unknown OS error"
-msgstr "unknown OS error"
-
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. do not translate
+#: u_dzMiscUtils.pas:253
 msgid "unknown Registry Root Key %x"
 msgstr "unknown Registry Root Key %x"
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. do not translate
+#: u_dzMiscUtils.pas:266
 msgid "unknown RegDataType"
 msgstr "unknown RegDataType"
 
+#: u_dzMiscUtils.pas:295
+msgid "unknown OS error"
+msgstr "unknown OS error"
+
 #: u_dzOsUtils.pas:130
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (code %d) calling Windows.GetUsername"
 
 #. 16 KB should be enough for everybody... ;-)
 #: u_dzOsUtils.pas:150
-msgid "Error %1:s (%0:d)"
-msgstr "Error %1:s (%0:d)"
+msgid "Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings"
+msgstr "Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings"
 
 #: u_dzOsUtils.pas:308
 msgid "No version information available for %s"
 msgstr "No version information available for %s"
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#: u_dzRecordArray.pas:67
 msgid "New capacity cannot be less than current length."
 msgstr "New capacity cannot be less than current length."
 
@@ -577,6 +570,8 @@
 msgid "Already on first page."
 msgstr "Already on first page."
 
+#~ msgid "Error %1:s (%0:d)"
+#~ msgstr "Error %1:s (%0:d)"
 #~ msgid "Buffer is full"
 #~ msgstr "Buffer is full"
 #~ msgid "Buffer is empty"

Modified: utilities/dzLib/trunk/translations/fr/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 11:37:48 UTC (rev 304)
+++ utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-04 12:41:59 UTC (rev 305)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 04:10\n"
-"PO-Revision-Date: 2008-09-04 04:15-0800\n"
+"POT-Creation-Date: 2008-09-04 05:40\n"
+"PO-Revision-Date: 2008-09-04 05:41-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -250,27 +250,23 @@
 msgid "StdOut was not redirected"
 msgstr ""
 
-#. Programmer's name for it: STR_CANNOT_CHANGE_FILENAME_OF_OPEN_FILE
-#: u_dzFileStreams.pas:198
-msgid "Cannot change filename when file is open."
-msgstr ""
+#: u_dzFileStreams.pas:259
+msgid "%1:s (%0:d)"
+msgstr "%1:s (%0:d)"
 
-#. Programmer's name for it: STR_INVALID_FILE_FLAGS
-#: u_dzFileStreams.pas:199
+#: u_dzFileStreams.pas:307
 #, fuzzy
-msgid "Invalid file flags"
+msgid "Invalid file attributes"
 msgstr "Allocation du fichier de capture"
 
-#. Programmer's name for it: STR_INVALID_FILE_ATTRIBUTES
-#: u_dzFileStreams.pas:200
+#: u_dzFileStreams.pas:319
 #, fuzzy
-msgid "Invalid file attributes"
+msgid "Invalid file flags"
 msgstr "Allocation du fichier de capture"
 
-#. Programmer's name for it: STR_0S_ERROR_SD
-#: u_dzFileStreams.pas:201
-msgid "%1:s (%0:d)"
-msgstr "%1:s (%0:d)"
+#: u_dzFileStreams.pas:338
+msgid "Cannot change filename when file is open."
+msgstr ""
 
 #. GetLastError must be called before _(), otherwise the error code gets lost
 #: u_dzFileUtils.pas:834
@@ -351,40 +347,35 @@
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr ""
 
-#. Unbekannter Betriebssystem Fehler
-#. Programmer's name for it: STR_UNKNOWN_WIN32_ERROR
-#: u_dzMiscUtils.pas:236
-msgid "unknown OS error"
-msgstr "Erreur syst?me d'exploitation inconnue"
-
-#. Programmer's name for it: RS_UNKNOWN_REGISTRY_ROOT_KEY_X
-#: u_dzMiscUtils.pas:237
+#. do not translate
+#: u_dzMiscUtils.pas:253
 msgid "unknown Registry Root Key %x"
 msgstr ""
 
-#. Programmer's name for it: RS_UNKNOWN_REGDATATYPE
-#: u_dzMiscUtils.pas:238
+#. do not translate
+#: u_dzMiscUtils.pas:266
 #, fuzzy
 msgid "unknown RegDataType"
 msgstr "commande inconnue \"%s\""
 
+#: u_dzMiscUtils.pas:295
+msgid "unknown OS error"
+msgstr "Erreur syst?me d'exploitation inconnue"
+
 #: u_dzOsUtils.pas:130
-#, fuzzy
 msgid "%s (code %d) calling Windows.GetUsername"
-msgstr "u_dzFileUtils.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
+msgstr "%s (code %d) calling Windows.GetUsername"
 
 #. 16 KB should be enough for everybody... ;-)
 #: u_dzOsUtils.pas:150
-#, fuzzy
-msgid "Error %1:s (%0:d)"
-msgstr "%1:s (%0:d)"
+msgid "Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings"
+msgstr "Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings"
 
 #: u_dzOsUtils.pas:308
 msgid "No version information available for %s"
 msgstr ""
 
-#. Programmer's name for it: RS_NEW_CAPACITY_CANNOT_BE_LESS_THAN_CURRENT_LENGTH
-#: u_dzRecordArray.pas:38
+#: u_dzRecordArray.pas:67
 msgid "New capacity cannot be less than current length."
 msgstr ""
 
@@ -581,6 +572,10 @@
 msgstr ""
 
 #, fuzzy
+#~ msgid "Error %1:s (%0:d)"
+#~ msgstr "%1:s (%0:d)"
+
+#, fuzzy
 #~ msgid "Buffer is full"
 #~ msgstr "La taille actuelle est %s"
 



From twm at mail.berlios.de  Thu Sep  4 14:55:47 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 14:55:47 +0200
Subject: [Dzchart-svncheckins] r306 - in utilities/dzCmdLineParser/trunk: .
	src tests translations translations/de
Message-ID: <200809041255.m84CtlB5026881@sheep.berlios.de>

Author: twm
Date: 2008-09-04 14:55:43 +0200 (Thu, 04 Sep 2008)
New Revision: 306

Added:
   utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd
   utilities/dzCmdLineParser/trunk/ignore.po
   utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas
   utilities/dzCmdLineParser/trunk/translations/
   utilities/dzCmdLineParser/trunk/translations/de/
   utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
Modified:
   utilities/dzCmdLineParser/trunk/
   utilities/dzCmdLineParser/trunk/src/u_dzDefaultMain.pas
   utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas
   utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr
   utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj
Log:
latest development version


Property changes on: utilities/dzCmdLineParser/trunk
___________________________________________________________________
Name: svn:externals
   - libs/dztemplates https://svn.berlios.de/svnroot/repos/dztemplates/trunk
libs/jedi_inc https://svn.berlios.de/svnroot/repos/dzchart/3rd/jedi_inc/trunk
libs/dzlib https://svn.berlios.de/svnroot/repos/dzchart/utilities/dzLib/trunk

   + 


Added: utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd
===================================================================
--- utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd	2008-09-04 12:55:43 UTC (rev 306)
@@ -0,0 +1,16 @@
+ at rem This batch will
+ at rem * call dxgettext to extract all strings to translate
+ at rem * call msgremove remove any strings stored in the ignore.po file
+
+set BASE=.
+
+ at rem extract from subdirectories src and forms
+dxgettext --delphi -r -b %BASE%\src -b %BASE%\forms -o %BASE%
+
+ at rem remove strings given in ignore.po
+msgremove %BASE%\default.po -i %BASE%\ignore.po -o %BASE%\filtered.po
+
+ at rem merge German translations
+msgmerge --no-wrap --update %BASE%\translations\de\dzCmdLineParser.po %BASE%\filtered.po
+
+pause

Added: utilities/dzCmdLineParser/trunk/ignore.po
===================================================================

Added: utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas	2008-09-04 12:55:43 UTC (rev 306)
@@ -0,0 +1,561 @@
+{: Implements a simple commandline parser based on a state machine.
+   To use, call one of the overloaded TCmdLineParser.Execute class methods.
+   The state machine implementation is based on a concept described by
+   Julian Bucknail in the Delphi Magazine, issue 115: "Object-Oriented State Machines"
+   @author Thomas Mueller <http://www.dummzeuch.de> }
+unit u_dzCmdLineParser;
+
+interface
+
+uses
+  SysUtils,
+  Classes;
+
+type
+  EStateEngineError = class(exception);
+
+const
+  ALPHANUMERIC_CHARS = ['a'..'z', 'A'..'Z', '0'..'9'];
+  ALLCHARS_BUT_NULL = [#1..#255];
+
+type
+  IEngineContext = interface ['{F6FB6D03-C90F-468D-9ACC-716C58697CCA}']
+    {: returns the next character to parse }
+    function GetNextChar: char;
+    {: appends a character to the FOption field }
+    procedure AddToOption(_c: char);
+    {: appends a character to the FParameter field }
+    procedure AddToParameter(_c: char);
+    {: This is called whenever an option and parameter have been finished.
+       It checks what kind of parameter it was, possibly combines them and
+       adds it to the appropriate list. }
+    procedure HandleCmdLinePart;
+  end;
+
+type
+  IEngineState = interface ['{B8ADC607-8549-4B4A-A15A-278DAEE5F6CE}']
+    function Execute(const _Context: IEngineContext): IEngineState;
+    function GetClassName: string;
+  end;
+
+type
+  TEngineStateAbstract = class(TInterfacedObject)
+  private
+    function GetClassName: string;
+  end;
+
+type
+  TEngineStateError = class(TEngineStateAbstract, IEngineState)
+  private
+    FError: string;
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+    constructor Create(const _Error: string);
+  end;
+
+type
+  TEngineStateSpace = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateDash = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateDoubleDash = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateLongOption = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateShortOption = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateShortSwitch = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateShortParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateQuotedShortParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateLongParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateQuotedLongParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateQuotedParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TCmdLineParser = class
+  public
+    {: parses the CmdLine string and returns the options and parameters
+       @param CmdLine is a string with the commandline to parse
+       @param Options is a TStrings instance which returns all options found as
+              name=value pairs,
+              e.g. '--one=two --three -x four -y' will result in
+              'one=two'
+              'three='
+              'x=four'
+              'y'
+              This list must not be sorted. Duplicates are allowed. The order
+              of the options is preserved. If you do not care about duplicates,
+              you can use the Values property to access option values.
+       @param Params is a TStrings instance  wich returns all parameters found,
+              e.g. 'one two three' will result in
+              'one'
+              'two'
+              'three' }
+    class procedure Execute(const _CmdLine: string; _Options: TStrings; _Params: TStrings); overload;
+    {: parses the application's commandline and returns the options and paramteters }
+    class procedure Execute(_Options: TStrings; _Params: TStrings); overload;
+  end;
+
+implementation
+
+type
+  IEngineContextEx = interface ['{CD19DB13-F344-4E1A-B97F-D235B445B463}']
+    procedure GetOptions(_Options: TStrings);
+    procedure GetParams(_Params: TStrings);
+  end;
+
+type
+  {: stores the engine context, passed to the execute method of all engine states }
+  TEngineContext = class(TInterfacedObject, IEngineContext, IEngineContextEx)
+  protected
+    FReadIdx: integer;
+    FInput: string;
+    {: buffer for the currently handled option }
+    FOption: string;
+    {: buffer for the currently handled parameter }
+    FParameter: string;
+    {: Stores options as <optionname>[=<value] in the order they appeared on the
+       commandline., note that options can appear multiple times, so using
+       FParameter.Values[<name>] might not be appropriate }
+    FOptions: TStringList;
+    {: stores the Params property }
+    FParams: TStringList;
+  protected // implements IEngineContext
+    {: returns the next character to parse }
+    function GetNextChar: char;
+    {: appends a character to the FOption field }
+    procedure AddToOption(_c: char);
+    {: appends a character to the FParameter field }
+    procedure AddToParameter(_c: char);
+    {: This is called whenever an option and parameter have been finished.
+       It checks what kind of parameter it was, possibly combines them and
+       adds it to the appropriate list. }
+    procedure HandleCmdLinePart;
+  protected // implements IEngineContextEx
+    procedure GetOptions(_Options: TStrings);
+    procedure GetParams(_Params: TStrings);
+  public
+    constructor Create(_Input: string);
+    destructor Destroy; override;
+    {: Stores options as <optionname>[=<value] in the order they appeared on the
+       commandline., note that options can appear multiple times, so using
+       FParameter.Values[<name>] might not be appropriate }
+    property Options: TStringList read FOptions;
+    {: Stores the parameters, ordered as they appear on the commandline }
+    property Params: TStringList read FParams;
+  end;
+
+{ TEngineStateAbstract }
+
+function TEngineStateAbstract.GetClassName: string;
+begin
+  Result := ClassName;
+end;
+
+{ TEngineStateError }
+
+constructor TEngineStateError.Create(const _Error: string);
+begin
+  inherited Create;
+  FError := _Error;
+end;
+
+function TEngineStateError.Execute(const _Context: IEngineContext): IEngineState;
+begin
+  raise EStateEngineError.Create(FError);
+end;
+
+{ TEngineStateSpace }
+
+function TEngineStateSpace.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '-':
+      Result := TEngineStateDash.Create;
+    #0:
+      Result := nil; // end state
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedParam.Create;
+      end;
+    ' ':
+      Result := self;
+  else
+    _Context.AddToParameter(c);
+    Result := TEngineStateParam.Create;
+  end;
+end;
+
+{ TEngineStateParam }
+
+function TEngineStateParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedParam.Create;
+      end;
+    #0, ' ': begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+  else
+    _Context.AddToParameter(c);
+    Result := Self;
+  end;
+end;
+
+{ TEngineStateQuotedParam }
+
+function TEngineStateQuotedParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateParam.Create;
+      end;
+    #0:
+      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+  else
+    _Context.AddToParameter(c);
+    Result := self;
+  end;
+end;
+
+{ TEngineStateDash }
+
+function TEngineStateDash.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  if c in ALPHANUMERIC_CHARS then begin
+    _Context.AddToOption(c);
+    Result := TEngineStateShortOption.Create;
+  end else if c = '-' then
+    Result := TEngineStateDoubleDash.Create
+  else
+    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+end;
+
+{ TEngineStateDoubleDash }
+
+function TEngineStateDoubleDash.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  if c in ALPHANUMERIC_CHARS then begin
+    _Context.AddToOption(c);
+    Result := TEngineStateLongOption.Create;
+  end else
+    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+end;
+
+{ TEngineStateShortOption }
+
+function TEngineStateShortOption.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    ' ': begin
+        Result := TEngineStateShortParam.Create;
+      end;
+    '-', '+': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateShortSwitch.Create;
+      end;
+    #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+  else
+    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+  end;
+end;
+
+{ TEngineStateShortSwitch }
+
+function TEngineStateShortSwitch.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end else
+    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+  end;
+end;
+
+{ TEngineStateShortParam }
+
+function TEngineStateShortParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedShortParam.Create;
+      end;
+    '-': begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateDash.Create;
+      end;
+  else
+    _Context.AddToParameter(c);
+    Result := self;
+  end;
+end;
+
+{ TEngineStateQuotedShortParam }
+
+function TEngineStateQuotedShortParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateShortParam.Create;
+      end;
+    #0:
+      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+  else
+    _Context.AddToParameter(c);
+    Result := self;
+  end;
+end;
+
+{ TEngineStateLongOption }
+
+function TEngineStateLongOption.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '=':
+      Result := TEngineStateLongParam.Create;
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+    '"', '''':
+      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+  else
+    _Context.AddToOption(c);
+    Result := TEngineStateLongOption.Create;
+  end;
+end;
+
+{ TEngineStateLongParam }
+
+function TEngineStateLongParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedLongParam.Create;
+      end;
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+  else
+    _Context.AddToParameter(c);
+    Result := TEngineStateLongParam.Create;
+  end;
+end;
+
+{ TEngineStateQuotedLongParam }
+
+function TEngineStateQuotedLongParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateLongParam.Create;
+      end;
+    #0:
+      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
+  else
+    _Context.AddToParameter(c);
+    Result := TEngineStateQuotedLongParam.Create;
+  end;
+end;
+
+{ TStateParams }
+
+procedure TEngineContext.AddToOption(_c: char);
+begin
+  FOption := FOption + _c;
+end;
+
+procedure TEngineContext.AddToParameter(_c: char);
+begin
+  FParameter := FParameter + _c;
+end;
+
+constructor TEngineContext.Create(_Input: string);
+begin
+  inherited Create;
+  FOptions := TStringList.Create;
+  FParams := TStringList.Create;
+  FInput := _Input;
+  FReadIdx := 0;
+end;
+
+destructor TEngineContext.Destroy;
+begin
+  FParams.Free;
+  FOptions.Free;
+  inherited;
+end;
+
+function TEngineContext.GetNextChar: char;
+begin
+  if FReadIdx >= Length(FInput) then
+    Result := #0
+  else begin
+    Inc(FReadIdx);
+    Result := FInput[FReadIdx];
+  end;
+end;
+
+procedure TEngineContext.GetOptions(_Options: TStrings);
+begin
+  _Options.Assign(FOptions);
+end;
+
+procedure TEngineContext.GetParams(_Params: TStrings);
+begin
+  _Params.Assign(FParams);
+end;
+
+procedure TEngineContext.HandleCmdLinePart;
+begin
+  if FOption <> '' then
+    FOptions.Add(FOption + '=' + FParameter)
+  else
+    FParams.Add(FParameter);
+  FParameter := '';
+  FOption := '';
+end;
+
+{ TCdmLineParser }
+
+class procedure TCmdLineParser.Execute(const _CmdLine: string; _Options, _Params: TStrings);
+var
+  Context: IEngineContext;
+  ContextEx: IEngineContextEx;
+  State: IEngineState;
+begin
+  Context := TEngineContext.Create(_CmdLine);
+  State := TEngineStateSpace.Create;
+  while State <> nil do
+    State := State.Execute(Context);
+  ContextEx := Context as IEngineContextEx;
+  ContextEx.GetOptions(_Options);
+  ContextEx.GetParams(_Params);
+end;
+
+class procedure TCmdLineParser.Execute(_Options, _Params: TStrings);
+begin
+  Execute(CmdLine, _Options, _Params);
+end;
+
+end.
+

Modified: utilities/dzCmdLineParser/trunk/src/u_dzDefaultMain.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzDefaultMain.pas	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/src/u_dzDefaultMain.pas	2008-09-04 12:55:43 UTC (rev 306)
@@ -90,8 +90,15 @@
   SysUtils,
   Classes,
   Dialogs,
-  u_dzLogging;
+  u_dzLogging,
+  w_dzDialog;
 
+resourcestring
+  RS_Error_S = 'Error: %s';
+  RS_Synopsis_S_S = 'Synopsis: %s %s';
+  RS_Parameters = 'Parameters:';
+  RS_Options = 'Options:';
+
 constructor TDefaultMain.Create;
 begin
   inherited;
@@ -117,14 +124,14 @@
   s: string;
 begin
   if _Error <> '' then begin
-    s := Format(_('Error: %s') + #13#10#13#10, [_Error]);
+    s := Format(RS_Error_S + #13#10#13#10, [_Error]);
     LogError(_Error);
   end;
   MessageDlg(s + Format(
-    _('Synopsis: %s %s') + #13#10#13#10 +
-    _('Parameters:') + #13#10 +
+    RS_Synopsis_S_S + #13#10#13#10 +
+    RS_Parameters + #13#10 +
     '%s'#13#10#13#10 +
-    _('Options:') + #13#10 +
+    RS_Options + #13#10 +
     '%s',
     [FGetOpt.ProgName, FGetOpt.GetCmdLineDesc, FGetOpt.GetParamHelp, FGetOpt.GetOptionHelp]),
     mtError, [mbOK], 0);
@@ -168,12 +175,12 @@
       FExitCode := 1;
     end;
     on e: Exception do begin
-      s := 'Exception ' + e.ClassName + ': ' + e.Message;
+      s := 'Exception: ' + e.Message + ' (' + e.ClassName + ')';
       LogError(s);
       if IsConsole then
         WriteLn(s)
       else
-        ShowException(e, ExceptAddr);
+       Tf_dzDialog.ShowException(e);
       FExitCode := 1;
     end;
   end;

Modified: utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-04 12:55:43 UTC (rev 306)
@@ -109,8 +109,18 @@
 implementation
 
 uses
-  u_dzCmdLineParser;
+  u_dzCmdLineParser,
+  u_dzTranslator;
 
+resourcestring
+  RS_NOT_A_REGISTERED_OPTION_S = '%s is not a registered option.';
+  RS_TOO_MANY_PARAMETERS = 'There are too many parameters.';
+  RS_NOT_ENOUGH_PARAMETERS_SD = 'There are not enough %s parameters (min: %d)';
+  RS_DISPLAY_PARAMETER_HELP = 'display parameter help';
+  RS_OPTION_IS_UNKNOWN_S = 'Option %s is unknown';
+  RS_OPTION_REQUIRES_VALUE_S = 'Option %s requires a value.';
+  RS_OPTIONS = '[options]';
+
 { TdzGetOpt }
 
 constructor TGetOpt.Create(const _ProgName: string = '');
@@ -145,7 +155,7 @@
   s: string;
 begin
   if FOptionDescList.Count <> 0 then
-    Result := '[options]'
+    Result := RS_OPTIONS
   else
     Result := '';
   for i := 0 to FParamDescList.Count - 1 do begin
@@ -204,7 +214,7 @@
   PrimaryName: string;
 begin
   if not FOptionNameList.Find(PChar(_Name), Idx) then
-    raise EUnknownOption.CreateFmt('%s is not a registered option.', [_Name]);
+    raise EUnknownOption.CreateFmt(RS_NOT_A_REGISTERED_OPTION_S, [_Name]);
 
   Result := 0;
   PrimaryName := FOptionNameList[Idx].GetPrimaryName;
@@ -271,6 +281,7 @@
 var
   DescIdx: integer;
   FoundIdx: integer;
+  DesCount: Integer;
   Cnt: integer;
   pd: TParamDesc;
   OptDesc: TOptionDesc;
@@ -280,36 +291,37 @@
   FoundIdx := 0;
   DescIdx := 0;
   while FoundIdx < _Params.Count do begin
-    if DescIdx >= FParamDescList.Count then
-      raise ETooManyParams.Create('There are too many parameters.');
+    DesCount := FParamDescList.Count;
+    if (DescIdx >= DesCount) then
+      raise ETooManyParams.Create(RS_TOO_MANY_PARAMETERS);
     pd := FParamDescList[DescIdx];
     Cnt := 0;
-    while (Cnt < pd.MaxCount) and (FoundIdx < _Params.Count) do begin
+    while ((Cnt < pd.MaxCount) or (pd.MaxCount = -1)) and (FoundIdx < _Params.Count) do begin
       s := _Params[FoundIdx];
-      FParamsFoundList.Insert(TParamFound.Create(pd, s));
+      FParamsFoundList.Add(TParamFound.Create(pd, s));
       Inc(Cnt);
       Inc(FoundIdx);
     end;
     if Cnt < pd.MinCount then
-      raise ETooFewParams.CreateFmt('There are not enough %s parameters (min: %d)', [pd.Name, pd.MinCount]);
+      raise ETooFewParams.CreateFmt(RS_NOT_ENOUGH_PARAMETERS_SD, [pd.Name, pd.MinCount]);
     Inc(DescIdx);
   end;
   while DescIdx < FParamDescList.Count do begin
     pd := FParamDescList[DescIdx];
     if pd.MinCount > 0 then
-      raise ETooFewParams.CreateFmt('There are not enough %s parameters (min: %d)', [pd.Name, pd.MinCount]);
+      raise ETooFewParams.CreateFmt(RS_NOT_ENOUGH_PARAMETERS_SD, [pd.Name, pd.MinCount]);
     Inc(DescIdx);
   end;
 
   FoundIdx := 0;
   while FoundIdx < _Options.Count do begin
     if not FOptionNameList.Find(_Options.Names[FoundIdx], OptName) then
-      raise EUnknownOption.CreateFmt('Option %s is unknown', [_Options.Names[Foundidx]]);
+      raise EUnknownOption.CreateFmt(RS_OPTION_IS_UNKNOWN_S, [_Options.Names[Foundidx]]);
     s := _Options.ValueFromIndex[FoundIdx];
     OptDesc := OptName.OptionDesc;
     if OptDesc.HasValue and (s = '') then
-      raise EOptionValue.CreateFmt('Option %s requires a value.', [OptName.Name]);
-    FOptionsFoundList.Insert(TOptionFound.Create(OptDesc, OptName.Name, s));
+      raise EOptionValue.CreateFmt(RS_OPTION_REQUIRES_VALUE_S, [OptName.Name]);
+    FOptionsFoundList.Add(TOptionFound.Create(OptDesc, OptName.Name, s));
     Inc(FoundIdx);
   end;
 end;
@@ -352,7 +364,7 @@
 
 procedure TGetOpt.RegisterHelpOptions;
 begin
-  RegisterOption(['help', '?', 'h', 'H'], 'display parameter help', false);
+  RegisterOption(['help', '?', 'h', 'H'], RS_DISPLAY_PARAMETER_HELP, false);
 end;
 
 procedure TGetOpt.RegisterOption(const _Name, _Description: string; _HasValue: boolean);
@@ -367,16 +379,18 @@
   Desc: TOptionDesc;
 begin
   Desc := TOptionDesc.Create(_Names, _Description, _HasValue);
-  FOptionDescList.Insert(Desc);
+  FOptionDescList.Add(Desc);
   for i := 0 to High(_Names) do
-    FOptionNameList.Insert(TOptionName.Create(_Names[i], Desc));
+    FOptionNameList.Add(TOptionName.Create(_Names[i], Desc));
 end;
 
 procedure TGetOpt.RegisterParam(const _Name, _Description: string;
   _MinCount, _MaxCount: integer);
 begin
-  FParamDescList.Insert(TParamDesc.Create(_Name, _Description, _MinCount, _MaxCount));
+  FParamDescList.Add(TParamDesc.Create(_Name, _Description, _MinCount, _MaxCount));
 end;
 
+initialization
+  AddDomainForResourceString('dzCmdLineParser');
 end.
 

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-04 12:55:43 UTC (rev 306)
@@ -33,8 +33,6 @@
 {$DEFINE __DZ_SORTED_OBJECT_LIST_TEMPLATE__}
 type
   _LIST_ANCESTOR_ = TObject;
-  _LIST_CONTAINER_ = TList;
-  _LIST_CONTAINER_ITEM_TYPE_ = pointer;
   _ITEM_TYPE_ = TOptionDesc;
   _KEY_TYPE_ = string;
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}
@@ -55,6 +53,12 @@
 uses
   StrUtils;
 
+resourcestring
+  RS_OPTION_NAME_CANNOT_BE_EMPTY = 'Option name cannot be empty.';
+  RS_OPTION_NAME_MUST_START_WITH_ALPHANUMERIC = 'Option name must start with an alphanumeric character.';
+  RS_OPTION_NAME_CONTAINS_INVALID_CHAR_SD = 'Option name contains invalid character "%s" (%d).';
+  RS_VALUE = 'value';
+
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}
 
 function TOptionDescList.KeyOf(const _Item: TOptionDesc): string;
@@ -98,13 +102,13 @@
   i: integer;
 begin
   if _Name = '' then
-    raise EOptionName.Create('Option name cannot be empty.');
+    raise EOptionName.Create(RS_OPTION_NAME_CANNOT_BE_EMPTY);
   { TODO -otwm : Maybe '$', '#' and some other chars should be allowed }
   if not (_Name[1] in ['a'..'z', 'A'..'Z', '0'..'9', '?']) then
-    raise EOptionName.Create('Option name must start with an alphanumeric character.');
+    raise EOptionName.Create(RS_OPTION_NAME_MUST_START_WITH_ALPHANUMERIC);
   for i := 2 to Length(_Name) do
     if not (_Name[i] in ['a'..'z', 'A'..'Z', '0'..'9', '-', '_']) then
-      raise EOptionName.CreateFmt('Option name contains invalid character "%s" (%d).', [_Name[i], Ord(_Name[i])]);
+      raise EOptionName.CreateFmt(RS_OPTION_NAME_CONTAINS_INVALID_CHAR_SD, [_Name[i], Ord(_Name[i])]);
 end;
 
 function TOptionDesc.CreateDescription(const _OptionName: string): string;
@@ -114,12 +118,12 @@
     1: begin
         Result := '-' + _OptionName;
         if FHasValue then
-          Result := Result + ' value';
+          Result := Result + ' ' + RS_VALUE;
       end;
   else begin
       Result := '--' + _OptionName;
       if FHasValue then
-        Result := Result + '=value';
+        Result := Result + '=' + RS_VALUE;
     end
   end;
 end;

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas	2008-09-04 12:55:43 UTC (rev 306)
@@ -24,8 +24,6 @@
 {$DEFINE __DZ_SORTED_OBJECT_LIST_TEMPLATE__}
 type
   _LIST_ANCESTOR_ = TObject;
-  _LIST_CONTAINER_ = TList;
-  _LIST_CONTAINER_ITEM_TYPE_ = pointer;
   _ITEM_TYPE_ = TOptionFound;
   _KEY_TYPE_ = string;
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas	2008-09-04 12:55:43 UTC (rev 306)
@@ -23,8 +23,6 @@
 {$DEFINE __DZ_SORTED_OBJECT_LIST_TEMPLATE__}
 type
   _LIST_ANCESTOR_ = TObject;
-  _LIST_CONTAINER_ = TList;
-  _LIST_CONTAINER_ITEM_TYPE_ = pointer;
   _ITEM_TYPE_ = TOptionName;
   _KEY_TYPE_ = string;
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}

Modified: utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr
===================================================================
--- utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr	2008-09-04 12:55:43 UTC (rev 306)
@@ -4,8 +4,8 @@
   Delphi DUnit Test Project
   -------------------------
   This project contains the DUnit test framework and the GUI/Console test runners.
-  Add "CONSOLE_TESTRUNNER" to the conditional defines entry in the project options 
-  to use the console test runner.  Otherwise the GUI test runner will be used by 
+  Add "CONSOLE_TESTRUNNER" to the conditional defines entry in the project options
+  to use the console test runner.  Otherwise the GUI test runner will be used by
   default.
 
 }
@@ -15,6 +15,7 @@
 {$ENDIF}
 
 uses
+  u_dzTranslator in '..\..\dzlib\src\u_dzTranslator.pas',
   Forms,
   TestFramework,
   GUITestRunner,
@@ -27,8 +28,8 @@
   u_dzOptionNameList in '..\src\u_dzOptionNameList.pas',
   u_dzOptionFoundList in '..\src\u_dzOptionFoundList.pas',
   u_dzGetOpt_UnitTest in 'u_dzGetOpt_UnitTest.pas',
-  u_dzCmdLineParser in '..\libs\dzlib\src\u_dzCmdLineParser.pas',
-  u_dzCmdLineParserStates in '..\libs\dzlib\src\u_dzCmdLineParserStates.pas';
+  u_dzCmdLineParser in '..\..\dzlib\src\u_dzCmdLineParser.pas',
+  u_dzCmdLineParserStates in '..\..\dzlib\src\u_dzCmdLineParserStates.pas';
 
 {$R *.RES}
 

Modified: utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj
===================================================================
--- utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj	2008-09-04 12:55:43 UTC (rev 306)
@@ -1,4 +1,5 @@
-?<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
+?<?xml version="1.0" encoding="utf-8"?>
+<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
   <PropertyGroup>
     <ProjectGuid>{ff87c54f-7bb3-4fb0-8be9-da726c81d33c}</ProjectGuid>
     <MainSource>CmdLineParserTest.dpr</MainSource>
@@ -30,10 +31,10 @@
     <DCC_SYMBOL_PLATFORM>False</DCC_SYMBOL_PLATFORM>
     <DCC_UNIT_PLATFORM>False</DCC_UNIT_PLATFORM>
     <DCC_Description>RTS Highlighter Extensions</DCC_Description>
-    <DCC_UnitSearchPath>..\libs\dzTemplates\units;..\libs\dztemplates\templates;..\libs\jedi_inc;..\libs\dzlib\src</DCC_UnitSearchPath>
-    <DCC_ResourcePath>..\libs\dzTemplates\units;..\libs\dztemplates\templates;..\libs\jedi_inc;..\libs\dzlib\src</DCC_ResourcePath>
-    <DCC_ObjPath>..\libs\dzTemplates\units;..\libs\dztemplates\templates;..\libs\jedi_inc;..\libs\dzlib\src</DCC_ObjPath>
-    <DCC_IncludePath>..\libs\dzTemplates\units;..\libs\dztemplates\templates;..\libs\jedi_inc;..\libs\dzlib\src</DCC_IncludePath>
+    <DCC_UnitSearchPath>..\..\dzTemplates\units;..\..\dztemplates\templates;..\..\dzlib\jedi_inc;..\..\dzlib\src</DCC_UnitSearchPath>
+    <DCC_ResourcePath>..\..\dzTemplates\units;..\..\dztemplates\templates;..\..\dzlib\jedi_inc;..\..\dzlib\src</DCC_ResourcePath>
+    <DCC_ObjPath>..\..\dzTemplates\units;..\..\dztemplates\templates;..\..\dzlib\jedi_inc;..\..\dzlib\src</DCC_ObjPath>
+    <DCC_IncludePath>..\..\dzTemplates\units;..\..\dztemplates\templates;..\..\dzlib\jedi_inc;..\..\dzlib\src</DCC_IncludePath>
     <DCC_ExeOutput>..</DCC_ExeOutput>
     <DCC_DcuOutput>..\dcu</DCC_DcuOutput>
     <DCC_ObjOutput>..\dcu</DCC_ObjOutput>
@@ -44,291 +45,6 @@
     <Borland.ProjectType />
     <BorlandProject>
 <BorlandProject><Delphi.Personality><Parameters><Parameters Name="HostApplication">C:\Delphi7\Bin\delphi32.exe</Parameters><Parameters Name="UseLauncher">False</Parameters><Parameters Name="LoadAllSymbols">True</Parameters><Parameters Name="LoadUnspecifiedSymbols">False</Parameters></Parameters><Language><Language Name="RootDir">C:\Delphi7\Bin\</Language></Language><VersionInfo><VersionInfo Name="IncludeVerInfo">True</VersionInfo><VersionInfo Name="AutoIncBuild">False</VersionInfo><VersionInfo Name="MajorVer">1</VersionInfo><VersionInfo Name="MinorVer">0</VersionInfo><VersionInfo Name="Release">0</VersionInfo><VersionInfo Name="Build">0</VersionInfo><VersionInfo Name="Debug">False</VersionInfo><VersionInfo Name="PreRelease">False</VersionInfo><VersionInfo Name="Special">False</VersionInfo><VersionInfo Name="Private">False</VersionInfo><VersionInfo Name="DLL">True</VersionInfo><VersionInfo Name="Locale">4105</VersionInfo><VersionInfo Name="CodePage">1252</VersionInfo></Versi!
 onInfo><VersionInfoKeys><VersionInfoKeys Name="CompanyName"></VersionInfoKeys><VersionInfoKeys Name="FileDescription"></VersionInfoKeys><VersionInfoKeys Name="FileVersion">1.0.0.0</VersionInfoKeys><VersionInfoKeys Name="InternalName"></VersionInfoKeys><VersionInfoKeys Name="LegalCopyright"></VersionInfoKeys><VersionInfoKeys Name="LegalTrademarks"></VersionInfoKeys><VersionInfoKeys Name="OriginalFilename"></VersionInfoKeys><VersionInfoKeys Name="ProductName"></VersionInfoKeys><VersionInfoKeys Name="ProductVersion">1.0.0.0</VersionInfoKeys><VersionInfoKeys Name="Comments"></VersionInfoKeys></VersionInfoKeys><Excluded_Packages>
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
-      
       <Excluded_Packages Name="c:\program files\borland\bds\4.0\Bin\dcldb100.bpl">Borland Database Components</Excluded_Packages>
       <Excluded_Packages Name="c:\program files\borland\bds\4.0\bin\dclado100.bpl">Borland ADO DB Components</Excluded_Packages>
       <Excluded_Packages Name="c:\program files\borland\bds\4.0\Bin\dcldbx100.bpl">Borland dbExpress Components</Excluded_Packages>
@@ -355,8 +71,9 @@
     <DelphiCompile Include="CmdLineParserTest.dpr">
       <MainSource>MainSource</MainSource>
     </DelphiCompile>
-    <DCCReference Include="..\libs\dzlib\src\u_dzCmdLineParser.pas" />
-    <DCCReference Include="..\libs\dzlib\src\u_dzCmdLineParserStates.pas" />
+    <DCCReference Include="..\..\dzlib\src\u_dzCmdLineParser.pas" />
+    <DCCReference Include="..\..\dzlib\src\u_dzCmdLineParserStates.pas" />
+    <DCCReference Include="..\..\dzlib\src\u_dzTranslator.pas" />
     <DCCReference Include="..\src\u_dzGetOpt.pas" />
     <DCCReference Include="..\src\u_dzOptionDescList.pas" />
     <DCCReference Include="..\src\u_dzOptionFoundList.pas" />

Added: utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
===================================================================
--- utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-04 12:41:59 UTC (rev 305)
+++ utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-04 12:55:43 UTC (rev 306)
@@ -0,0 +1,89 @@
+# SOME DESCRIPTIVE TITLE.
+# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER
+# This file is distributed under the same license as the PACKAGE package.
+# FIRST AUTHOR <EMAIL at ADDRESS>, YEAR.
+#
+msgid ""
+msgstr ""
+"Project-Id-Version: dzCmdLineParser 1.0\n"
+"POT-Creation-Date: 2008-04-23 16:07\n"
+"PO-Revision-Date: 2008-04-23 16:06+0100\n"
+"Last-Translator: Thomas Mueller <info at schniering.com>\n"
+"Language-Team: twm <nospam at dummzeuch.de>\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Generator: dxgettext 1.2.2\n"
+"X-Poedit-Language: German\n"
+"X-Poedit-Country: GERMANY\n"
+
+#: u_dzDefaultMain.pas:120 
+msgid "Error: %s"
+msgstr "Fehler: %s"
+
+#: u_dzDefaultMain.pas:124 
+msgid "Synopsis: %s %s"
+msgstr "Aufruf: %s %s"
+
+#: u_dzDefaultMain.pas:125 
+msgid "Parameters:"
+msgstr "Parameter:"
+
+#: u_dzDefaultMain.pas:127 
+msgid "Options:"
+msgstr "Optionen:"
+
+#. Programmer's name for it: RS_NOT_A_REGISTERED_OPTION_S
+#: u_dzGetOpt.pas:115 
+msgid "%s is not a registered option."
+msgstr "%s ist keine registrierte Option"
+
+#. Programmer's name for it: RS_TOO_MANY_PARAMETERS
+#: u_dzGetOpt.pas:116 
+msgid "There are too many parameters."
+msgstr "Zuviele Parameter"
+
+#. Programmer's name for it: RS_NOT_ENOUGH_PARAMETERS_SD
+#: u_dzGetOpt.pas:117 
+msgid "There are not enough %s parameters (min: %d)"
+msgstr "Nicht gen?gend %s Parameter (min: %d)"
+
+#. Programmer's name for it: RS_DISPLAY_PARAMETER_HELP
+#: u_dzGetOpt.pas:118 
+msgid "display parameter help"
+msgstr "Parameter Hilfe anzeigen"
+
+#. Programmer's name for it: RS_OPTION_IS_UNKNOWN_S
+#: u_dzGetOpt.pas:119 
+msgid "Option %s is unknown"
+msgstr "Option %s ist nciht bekannt"
+
+#. Programmer's name for it: RS_OPTION_REQUIRES_VALUE_S
+#: u_dzGetOpt.pas:120 
+msgid "Option %s requires a value."
+msgstr "Option %s ben?tigt einen Wert."
+
+#. Programmer's name for it: RS_OPTIONS
+#: u_dzGetOpt.pas:121 
+msgid "[options]"
+msgstr "[Optionen]"
+
+#. Programmer's name for it: RS_OPTION_NAME_CANNOT_BE_EMPTY
+#: u_dzOptionDescList.pas:59 
+msgid "Option name cannot be empty."
+msgstr "Optionsname kann nicht leer sein."
+
+#. Programmer's name for it: RS_OPTION_NAME_MUST_START_WITH_ALPHANUMERIC
+#: u_dzOptionDescList.pas:60 
+msgid "Option name must start with an alphanumeric character."
+msgstr "Optionsname muss mit einem alphanumerischen Zeichen beginnen."
+
+#. Programmer's name for it: RS_OPTION_NAME_CONTAINS_INVALID_CHAR_SD
+#: u_dzOptionDescList.pas:61 
+msgid "Option name contains invalid character \"%s\" (%d)."
+msgstr "Optionsname enth?lt ung?ltiges Zeichen \"%s\" (%d)"
+
+#. Programmer's name for it: RS_VALUE
+#: u_dzOptionDescList.pas:62 
+msgid "value"
+msgstr "Wert"



From twm at mail.berlios.de  Thu Sep  4 14:57:59 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Thu, 4 Sep 2008 14:57:59 +0200
Subject: [Dzchart-svncheckins] r307 - utilities/dzLib/trunk/src
Message-ID: <200809041257.m84CvxWu027028@sheep.berlios.de>

Author: twm
Date: 2008-09-04 14:57:58 +0200 (Thu, 04 Sep 2008)
New Revision: 307

Removed:
   utilities/dzLib/trunk/src/u_dzDefaultMain.pas
Log:
was moved to dzCmdlineParser

Deleted: utilities/dzLib/trunk/src/u_dzDefaultMain.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzDefaultMain.pas	2008-09-04 12:55:43 UTC (rev 306)
+++ utilities/dzLib/trunk/src/u_dzDefaultMain.pas	2008-09-04 12:57:58 UTC (rev 307)
@@ -1,201 +0,0 @@
-{GXFormatter.config=twm}
-unit u_dzDefaultMain;
-
-{$I jedi.inc}
-
-interface
-
-uses
-  u_dzTranslator,
-  u_dzCmdLineParser;
-
-type
-  {: An "application" class for console programs.
-     To use this class, assign a descendant of TDefaultMain to the MainClass variable and
-     call Main in the project's project file like this:
-     @longcode(
-     begin
-       Application.Initialize;
-       Application.Title := '<your application's title here>';
-       MainClass := <your TDefaultMain descendant class>;
-       System.ExitCode := Main;
-     end.
-     )
-     Your descendant should override at least the following methods
-     * InitCmdLineParser
-     * doExecute }
-  TDefaultMain = class
-  protected
-    {: stores the exit code }
-    FExitCode: integer;
-    {: Created in InitCmdLineParser, allows reading the parameters }
-    FCmdLineParser: TCmdlineParser;
-    {: Initializes FCmdLineParser with a Parser, should be overridden }
-    procedure InitCmdLineParser; virtual;
-    {: Zeigt eine vom FCmdLineParser generierte Kurzhilfe zum Programm an und
-       beendet das Programm durch Aufruf von SysUtils.Abort.
-       @param Error ist eine optionale Fehlermeldung, wenn nicht leer, wird sie ausgegeben }
-    procedure Usage(const _Error: string = ''); virtual;
-    {: Ruft die Execute-Methode des Commandline-Parsers auf, danach stehen die
-       Parameter zur Verfuegung. Falls beim Parsen ein Fehler auftritt, so wird
-       automatisch Usage mit der entsprechenden Fehlermeldung aufgerufen. }
-    procedure ParseCmdLine; virtual;
-    {: Diese Methode sollte ueberschrieben werden und die eigentliche Programmfunktion
-       ausfuehren. Sie wird nach dem Parsen der Commandline aufgerufen, so dass
-       zu diesem Zeitpunkt sichergestellt ist, dass die Parameter OK sind.
-       @returns den Exit-Code fuer das Programm }
-    function doExecute: integer; virtual;
-  public
-    {: Erzeugt eine TDefaultMain-Instanz, setzt den Exit-Code auf 1 (=Fehler)
-       und initialisiert das Logging. }
-    constructor Create; virtual;
-    {: Gibt eine TDefaultMain-Instanz frei und schreibt das
-       Programmende ins Log. }
-    destructor Destroy; override;
-    {: Diese Methode sollte aufgerufen werden. Sie initialisiert den Commandline-Parser,
-       fuehrt ihn aus und ruft dann doExecute innerhalb eines Try-Except-Blocks auf
-       Falls in doExecute eine Exception geraised wird, so wird sie hier abgefangen,
-       eine Fehlermeldung auf die Konsole ausgegeben und der Exit-Code auf 1 (=Fehler) gesetzt
-       Falls doExecute ganz normal beendet wird, so wird dessen Ergebnis als
-       Exit-Code verwendet.
-       @returns den Exit-Code des Programms }
-    function Execute: integer;
-  end;
-
-type
-  {: Class-Type fuer die globale Variable MainClass }
-  TMainClass = class of TDefaultMain;
-
-var
-  {: Globale Variable, die auf die Main-Klasse zeigt. Diese
-     Variable wird innerhalb der Funktion @link(Main) verwendet,
-     um eine Klasse zu erzeugen und auszufuehren }
-  MainClass: TMainClass = TDefaultMain;
-
-  {: Erzeugt eine Instanz von MainClass, ruft deren Execute-Methode auf und liefert
-     den Exit-Code zurueck
-     @returns den Exit-Code des Programms }
-function Main: integer;
-
-implementation
-
-uses
-  Windows,
-  SysUtils,
-  Classes,
-  Dialogs,
-  u_dzLogging;
-
-constructor TDefaultMain.Create;
-begin
-  inherited;
-  // default: Fehler
-  FExitCode := 1;
-end;
-
-destructor TDefaultMain.Destroy;
-begin
-  FreeAndNil(FCmdLineParser);
-  LogInfo('Program finished.');
-  inherited;
-end;
-
-function TDefaultMain.doExecute: integer;
-begin
-  MessageDlg('This program does nothing yet.', mtInformation, [mbOK], 0);
-  Result := 0;
-end;
-
-procedure TDefaultMain.Usage(const _Error: string = '');
-var
-  s: string;
-begin
-  if _Error <> '' then begin
-    s := Format(_('Error: %s') + #13#10#13#10, [_Error]);
-    LogError(_Error);
-  end;
-//  MessageDlg(s + Format(
-//    _('Synopsis: %s') + #13#10#13#10 +
-//    _('Parameters:') + #13#10 +
-//    '%s'#13#10#13#10 +
-//    _('Options:') + #13#10 +
-//    '%s',
-//    [fCmdLineParser.GetCmdLineDesc, fCmdLineParser.GetParamHelp, fCmdLineParser.GetOptionHelp]),
-//    mtError, [mbOK], 0);
-  FExitCode := 1;
-  SysUtils.Abort;
-end;
-
-procedure TDefaultMain.InitCmdLineParser;
-begin
-  FCmdLineParser := TCmdLineParser.Create();
-//  FCmdLineParser.RegisterHelpOptions;
-end;
-
-procedure TDefaultMain.ParseCmdLine;
-var
-  Options: TStringList;
-  Params: TStringList;
-begin
-  Params := nil;
-  Options := TStringList.Create;
-  try
-    Params := TStringList.Create;
-    LogDebug('Cmdline: ' + System.CmdLine);
-    try
-      FCmdLineParser.Execute(Options, Params);
-    except
-      on e: exception do
-        Usage(e.Message);
-    end;
-//    if FCmdLineParser.HelpOptionFound then
-//      Usage;
-  finally
-    Params.Free;
-    Options.Free;
-  end;
-end;
-
-function TDefaultMain.Execute: integer;
-var
-  s: string;
-begin
-  InitCmdLineParser;
-  ParseCmdLine;
-  try
-    FExitCode := DoExecute;
-  except
-    on e: Exception do begin
-      s := 'Exception ' + e.ClassName + ': ' + e.Message;
-      LogError(s);
-      if IsConsole then
-        WriteLn(s);
-      FExitCode := 1;
-    end;
-  end;
-  Result := FExitCode;
-end;
-
-function Main: integer;
-var
-  MainObj: TDefaultMain;
-begin
-  Result := 1;
-  try
-    MainObj := MainClass.Create;
-    try
-      Result := MainObj.Execute;
-    finally
-      MainObj.Free;
-    end;
-  except
-    // Exception handling findet im MainObj statt, was bis hierher kommt,
-    // kann man eh nicht mehr behandeln - aber evt. Loggen ? AS
-    on e: Exception do begin
-      LogError('Exception in function Main: '+e.Message+' '+e.ClassName);
-    end;
-  end;
-end;
-
-end.
-



From twm at mail.berlios.de  Fri Sep  5 11:24:14 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 11:24:14 +0200
Subject: [Dzchart-svncheckins] r308 - in utilities/dzCmdLineParser/trunk: .
	translations/de
Message-ID: <200809050924.m859OETI027866@sheep.berlios.de>

Author: twm
Date: 2008-09-05 11:24:13 +0200 (Fri, 05 Sep 2008)
New Revision: 308

Modified:
   utilities/dzCmdLineParser/trunk/
   utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
Log:
updated translations


Property changes on: utilities/dzCmdLineParser/trunk
___________________________________________________________________
Name: svn:ignore
   - __history
*.local
CmdLineParserTest.cfg
*.dsk
*.exe
*.identcache
CmdLineParserTest.res
dunit.ini
*.dcu
*.~dsk

   + __history
*.local
CmdLineParserTest.cfg
*.dsk
*.exe
*.identcache
CmdLineParserTest.res
dunit.ini
*.dcu
*.~dsk
default.po
filtered.po


Modified: utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
===================================================================
--- utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-04 12:57:58 UTC (rev 307)
+++ utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-05 09:24:13 UTC (rev 308)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzCmdLineParser 1.0\n"
-"POT-Creation-Date: 2008-04-23 16:07\n"
+"POT-Creation-Date: 2008-09-04 05:55\n"
 "PO-Revision-Date: 2008-04-23 16:06+0100\n"
 "Last-Translator: Thomas Mueller <info at schniering.com>\n"
 "Language-Team: twm <nospam at dummzeuch.de>\n"
@@ -17,73 +17,77 @@
 "X-Poedit-Language: German\n"
 "X-Poedit-Country: GERMANY\n"
 
-#: u_dzDefaultMain.pas:120 
+#. Programmer's name for it: RS_Error_S
+#: u_dzDefaultMain.pas:97 
 msgid "Error: %s"
 msgstr "Fehler: %s"
 
-#: u_dzDefaultMain.pas:124 
+#. Programmer's name for it: RS_Synopsis_S_S
+#: u_dzDefaultMain.pas:98 
 msgid "Synopsis: %s %s"
 msgstr "Aufruf: %s %s"
 
-#: u_dzDefaultMain.pas:125 
+#. Programmer's name for it: RS_Parameters
+#: u_dzDefaultMain.pas:99 
 msgid "Parameters:"
 msgstr "Parameter:"
 
-#: u_dzDefaultMain.pas:127 
+#. Programmer's name for it: RS_Options
+#: u_dzDefaultMain.pas:100 
 msgid "Options:"
 msgstr "Optionen:"
 
 #. Programmer's name for it: RS_NOT_A_REGISTERED_OPTION_S
-#: u_dzGetOpt.pas:115 
+#: u_dzGetOpt.pas:116 
 msgid "%s is not a registered option."
 msgstr "%s ist keine registrierte Option"
 
 #. Programmer's name for it: RS_TOO_MANY_PARAMETERS
-#: u_dzGetOpt.pas:116 
+#: u_dzGetOpt.pas:117 
 msgid "There are too many parameters."
 msgstr "Zuviele Parameter"
 
 #. Programmer's name for it: RS_NOT_ENOUGH_PARAMETERS_SD
-#: u_dzGetOpt.pas:117 
+#: u_dzGetOpt.pas:118 
 msgid "There are not enough %s parameters (min: %d)"
 msgstr "Nicht gen?gend %s Parameter (min: %d)"
 
 #. Programmer's name for it: RS_DISPLAY_PARAMETER_HELP
-#: u_dzGetOpt.pas:118 
+#: u_dzGetOpt.pas:119 
 msgid "display parameter help"
 msgstr "Parameter Hilfe anzeigen"
 
 #. Programmer's name for it: RS_OPTION_IS_UNKNOWN_S
-#: u_dzGetOpt.pas:119 
+#: u_dzGetOpt.pas:120 
 msgid "Option %s is unknown"
 msgstr "Option %s ist nciht bekannt"
 
 #. Programmer's name for it: RS_OPTION_REQUIRES_VALUE_S
-#: u_dzGetOpt.pas:120 
+#: u_dzGetOpt.pas:121 
 msgid "Option %s requires a value."
 msgstr "Option %s ben?tigt einen Wert."
 
 #. Programmer's name for it: RS_OPTIONS
-#: u_dzGetOpt.pas:121 
+#: u_dzGetOpt.pas:122 
 msgid "[options]"
 msgstr "[Optionen]"
 
 #. Programmer's name for it: RS_OPTION_NAME_CANNOT_BE_EMPTY
-#: u_dzOptionDescList.pas:59 
+#: u_dzOptionDescList.pas:57 
 msgid "Option name cannot be empty."
 msgstr "Optionsname kann nicht leer sein."
 
 #. Programmer's name for it: RS_OPTION_NAME_MUST_START_WITH_ALPHANUMERIC
-#: u_dzOptionDescList.pas:60 
+#: u_dzOptionDescList.pas:58 
 msgid "Option name must start with an alphanumeric character."
 msgstr "Optionsname muss mit einem alphanumerischen Zeichen beginnen."
 
 #. Programmer's name for it: RS_OPTION_NAME_CONTAINS_INVALID_CHAR_SD
-#: u_dzOptionDescList.pas:61 
+#: u_dzOptionDescList.pas:59 
 msgid "Option name contains invalid character \"%s\" (%d)."
 msgstr "Optionsname enth?lt ung?ltiges Zeichen \"%s\" (%d)"
 
 #. Programmer's name for it: RS_VALUE
-#: u_dzOptionDescList.pas:62 
+#: u_dzOptionDescList.pas:60 
 msgid "value"
 msgstr "Wert"



From twm at mail.berlios.de  Fri Sep  5 11:44:12 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 11:44:12 +0200
Subject: [Dzchart-svncheckins] r309 - utilities/dzCmdLineParser/trunk/src
Message-ID: <200809050944.m859iCDm030704@sheep.berlios.de>

Author: twm
Date: 2008-09-05 11:44:10 +0200 (Fri, 05 Sep 2008)
New Revision: 309

Modified:
   utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas
   utilities/dzCmdLineParser/trunk/src/u_dzParamDescList.pas
   utilities/dzCmdLineParser/trunk/src/u_dzParamFoundList.pas
Log:
* changed all pasdoc comments to xmldoc
* replaced resource strings with calls to DGetText(..., 'dzCmdLineParser')
* removed AddDomainForResourceString since there are no more resource strings being used


Modified: utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-05 09:24:13 UTC (rev 308)
+++ utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-05 09:44:10 UTC (rev 309)
@@ -29,80 +29,82 @@
     FOptionsFoundList: TOptionFoundList;
     procedure EvaluateCmdLine(_Options, _Params: TStrings);
   public
-    {: Creates a TdzGetOpt instance.
-       @param ProgName is an optional parameter, if not given, the value of
-                       ParamStr(0) is used. }
+    ///<summary> Creates a TdzGetOpt instance. </summary>
+    ///          @param ProgName is an optional parameter, if not given, the value of
+    ///                          ParamStr(0) is used. }
     constructor Create(const _ProgName: string = '');
-    {: standard destructor }
+    ///<summary> standard destructor </summary>
     destructor Destroy; override;
-    {: registers a program option
-       @param Names is an array of string containing the names of the option
-                    (usually one long, descriptive name and one short, one
-                    character name)
-       @param Description is a string describing the option for the usage string
-       @param HasValue is a boolean which tells the parser whether to expect
-                       a parameter for this option.
-       Note: One character option names are case sensitive, that is -o and -O
-             are not the same, but longer option names are not, that is
-             --help and --HELP are the same. }
+    ///<summary> registers a commandline option
+    ///          @param Names is an array of string containing the names of the option
+    ///                       (usually one long, descriptive name and one short, one
+    ///                       character name)
+    ///                       Note: One character option names are case sensitive,
+    ///                       that is -o and -O are not the same, but longer option
+    ///                       names are not, that is --help and --HELP are the same.
+    ///          @param Description is a string describing the option for the usage string
+    ///          @param HasValue is a boolean which tells the parser whether to expect
+    ///                          a parameter for this option. </summary>
     procedure RegisterOption(const _Names: array of string; const _Description: string; _HasValue: boolean = false); overload;
     procedure RegisterOption(const _Name, _Description: string; _HasValue: boolean = false); overload;
-    {: registers the options --help, -?, -h and -H for displaying help }
+    ///<summary> registers the standard options --help, -?, -h and -H for displaying help </summary>
     procedure RegisterHelpOptions;
-    {: registers a program parameter
-       @param Name is the name of the parameter as displayed in the usage string.
-       @param Description is the description of the parameter for the usage.
-       @param MinCount is the minimum number of parameters to expect
-       @param MaxCount is the maximum number of parameters to expect
-       Note: only the last parameter should really have MinCount and MaxCount <> 1 }
+    ///<summary> registers a commandline parameter
+    ///          @param Name is the name of the parameter as displayed in the usage string.
+    ///          @param Description is the description of the parameter for the usage.
+    ///          @param MinCount is the minimum number of parameters to expect
+    ///          @param MaxCount is the maximum number of parameters to expect
+    ///          Note: only the last parameter should really have MinCount and MaxCount <> 1 </summary>
     procedure RegisterParam(const _Name, _Description: string; _MinCount: integer = 1; _MaxCount: integer = 1);
-    {: parses the commandline
-       This method uses the information given to it via the RegisterOption and
-       RegisterParameter methods to parse the commandline. After it has been
-       called the methods OptionPassed and ParamPassed can be used to retrieve
-       the actual parameters.
-       @param CmdLine is a string giving the commandline.
-                      NOTE: Do not pass System.CmdLine since it contains the
-                      program's name as the first "parameter".
-                      If you want to parse the commandline as passed by
-                      windows, call the overloaded Parse method without
-                      parameters. It handles this. }
+    ///<summary> parses the commandline
+    ///          This method uses the information given to it via the RegisterOption and
+    ///          RegisterParameter methods to parse the commandline. After it has been
+    ///          called the methods OptionPassed and ParamPassed can be used to retrieve
+    ///          the actual parameters.
+    ///          @param CmdLine is a string giving the commandline.
+    ///                         NOTE: Do not pass System.CmdLine since it contains the
+    ///                         program's name as the first "parameter".
+    ///                         If you want to parse the commandline as passed by
+    ///                         windows, call the overloaded Parse method without
+    ///                         parameters. It handles this. </summary>
     procedure Parse(const _CmdLine: string); overload;
-    {: parses the commandline
-       This method uses the information given to it via the RegisterOption and
-       RegisterParameter methods to parse the commandline. After it has been
-       called the methods OptionPassed and ParamPassed can be used to retrieve
-       the actual parameters. }
+    ///<summary> parses the commandline
+    ///          This method uses the information given to it via the RegisterOption and
+    ///          RegisterParameter methods to parse the commandline. After it has been
+    ///          called the methods OptionPassed and ParamPassed can be used to retrieve
+    ///          the actual parameters. </summary>
     procedure Parse; overload;
-    {: checks whether the option given by the short or long name was passed on the commandline,
-       The order of the (same) options on the commandline is preserved,
-       eg: '-a abc -b -a def' will return ('abc', 'def') for OptionFound('a').
-       @param Name is one of the names of the option
-       @param Values is a TStrings class which will return the option's values, if any.
-                     It can be nil if the values are of no interest.
-       @returns the number of matching options found on the commandline, the
-                value -1 has a special meaning: The option name is unknown
-                to the parser. }
+    ///<summary> checks whether the option given by the short or long name was passed on the commandline,
+    ///          The order of the (same) options on the commandline is preserved,
+    ///          eg: '-a abc -b -a def' will return ('abc', 'def') for OptionFound('a').
+    ///          @param Name is one of the names of the option
+    ///          @param Values is a TStrings class which will return the option's values, if any.
+    ///                        It can be nil if the values are of no interest.
+    ///          @returns the number of matching options found on the commandline, the
+    ///                   value -1 has a special meaning: The option name is unknown
+    ///                   to the parser. </summary>
     function OptionPassed(const _Name: string; _Values: TStrings): integer; overload;
     function OptionPassed(const _Name: string; var _Value: string): boolean; overload;
     function OptionPassed(const _Name: string): boolean; overload;
-    {: returns true if any of the help options (--help, -?, -h, -H) was passed on the commandline. }
+    ///<summary> returns true if any of the help options (--help, -?, -h, -H) was passed on the commandline. </summary>
     function HelpOptionFound: boolean;
-    {: Same for parameters, note that parameters will be filled left to right,
-       eg. if you register a parameter that can be given 5 times and one that
-       can be given 2 times and then pass 4 parameters, you will get
-       4 values for the first parameter and none fo the second. }
+    ///<summary> checks whether the parameter given by the name was passed on the commandline,
+    ///          note that parameters will be filled left to right, eg. if you register
+    ///          a parameter that can be given 5 times and one that can be given 2
+    ///          times and then pass 4 parameters, you will get 4 values for the
+    ///          first parameter and none fo the second. </summary>
     function ParamPassed(const _ParamName: string; _Values: TStrings): integer; overload;
     function ParamPassed(const _ParamName: string; var _Value: string): boolean; overload;
-    {: returns a commandline with all the parameters and option, e.g. [--option1=value1] <param1> [<param2>] }
+    ///<summary> returns a commandline with all the parameters and option, e.g. [--option1=value1] <param1> [<param2>] </summary>
     function GetCmdLineDesc: string;
-    {: returns a description for all the options and parameters }
+    ///<summary> returns a description for all the options and parameters </summary>
     function GetOptionHelp(_Indent: integer = 20): string;
     function GetParamHelp(_Indent: integer = 20): string;
-    {: the program's name as either passed to the constructor or read from
-       ParamStr(0). }
+    ///<summary> the program's name as either passed to the constructor or read from ParamStr(0). </summary>
     property ProgName: string read FProgName;
+    ///<summary> List of all parameters found </summary>
     property ParamsFoundList: TParamFoundList read FParamsFoundList;
+    ///<summary> List of all Options found </summary>
     property OptionsFoundList: TOptionFoundList read FOptionsFoundList;
   end;
 
@@ -112,14 +114,10 @@
   u_dzCmdLineParser,
   u_dzTranslator;
 
-resourcestring
-  RS_NOT_A_REGISTERED_OPTION_S = '%s is not a registered option.';
-  RS_TOO_MANY_PARAMETERS = 'There are too many parameters.';
-  RS_NOT_ENOUGH_PARAMETERS_SD = 'There are not enough %s parameters (min: %d)';
-  RS_DISPLAY_PARAMETER_HELP = 'display parameter help';
-  RS_OPTION_IS_UNKNOWN_S = 'Option %s is unknown';
-  RS_OPTION_REQUIRES_VALUE_S = 'Option %s requires a value.';
-  RS_OPTIONS = '[options]';
+function _(const _s: string): string; inline;
+begin
+  DGetText(_s, 'dzCmdLineParser');
+end;
 
 { TdzGetOpt }
 
@@ -155,7 +153,7 @@
   s: string;
 begin
   if FOptionDescList.Count <> 0 then
-    Result := RS_OPTIONS
+    Result := _('[options]')
   else
     Result := '';
   for i := 0 to FParamDescList.Count - 1 do begin
@@ -214,7 +212,7 @@
   PrimaryName: string;
 begin
   if not FOptionNameList.Find(PChar(_Name), Idx) then
-    raise EUnknownOption.CreateFmt(RS_NOT_A_REGISTERED_OPTION_S, [_Name]);
+    raise EUnknownOption.CreateFmt(_('%s is not a registered option.'), [_Name]);
 
   Result := 0;
   PrimaryName := FOptionNameList[Idx].GetPrimaryName;
@@ -293,7 +291,7 @@
   while FoundIdx < _Params.Count do begin
     DesCount := FParamDescList.Count;
     if (DescIdx >= DesCount) then
-      raise ETooManyParams.Create(RS_TOO_MANY_PARAMETERS);
+      raise ETooManyParams.Create(_('There are too many parameters.'));
     pd := FParamDescList[DescIdx];
     Cnt := 0;
     while ((Cnt < pd.MaxCount) or (pd.MaxCount = -1)) and (FoundIdx < _Params.Count) do begin
@@ -303,24 +301,24 @@
       Inc(FoundIdx);
     end;
     if Cnt < pd.MinCount then
-      raise ETooFewParams.CreateFmt(RS_NOT_ENOUGH_PARAMETERS_SD, [pd.Name, pd.MinCount]);
+      raise ETooFewParams.CreateFmt(_('There are not enough %s parameters (min: %d)'), [pd.Name, pd.MinCount]);
     Inc(DescIdx);
   end;
   while DescIdx < FParamDescList.Count do begin
     pd := FParamDescList[DescIdx];
     if pd.MinCount > 0 then
-      raise ETooFewParams.CreateFmt(RS_NOT_ENOUGH_PARAMETERS_SD, [pd.Name, pd.MinCount]);
+      raise ETooFewParams.CreateFmt(_('There are not enough %s parameters (min: %d)'), [pd.Name, pd.MinCount]);
     Inc(DescIdx);
   end;
 
   FoundIdx := 0;
   while FoundIdx < _Options.Count do begin
     if not FOptionNameList.Find(_Options.Names[FoundIdx], OptName) then
-      raise EUnknownOption.CreateFmt(RS_OPTION_IS_UNKNOWN_S, [_Options.Names[Foundidx]]);
+      raise EUnknownOption.CreateFmt(_('Option %s is unknown'), [_Options.Names[Foundidx]]);
     s := _Options.ValueFromIndex[FoundIdx];
     OptDesc := OptName.OptionDesc;
     if OptDesc.HasValue and (s = '') then
-      raise EOptionValue.CreateFmt(RS_OPTION_REQUIRES_VALUE_S, [OptName.Name]);
+      raise EOptionValue.CreateFmt(_('Option %s requires a value.'), [OptName.Name]);
     FOptionsFoundList.Add(TOptionFound.Create(OptDesc, OptName.Name, s));
     Inc(FoundIdx);
   end;
@@ -364,7 +362,7 @@
 
 procedure TGetOpt.RegisterHelpOptions;
 begin
-  RegisterOption(['help', '?', 'h', 'H'], RS_DISPLAY_PARAMETER_HELP, false);
+  RegisterOption(['help', '?', 'h', 'H'], _('display parameter help'), false);
 end;
 
 procedure TGetOpt.RegisterOption(const _Name, _Description: string; _HasValue: boolean);
@@ -390,7 +388,5 @@
   FParamDescList.Add(TParamDesc.Create(_Name, _Description, _MinCount, _MaxCount));
 end;
 
-initialization
-  AddDomainForResourceString('dzCmdLineParser');
 end.
 

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-05 09:24:13 UTC (rev 308)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-05 09:44:10 UTC (rev 309)
@@ -38,26 +38,26 @@
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}
 
 type
-  {: List for storing TOptionDesc items sorted by String }
+  ///<summary> List for storing TOptionDesc items sorted by String </summary>
   TOptionDescList = class(_DZ_SORTED_OBJECT_LIST_TEMPLATE_)
   protected
-    {: return the key of an item for comparison }
+    ///<summary> return the key of an item for comparison </summary>
     function KeyOf(const _Item: TOptionDesc): string; override;
-    {: compare the keys of two items, must return a value
-       < 0 if Key1 < Key2, = 0 if Key1 = Key2 and > 0 if Key1 > Key2 }
+    ///<summary> compare the keys of two items, must return a value
+    ///          < 0 if Key1 < Key2, = 0 if Key1 = Key2 and > 0 if Key1 > Key2 </summary>
     function Compare(const _Key1, _Key2: string): integer; override;
   end;
 
 implementation
 
 uses
-  StrUtils;
+  StrUtils,
+  u_dzTranslator;
 
-resourcestring
-  RS_OPTION_NAME_CANNOT_BE_EMPTY = 'Option name cannot be empty.';
-  RS_OPTION_NAME_MUST_START_WITH_ALPHANUMERIC = 'Option name must start with an alphanumeric character.';
-  RS_OPTION_NAME_CONTAINS_INVALID_CHAR_SD = 'Option name contains invalid character "%s" (%d).';
-  RS_VALUE = 'value';
+function _(const _s: string): string; inline;
+begin
+  DGetText(_s, 'dzCmdLineParser');
+end;
 
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}
 
@@ -102,13 +102,13 @@
   i: integer;
 begin
   if _Name = '' then
-    raise EOptionName.Create(RS_OPTION_NAME_CANNOT_BE_EMPTY);
+    raise EOptionName.Create(_('Option name cannot be empty.'));
   { TODO -otwm : Maybe '$', '#' and some other chars should be allowed }
   if not (_Name[1] in ['a'..'z', 'A'..'Z', '0'..'9', '?']) then
-    raise EOptionName.Create(RS_OPTION_NAME_MUST_START_WITH_ALPHANUMERIC);
+    raise EOptionName.Create(_('Option name must start with an alphanumeric character.'));
   for i := 2 to Length(_Name) do
     if not (_Name[i] in ['a'..'z', 'A'..'Z', '0'..'9', '-', '_']) then
-      raise EOptionName.CreateFmt(RS_OPTION_NAME_CONTAINS_INVALID_CHAR_SD, [_Name[i], Ord(_Name[i])]);
+      raise EOptionName.CreateFmt(_('Option name contains invalid character "%s" (%d).'), [_Name[i], Ord(_Name[i])]);
 end;
 
 function TOptionDesc.CreateDescription(const _OptionName: string): string;
@@ -118,12 +118,12 @@
     1: begin
         Result := '-' + _OptionName;
         if FHasValue then
-          Result := Result + ' ' + RS_VALUE;
+          Result := Result + ' ' + _('value');
       end;
   else begin
       Result := '--' + _OptionName;
       if FHasValue then
-        Result := Result + '=' + RS_VALUE;
+        Result := Result + '=' + _('value');
     end
   end;
 end;

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas	2008-09-05 09:24:13 UTC (rev 308)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionFoundList.pas	2008-09-05 09:44:10 UTC (rev 309)
@@ -29,13 +29,13 @@
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}
 
 type
-  {: List for storing TOptionFound items sorted by String }
+  ///<summary> List for storing TOptionFound items sorted by String </summary>
   TOptionFoundList = class(_DZ_SORTED_OBJECT_LIST_TEMPLATE_)
   protected
-    {: return the key of an item for comparison }
+     ///<summary> return the key of an item for comparison </summary>
     function KeyOf(const _Item: TOptionFound): string; override;
-    {: compare the keys of two items, must return a value
-       < 0 if Key1 < Key2, = 0 if Key1 = Key2 and > 0 if Key1 > Key2 }
+     ///<summary> compare the keys of two items, must return a value
+     ///          < 0 if Key1 < Key2, = 0 if Key1 = Key2 and > 0 if Key1 > Key2 </summary>
     function Compare(const _Key1, _Key2: string): integer; override;
   end;
 

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas	2008-09-05 09:24:13 UTC (rev 308)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionNameList.pas	2008-09-05 09:44:10 UTC (rev 309)
@@ -28,13 +28,13 @@
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}
 
 type
-  {: List for storing TOptionName items sorted by string }
+  ///<summary> List for storing TOptionName items sorted by string </summary>
   TOptionNameList = class(_DZ_SORTED_OBJECT_LIST_TEMPLATE_)
   protected
-    {: return the key of an item for comparison }
+    ///<summary> return the key of an item for comparison </summary>
     function KeyOf(const _Item: TOptionName): string; override;
-    {: compare the keys of two items, must return a value
-       < 0 if Key1 < Key2, = 0 if Key1 = Key2 and > 0 if Key1 > Key2 }
+    ///<summary> compare the keys of two items, must return a value
+    ///          < 0 if Key1 < Key2, = 0 if Key1 = Key2 and > 0 if Key1 > Key2 </summary>
     function Compare(const _Key1, _Key2: string): integer; override;
   end;
 

Modified: utilities/dzCmdLineParser/trunk/src/u_dzParamDescList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzParamDescList.pas	2008-09-05 09:24:13 UTC (rev 308)
+++ utilities/dzCmdLineParser/trunk/src/u_dzParamDescList.pas	2008-09-05 09:44:10 UTC (rev 309)
@@ -25,13 +25,11 @@
 {$DEFINE __DZ_OBJECT_LIST_TEMPLATE__}
 type
   _LIST_ANCESTOR_ = TObject;
-//  _LIST_CONTAINER_ = TList;
-//  _LIST_CONTAINER_ITEM_TYPE_ = pointer;
   _ITEM_TYPE_ = TParamDesc;
 {$INCLUDE 't_dzObjectListTemplate.tpl'}
 
 type
-  {: List for storing TParamDesc items }
+  ///<summary> List for storing TParamDesc items </summary>
   TParamDescList = class(_DZ_OBJECT_LIST_TEMPLATE_)
 
   end;

Modified: utilities/dzCmdLineParser/trunk/src/u_dzParamFoundList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzParamFoundList.pas	2008-09-05 09:24:13 UTC (rev 308)
+++ utilities/dzCmdLineParser/trunk/src/u_dzParamFoundList.pas	2008-09-05 09:44:10 UTC (rev 309)
@@ -20,13 +20,11 @@
 {$DEFINE __DZ_OBJECT_LIST_TEMPLATE__}
 type
   _LIST_ANCESTOR_ = TObject;
-//  _LIST_CONTAINER_ = TList;
-//  _LIST_CONTAINER_ITEM_TYPE_ = pointer;
   _ITEM_TYPE_ = TParamFound;
 {$INCLUDE 't_dzObjectListTemplate.tpl'}
 
 type
-  {: List for storing TParamFound items }
+  ///<summary> List for storing TParamFound items </summary>
   TParamFoundList = class(_DZ_OBJECT_LIST_TEMPLATE_)
 
   end;



From twm at mail.berlios.de  Fri Sep  5 11:50:17 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 11:50:17 +0200
Subject: [Dzchart-svncheckins] r310 - utilities/dzLib/trunk/src
Message-ID: <200809050950.m859oHta031780@sheep.berlios.de>

Author: twm
Date: 2008-09-05 11:50:17 +0200 (Fri, 05 Sep 2008)
New Revision: 310

Modified:
   utilities/dzLib/trunk/src/u_dzOsUtils.pas
Log:
bugfix: forgot to assign the result

Modified: utilities/dzLib/trunk/src/u_dzOsUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzOsUtils.pas	2008-09-05 09:44:10 UTC (rev 309)
+++ utilities/dzLib/trunk/src/u_dzOsUtils.pas	2008-09-05 09:50:17 UTC (rev 310)
@@ -101,7 +101,7 @@
 
 function _(const _s: string): string; inline;
 begin
-  DGetText(_s, 'dzlib');
+  Result := DGetText(_s, 'dzlib');
 end;
 
 function GetComputerName: string;



From twm at mail.berlios.de  Fri Sep  5 11:51:04 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 11:51:04 +0200
Subject: [Dzchart-svncheckins] r311 - utilities/dzCmdLineParser/trunk/src
Message-ID: <200809050951.m859p4An032047@sheep.berlios.de>

Author: twm
Date: 2008-09-05 11:51:03 +0200 (Fri, 05 Sep 2008)
New Revision: 311

Modified:
   utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
Log:
bugfix: forgot to assign the result

Modified: utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-05 09:50:17 UTC (rev 310)
+++ utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-05 09:51:03 UTC (rev 311)
@@ -116,7 +116,7 @@
 
 function _(const _s: string): string; inline;
 begin
-  DGetText(_s, 'dzCmdLineParser');
+  Result := DGetText(_s, 'dzCmdLineParser');
 end;
 
 { TdzGetOpt }

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-05 09:50:17 UTC (rev 310)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-05 09:51:03 UTC (rev 311)
@@ -56,7 +56,7 @@
 
 function _(const _s: string): string; inline;
 begin
-  DGetText(_s, 'dzCmdLineParser');
+  Result := DGetText(_s, 'dzCmdLineParser');
 end;
 
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}



From twm at mail.berlios.de  Fri Sep  5 14:55:14 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 14:55:14 +0200
Subject: [Dzchart-svncheckins] r312 - utilities/dzCmdLineParser/trunk/src
Message-ID: <200809051255.m85CtEYf007902@sheep.berlios.de>

Author: twm
Date: 2008-09-05 14:55:11 +0200 (Fri, 05 Sep 2008)
New Revision: 312

Added:
   utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas
Modified:
   utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas
Log:
moved newer version from dzlib to here

Modified: utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas	2008-09-05 09:51:03 UTC (rev 311)
+++ utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParser.pas	2008-09-05 12:55:11 UTC (rev 312)
@@ -1,3 +1,4 @@
+{GXFormatter.config=twm}
 {: Implements a simple commandline parser based on a state machine.
    To use, call one of the overloaded TCmdLineParser.Execute class methods.
    The state machine implementation is based on a concept described by
@@ -5,6 +6,8 @@
    @author Thomas Mueller <http://www.dummzeuch.de> }
 unit u_dzCmdLineParser;
 
+{$I jedi.inc}
+
 interface
 
 uses
@@ -39,108 +42,9 @@
   end;
 
 type
-  TEngineStateAbstract = class(TInterfacedObject)
-  private
-    function GetClassName: string;
-  end;
-
-type
-  TEngineStateError = class(TEngineStateAbstract, IEngineState)
-  private
-    FError: string;
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-    constructor Create(const _Error: string);
-  end;
-
-type
-  TEngineStateSpace = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateDash = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateDoubleDash = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateLongOption = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateShortOption = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateShortSwitch = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateShortParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateQuotedShortParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateLongParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateQuotedLongParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateQuotedParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
   TCmdLineParser = class
   public
-    {: parses the CmdLine string and returns the options and parameters
+    {: parses the CmdLine string and returns the options and paramteters
        @param CmdLine is a string with the commandline to parse
        @param Options is a TStrings instance which returns all options found as
               name=value pairs,
@@ -160,10 +64,19 @@
     class procedure Execute(const _CmdLine: string; _Options: TStrings; _Params: TStrings); overload;
     {: parses the application's commandline and returns the options and paramteters }
     class procedure Execute(_Options: TStrings; _Params: TStrings); overload;
+    {: Splits the given commandline into the program name and the parameters }
+    class procedure SplitCommandline(const _Commandline: string; out _Progname, _Parameters: string); overload;
+    {: splits System.CmdLine into the program name and the parameters }
+    class procedure SplitCommandline(out _Progname, _Parameters: string); overload;
   end;
 
 implementation
 
+uses
+  StrUtils,
+  u_dzStringUtils,
+  u_dzCmdLineParserStates;
+
 type
   IEngineContextEx = interface ['{CD19DB13-F344-4E1A-B97F-D235B445B463}']
     procedure GetOptions(_Options: TStrings);
@@ -211,272 +124,6 @@
     property Params: TStringList read FParams;
   end;
 
-{ TEngineStateAbstract }
-
-function TEngineStateAbstract.GetClassName: string;
-begin
-  Result := ClassName;
-end;
-
-{ TEngineStateError }
-
-constructor TEngineStateError.Create(const _Error: string);
-begin
-  inherited Create;
-  FError := _Error;
-end;
-
-function TEngineStateError.Execute(const _Context: IEngineContext): IEngineState;
-begin
-  raise EStateEngineError.Create(FError);
-end;
-
-{ TEngineStateSpace }
-
-function TEngineStateSpace.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '-':
-      Result := TEngineStateDash.Create;
-    #0:
-      Result := nil; // end state
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedParam.Create;
-      end;
-    ' ':
-      Result := self;
-  else
-    _Context.AddToParameter(c);
-    Result := TEngineStateParam.Create;
-  end;
-end;
-
-{ TEngineStateParam }
-
-function TEngineStateParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedParam.Create;
-      end;
-    #0, ' ': begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-  else
-    _Context.AddToParameter(c);
-    Result := Self;
-  end;
-end;
-
-{ TEngineStateQuotedParam }
-
-function TEngineStateQuotedParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateParam.Create;
-      end;
-    #0:
-      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-  else
-    _Context.AddToParameter(c);
-    Result := self;
-  end;
-end;
-
-{ TEngineStateDash }
-
-function TEngineStateDash.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  if c in ALPHANUMERIC_CHARS then begin
-    _Context.AddToOption(c);
-    Result := TEngineStateShortOption.Create;
-  end else if c = '-' then
-    Result := TEngineStateDoubleDash.Create
-  else
-    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-end;
-
-{ TEngineStateDoubleDash }
-
-function TEngineStateDoubleDash.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  if c in ALPHANUMERIC_CHARS then begin
-    _Context.AddToOption(c);
-    Result := TEngineStateLongOption.Create;
-  end else
-    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-end;
-
-{ TEngineStateShortOption }
-
-function TEngineStateShortOption.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    ' ': begin
-        Result := TEngineStateShortParam.Create;
-      end;
-    '-', '+': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateShortSwitch.Create;
-      end;
-    #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-  else
-    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-  end;
-end;
-
-{ TEngineStateShortSwitch }
-
-function TEngineStateShortSwitch.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end else
-    Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-  end;
-end;
-
-{ TEngineStateShortParam }
-
-function TEngineStateShortParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedShortParam.Create;
-      end;
-    '-': begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateDash.Create;
-      end;
-  else
-    _Context.AddToParameter(c);
-    Result := self;
-  end;
-end;
-
-{ TEngineStateQuotedShortParam }
-
-function TEngineStateQuotedShortParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateShortParam.Create;
-      end;
-    #0:
-      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-  else
-    _Context.AddToParameter(c);
-    Result := self;
-  end;
-end;
-
-{ TEngineStateLongOption }
-
-function TEngineStateLongOption.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '=':
-      Result := TEngineStateLongParam.Create;
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-    '"', '''':
-      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-  else
-    _Context.AddToOption(c);
-    Result := TEngineStateLongOption.Create;
-  end;
-end;
-
-{ TEngineStateLongParam }
-
-function TEngineStateLongParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedLongParam.Create;
-      end;
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-  else
-    _Context.AddToParameter(c);
-    Result := TEngineStateLongParam.Create;
-  end;
-end;
-
-{ TEngineStateQuotedLongParam }
-
-function TEngineStateQuotedLongParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateLongParam.Create;
-      end;
-    #0:
-      Result := TEngineStateError.Create(Format('Invalid character "%s".', [c]));
-  else
-    _Context.AddToParameter(c);
-    Result := TEngineStateQuotedLongParam.Create;
-  end;
-end;
-
 { TStateParams }
 
 procedure TEngineContext.AddToOption(_c: char);
@@ -557,5 +204,37 @@
   Execute(CmdLine, _Options, _Params);
 end;
 
+class procedure TCmdLineParser.SplitCommandline(out _Progname, _Parameters: string);
+begin
+  SplitCommandline(System.CmdLine, _Progname, _Parameters);
+end;
+
+class procedure TCmdLineParser.SplitCommandline(const _Commandline: string; out _Progname, _Parameters: string);
+var
+  i: integer;
+  Len: integer;
+  s: string;
+  NeedsClosingQuote: boolean;
+begin
+  s := Trim(_Commandline);
+  Len := Length(s);
+  NeedsClosingQuote := False;
+  for i := 1 to Len do begin
+    case s[i] of
+      ' ': begin
+          if not NeedsClosingQuote then begin
+            _ProgName := Trim(LeftStr(s, i));
+            _Parameters := Trim(TailStr(s, i + 1));
+            exit;
+          end;
+        end;
+      '"':
+        NeedsClosingQuote := not NeedsClosingQuote;
+    end;
+  end;
+  _Progname := s;
+  _Parameters := '';
+end;
+
 end.
 

Added: utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 09:51:03 UTC (rev 311)
+++ utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 12:55:11 UTC (rev 312)
@@ -0,0 +1,381 @@
+unit u_dzCmdLineParserStates;
+
+interface
+
+uses
+  u_dzCmdLineParser;
+
+type
+  TEngineStateAbstract = class(TInterfacedObject)
+  private
+    function GetClassName: string;
+  end;
+
+type
+  TEngineStateError = class(TEngineStateAbstract, IEngineState)
+  private
+    FError: string;
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+    constructor Create(const _Error: string);
+  end;
+
+type
+  TEngineStateSpace = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateDash = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateDoubleDash = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateLongOption = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateShortOption = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateShortSwitch = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateShortParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateQuotedShortParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateLongParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateQuotedLongParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+type
+  TEngineStateQuotedParam = class(TEngineStateAbstract, IEngineState)
+  private
+    function Execute(const _Context: IEngineContext): IEngineState;
+  public
+  end;
+
+implementation
+
+uses
+  SysUtils;
+
+resourcestring
+  RS_INVALID_CHARACTER_S = 'Invalid character "%s".';
+
+{ TEngineStateAbstract }
+
+function TEngineStateAbstract.GetClassName: string;
+begin
+  Result := ClassName;
+end;
+
+{ TEngineStateError }
+
+constructor TEngineStateError.Create(const _Error: string);
+begin
+  inherited Create;
+  FError := _Error;
+end;
+
+function TEngineStateError.Execute(const _Context: IEngineContext): IEngineState;
+begin
+  raise EStateEngineError.Create(FError);
+end;
+
+{ TEngineStateSpace }
+
+function TEngineStateSpace.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '-':
+      Result := TEngineStateDash.Create;
+    #0:
+      Result := nil; // end state
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedParam.Create;
+      end;
+    ' ':
+      Result := self;
+  else
+    _Context.AddToParameter(c);
+    Result := TEngineStateParam.Create;
+  end;
+end;
+
+{ TEngineStateParam }
+
+function TEngineStateParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedParam.Create;
+      end;
+    #0, ' ': begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+  else
+    _Context.AddToParameter(c);
+    Result := Self;
+  end;
+end;
+
+{ TEngineStateQuotedParam }
+
+function TEngineStateQuotedParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateParam.Create;
+      end;
+    #0:
+      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+  else
+    _Context.AddToParameter(c);
+    Result := self;
+  end;
+end;
+
+{ TEngineStateDash }
+
+function TEngineStateDash.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  if c in ALPHANUMERIC_CHARS + ['?'] then begin
+    _Context.AddToOption(c);
+    Result := TEngineStateShortOption.Create;
+  end else if c = '-' then
+    Result := TEngineStateDoubleDash.Create
+  else
+    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+end;
+
+{ TEngineStateDoubleDash }
+
+function TEngineStateDoubleDash.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  if c in ALPHANUMERIC_CHARS then begin
+    _Context.AddToOption(c);
+    Result := TEngineStateLongOption.Create;
+  end else
+    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+end;
+
+{ TEngineStateShortOption }
+
+function TEngineStateShortOption.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    ' ': begin
+        Result := TEngineStateShortParam.Create;
+      end;
+    '-', '+': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateShortSwitch.Create;
+      end;
+    #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+  else
+    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+  end;
+end;
+
+{ TEngineStateShortSwitch }
+
+function TEngineStateShortSwitch.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end else
+    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+  end;
+end;
+
+{ TEngineStateShortParam }
+
+function TEngineStateShortParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedShortParam.Create;
+      end;
+    '-': begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateDash.Create;
+      end;
+  else
+    _Context.AddToParameter(c);
+    Result := self;
+  end;
+end;
+
+{ TEngineStateQuotedShortParam }
+
+function TEngineStateQuotedShortParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateShortParam.Create;
+      end;
+    #0:
+      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+  else
+    _Context.AddToParameter(c);
+    Result := self;
+  end;
+end;
+
+{ TEngineStateLongOption }
+
+function TEngineStateLongOption.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '=':
+      Result := TEngineStateLongParam.Create;
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+    '"', '''':
+      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+  else
+    _Context.AddToOption(c);
+    Result := TEngineStateLongOption.Create;
+  end;
+end;
+
+{ TEngineStateLongParam }
+
+function TEngineStateLongParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateQuotedLongParam.Create;
+      end;
+    ' ', #0: begin
+        _Context.HandleCmdLinePart;
+        Result := TEngineStateSpace.Create;
+      end;
+  else
+    _Context.AddToParameter(c);
+    Result := TEngineStateLongParam.Create;
+  end;
+end;
+
+{ TEngineStateQuotedLongParam }
+
+function TEngineStateQuotedLongParam.Execute(const _Context: IEngineContext): IEngineState;
+var
+  c: char;
+begin
+  c := _Context.GetNextChar;
+  case c of
+    '"': begin
+        _Context.AddToParameter(c);
+        Result := TEngineStateLongParam.Create;
+      end;
+    #0:
+      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+  else
+    _Context.AddToParameter(c);
+    Result := TEngineStateQuotedLongParam.Create;
+  end;
+end;
+
+end.



From twm at mail.berlios.de  Fri Sep  5 14:55:55 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 14:55:55 +0200
Subject: [Dzchart-svncheckins] r313 - utilities/dzLib/trunk/src
Message-ID: <200809051255.m85CttpU007934@sheep.berlios.de>

Author: twm
Date: 2008-09-05 14:55:53 +0200 (Fri, 05 Sep 2008)
New Revision: 313

Removed:
   utilities/dzLib/trunk/src/u_dzCmdLineParser.pas
   utilities/dzLib/trunk/src/u_dzCmdLineParserStates.pas
Log:
moved to dzcmdlineparser

Deleted: utilities/dzLib/trunk/src/u_dzCmdLineParser.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzCmdLineParser.pas	2008-09-05 12:55:11 UTC (rev 312)
+++ utilities/dzLib/trunk/src/u_dzCmdLineParser.pas	2008-09-05 12:55:53 UTC (rev 313)
@@ -1,240 +0,0 @@
-{GXFormatter.config=twm}
-{: Implements a simple commandline parser based on a state machine.
-   To use, call one of the overloaded TCmdLineParser.Execute class methods.
-   The state machine implementation is based on a concept described by
-   Julian Bucknail in the Delphi Magazine, issue 115: "Object-Oriented State Machines"
-   @author Thomas Mueller <http://www.dummzeuch.de> }
-unit u_dzCmdLineParser;
-
-{$I jedi.inc}
-
-interface
-
-uses
-  SysUtils,
-  Classes;
-
-type
-  EStateEngineError = class(exception);
-
-const
-  ALPHANUMERIC_CHARS = ['a'..'z', 'A'..'Z', '0'..'9'];
-  ALLCHARS_BUT_NULL = [#1..#255];
-
-type
-  IEngineContext = interface ['{F6FB6D03-C90F-468D-9ACC-716C58697CCA}']
-    {: returns the next character to parse }
-    function GetNextChar: char;
-    {: appends a character to the FOption field }
-    procedure AddToOption(_c: char);
-    {: appends a character to the FParameter field }
-    procedure AddToParameter(_c: char);
-    {: This is called whenever an option and parameter have been finished.
-       It checks what kind of parameter it was, possibly combines them and
-       adds it to the appropriate list. }
-    procedure HandleCmdLinePart;
-  end;
-
-type
-  IEngineState = interface ['{B8ADC607-8549-4B4A-A15A-278DAEE5F6CE}']
-    function Execute(const _Context: IEngineContext): IEngineState;
-    function GetClassName: string;
-  end;
-
-type
-  TCmdLineParser = class
-  public
-    {: parses the CmdLine string and returns the options and paramteters
-       @param CmdLine is a string with the commandline to parse
-       @param Options is a TStrings instance which returns all options found as
-              name=value pairs,
-              e.g. '--one=two --three -x four -y' will result in
-              'one=two'
-              'three='
-              'x=four'
-              'y'
-              This list must not be sorted. Duplicates are allowed. The order
-              of the options is preserved. If you do not care about duplicates,
-              you can use the Values property to access option values.
-       @param Params is a TStrings instance  wich returns all parameters found,
-              e.g. 'one two three' will result in
-              'one'
-              'two'
-              'three' }
-    class procedure Execute(const _CmdLine: string; _Options: TStrings; _Params: TStrings); overload;
-    {: parses the application's commandline and returns the options and paramteters }
-    class procedure Execute(_Options: TStrings; _Params: TStrings); overload;
-    {: Splits the given commandline into the program name and the parameters }
-    class procedure SplitCommandline(const _Commandline: string; out _Progname, _Parameters: string); overload;
-    {: splits System.CmdLine into the program name and the parameters }
-    class procedure SplitCommandline(out _Progname, _Parameters: string); overload;
-  end;
-
-implementation
-
-uses
-  StrUtils,
-  u_dzStringUtils,
-  u_dzCmdLineParserStates;
-
-type
-  IEngineContextEx = interface ['{CD19DB13-F344-4E1A-B97F-D235B445B463}']
-    procedure GetOptions(_Options: TStrings);
-    procedure GetParams(_Params: TStrings);
-  end;
-
-type
-  {: stores the engine context, passed to the execute method of all engine states }
-  TEngineContext = class(TInterfacedObject, IEngineContext, IEngineContextEx)
-  protected
-    FReadIdx: integer;
-    FInput: string;
-    {: buffer for the currently handled option }
-    FOption: string;
-    {: buffer for the currently handled parameter }
-    FParameter: string;
-    {: Stores options as <optionname>[=<value] in the order they appeared on the
-       commandline., note that options can appear multiple times, so using
-       FParameter.Values[<name>] might not be appropriate }
-    FOptions: TStringList;
-    {: stores the Params property }
-    FParams: TStringList;
-  protected // implements IEngineContext
-    {: returns the next character to parse }
-    function GetNextChar: char;
-    {: appends a character to the FOption field }
-    procedure AddToOption(_c: char);
-    {: appends a character to the FParameter field }
-    procedure AddToParameter(_c: char);
-    {: This is called whenever an option and parameter have been finished.
-       It checks what kind of parameter it was, possibly combines them and
-       adds it to the appropriate list. }
-    procedure HandleCmdLinePart;
-  protected // implements IEngineContextEx
-    procedure GetOptions(_Options: TStrings);
-    procedure GetParams(_Params: TStrings);
-  public
-    constructor Create(_Input: string);
-    destructor Destroy; override;
-    {: Stores options as <optionname>[=<value] in the order they appeared on the
-       commandline., note that options can appear multiple times, so using
-       FParameter.Values[<name>] might not be appropriate }
-    property Options: TStringList read FOptions;
-    {: Stores the parameters, ordered as they appear on the commandline }
-    property Params: TStringList read FParams;
-  end;
-
-{ TStateParams }
-
-procedure TEngineContext.AddToOption(_c: char);
-begin
-  FOption := FOption + _c;
-end;
-
-procedure TEngineContext.AddToParameter(_c: char);
-begin
-  FParameter := FParameter + _c;
-end;
-
-constructor TEngineContext.Create(_Input: string);
-begin
-  inherited Create;
-  FOptions := TStringList.Create;
-  FParams := TStringList.Create;
-  FInput := _Input;
-  FReadIdx := 0;
-end;
-
-destructor TEngineContext.Destroy;
-begin
-  FParams.Free;
-  FOptions.Free;
-  inherited;
-end;
-
-function TEngineContext.GetNextChar: char;
-begin
-  if FReadIdx >= Length(FInput) then
-    Result := #0
-  else begin
-    Inc(FReadIdx);
-    Result := FInput[FReadIdx];
-  end;
-end;
-
-procedure TEngineContext.GetOptions(_Options: TStrings);
-begin
-  _Options.Assign(FOptions);
-end;
-
-procedure TEngineContext.GetParams(_Params: TStrings);
-begin
-  _Params.Assign(FParams);
-end;
-
-procedure TEngineContext.HandleCmdLinePart;
-begin
-  if FOption <> '' then
-    FOptions.Add(FOption + '=' + FParameter)
-  else
-    FParams.Add(FParameter);
-  FParameter := '';
-  FOption := '';
-end;
-
-{ TCdmLineParser }
-
-class procedure TCmdLineParser.Execute(const _CmdLine: string; _Options, _Params: TStrings);
-var
-  Context: IEngineContext;
-  ContextEx: IEngineContextEx;
-  State: IEngineState;
-begin
-  Context := TEngineContext.Create(_CmdLine);
-  State := TEngineStateSpace.Create;
-  while State <> nil do
-    State := State.Execute(Context);
-  ContextEx := Context as IEngineContextEx;
-  ContextEx.GetOptions(_Options);
-  ContextEx.GetParams(_Params);
-end;
-
-class procedure TCmdLineParser.Execute(_Options, _Params: TStrings);
-begin
-  Execute(CmdLine, _Options, _Params);
-end;
-
-class procedure TCmdLineParser.SplitCommandline(out _Progname, _Parameters: string);
-begin
-  SplitCommandline(System.CmdLine, _Progname, _Parameters);
-end;
-
-class procedure TCmdLineParser.SplitCommandline(const _Commandline: string; out _Progname, _Parameters: string);
-var
-  i: integer;
-  Len: integer;
-  s: string;
-  NeedsClosingQuote: boolean;
-begin
-  s := Trim(_Commandline);
-  Len := Length(s);
-  NeedsClosingQuote := False;
-  for i := 1 to Len do begin
-    case s[i] of
-      ' ': begin
-          if not NeedsClosingQuote then begin
-            _ProgName := Trim(LeftStr(s, i));
-            _Parameters := Trim(TailStr(s, i + 1));
-            exit;
-          end;
-        end;
-      '"':
-        NeedsClosingQuote := not NeedsClosingQuote;
-    end;
-  end;
-  _Progname := s;
-  _Parameters := '';
-end;
-
-end.
-

Deleted: utilities/dzLib/trunk/src/u_dzCmdLineParserStates.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 12:55:11 UTC (rev 312)
+++ utilities/dzLib/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 12:55:53 UTC (rev 313)
@@ -1,381 +0,0 @@
-unit u_dzCmdLineParserStates;
-
-interface
-
-uses
-  u_dzCmdLineParser;
-
-type
-  TEngineStateAbstract = class(TInterfacedObject)
-  private
-    function GetClassName: string;
-  end;
-
-type
-  TEngineStateError = class(TEngineStateAbstract, IEngineState)
-  private
-    FError: string;
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-    constructor Create(const _Error: string);
-  end;
-
-type
-  TEngineStateSpace = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateDash = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateDoubleDash = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateLongOption = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateShortOption = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateShortSwitch = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateShortParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateQuotedShortParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateLongParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateQuotedLongParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-type
-  TEngineStateQuotedParam = class(TEngineStateAbstract, IEngineState)
-  private
-    function Execute(const _Context: IEngineContext): IEngineState;
-  public
-  end;
-
-implementation
-
-uses
-  SysUtils;
-
-resourcestring
-  RS_INVALID_CHARACTER_S = 'Invalid character "%s".';
-
-{ TEngineStateAbstract }
-
-function TEngineStateAbstract.GetClassName: string;
-begin
-  Result := ClassName;
-end;
-
-{ TEngineStateError }
-
-constructor TEngineStateError.Create(const _Error: string);
-begin
-  inherited Create;
-  FError := _Error;
-end;
-
-function TEngineStateError.Execute(const _Context: IEngineContext): IEngineState;
-begin
-  raise EStateEngineError.Create(FError);
-end;
-
-{ TEngineStateSpace }
-
-function TEngineStateSpace.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '-':
-      Result := TEngineStateDash.Create;
-    #0:
-      Result := nil; // end state
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedParam.Create;
-      end;
-    ' ':
-      Result := self;
-  else
-    _Context.AddToParameter(c);
-    Result := TEngineStateParam.Create;
-  end;
-end;
-
-{ TEngineStateParam }
-
-function TEngineStateParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedParam.Create;
-      end;
-    #0, ' ': begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-  else
-    _Context.AddToParameter(c);
-    Result := Self;
-  end;
-end;
-
-{ TEngineStateQuotedParam }
-
-function TEngineStateQuotedParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateParam.Create;
-      end;
-    #0:
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-  else
-    _Context.AddToParameter(c);
-    Result := self;
-  end;
-end;
-
-{ TEngineStateDash }
-
-function TEngineStateDash.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  if c in ALPHANUMERIC_CHARS + ['?'] then begin
-    _Context.AddToOption(c);
-    Result := TEngineStateShortOption.Create;
-  end else if c = '-' then
-    Result := TEngineStateDoubleDash.Create
-  else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-end;
-
-{ TEngineStateDoubleDash }
-
-function TEngineStateDoubleDash.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  if c in ALPHANUMERIC_CHARS then begin
-    _Context.AddToOption(c);
-    Result := TEngineStateLongOption.Create;
-  end else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-end;
-
-{ TEngineStateShortOption }
-
-function TEngineStateShortOption.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    ' ': begin
-        Result := TEngineStateShortParam.Create;
-      end;
-    '-', '+': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateShortSwitch.Create;
-      end;
-    #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-  else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-  end;
-end;
-
-{ TEngineStateShortSwitch }
-
-function TEngineStateShortSwitch.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-  end;
-end;
-
-{ TEngineStateShortParam }
-
-function TEngineStateShortParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedShortParam.Create;
-      end;
-    '-': begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateDash.Create;
-      end;
-  else
-    _Context.AddToParameter(c);
-    Result := self;
-  end;
-end;
-
-{ TEngineStateQuotedShortParam }
-
-function TEngineStateQuotedShortParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateShortParam.Create;
-      end;
-    #0:
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-  else
-    _Context.AddToParameter(c);
-    Result := self;
-  end;
-end;
-
-{ TEngineStateLongOption }
-
-function TEngineStateLongOption.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '=':
-      Result := TEngineStateLongParam.Create;
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-    '"', '''':
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-  else
-    _Context.AddToOption(c);
-    Result := TEngineStateLongOption.Create;
-  end;
-end;
-
-{ TEngineStateLongParam }
-
-function TEngineStateLongParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateQuotedLongParam.Create;
-      end;
-    ' ', #0: begin
-        _Context.HandleCmdLinePart;
-        Result := TEngineStateSpace.Create;
-      end;
-  else
-    _Context.AddToParameter(c);
-    Result := TEngineStateLongParam.Create;
-  end;
-end;
-
-{ TEngineStateQuotedLongParam }
-
-function TEngineStateQuotedLongParam.Execute(const _Context: IEngineContext): IEngineState;
-var
-  c: char;
-begin
-  c := _Context.GetNextChar;
-  case c of
-    '"': begin
-        _Context.AddToParameter(c);
-        Result := TEngineStateLongParam.Create;
-      end;
-    #0:
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
-  else
-    _Context.AddToParameter(c);
-    Result := TEngineStateQuotedLongParam.Create;
-  end;
-end;
-
-end.



From twm at mail.berlios.de  Fri Sep  5 15:00:43 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 15:00:43 +0200
Subject: [Dzchart-svncheckins] r314 - utilities/dzCmdLineParser/trunk/src
Message-ID: <200809051300.m85D0hfI008536@sheep.berlios.de>

Author: twm
Date: 2008-09-05 15:00:42 +0200 (Fri, 05 Sep 2008)
New Revision: 314

Modified:
   utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas
Log:
replaced resource strings with calls to DGetText(..., 'dzCmdLineParser')


Modified: utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 12:55:53 UTC (rev 313)
+++ utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 13:00:42 UTC (rev 314)
@@ -107,10 +107,13 @@
 implementation
 
 uses
-  SysUtils;
+  SysUtils,
+  u_dzTranslator;
 
-resourcestring
-  RS_INVALID_CHARACTER_S = 'Invalid character "%s".';
+function _(const _s: string): string; inline;
+begin
+  Result := DGetText(_s, 'dzCmdLineParser');
+end;
 
 { TEngineStateAbstract }
 
@@ -191,7 +194,7 @@
         Result := TEngineStateParam.Create;
       end;
     #0:
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+      Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
   else
     _Context.AddToParameter(c);
     Result := self;
@@ -211,7 +214,7 @@
   end else if c = '-' then
     Result := TEngineStateDoubleDash.Create
   else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+    Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
 end;
 
 { TEngineStateDoubleDash }
@@ -225,7 +228,7 @@
     _Context.AddToOption(c);
     Result := TEngineStateLongOption.Create;
   end else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+    Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
 end;
 
 { TEngineStateShortOption }
@@ -248,7 +251,7 @@
         Result := TEngineStateSpace.Create;
       end;
   else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+    Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
   end;
 end;
 
@@ -264,7 +267,7 @@
         _Context.HandleCmdLinePart;
         Result := TEngineStateSpace.Create;
       end else
-    Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+    Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
   end;
 end;
 
@@ -307,7 +310,7 @@
         Result := TEngineStateShortParam.Create;
       end;
     #0:
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+      Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
   else
     _Context.AddToParameter(c);
     Result := self;
@@ -329,7 +332,7 @@
         Result := TEngineStateSpace.Create;
       end;
     '"', '''':
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+      Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
   else
     _Context.AddToOption(c);
     Result := TEngineStateLongOption.Create;
@@ -371,7 +374,7 @@
         Result := TEngineStateLongParam.Create;
       end;
     #0:
-      Result := TEngineStateError.Create(Format(RS_INVALID_CHARACTER_S, [c]));
+      Result := TEngineStateError.Create(Format(_('Invalid character "%s".'), [c]));
   else
     _Context.AddToParameter(c);
     Result := TEngineStateQuotedLongParam.Create;



From twm at mail.berlios.de  Fri Sep  5 15:01:11 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 15:01:11 +0200
Subject: [Dzchart-svncheckins] r315 - utilities/dzCmdLineParser/trunk/tests
Message-ID: <200809051301.m85D1B3i008621@sheep.berlios.de>

Author: twm
Date: 2008-09-05 15:01:10 +0200 (Fri, 05 Sep 2008)
New Revision: 315

Modified:
   utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr
   utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj
Log:
adapted to new paths

Modified: utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr
===================================================================
--- utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr	2008-09-05 13:00:42 UTC (rev 314)
+++ utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dpr	2008-09-05 13:01:10 UTC (rev 315)
@@ -28,8 +28,8 @@
   u_dzOptionNameList in '..\src\u_dzOptionNameList.pas',
   u_dzOptionFoundList in '..\src\u_dzOptionFoundList.pas',
   u_dzGetOpt_UnitTest in 'u_dzGetOpt_UnitTest.pas',
-  u_dzCmdLineParser in '..\..\dzlib\src\u_dzCmdLineParser.pas',
-  u_dzCmdLineParserStates in '..\..\dzlib\src\u_dzCmdLineParserStates.pas';
+  u_dzCmdLineParserStates in '..\src\u_dzCmdLineParserStates.pas',
+  u_dzCmdLineParser in '..\src\u_dzCmdLineParser.pas';
 
 {$R *.RES}
 

Modified: utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj
===================================================================
--- utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj	2008-09-05 13:00:42 UTC (rev 314)
+++ utilities/dzCmdLineParser/trunk/tests/CmdLineParserTest.dproj	2008-09-05 13:01:10 UTC (rev 315)
@@ -45,6 +45,25 @@
     <Borland.ProjectType />
     <BorlandProject>
 <BorlandProject><Delphi.Personality><Parameters><Parameters Name="HostApplication">C:\Delphi7\Bin\delphi32.exe</Parameters><Parameters Name="UseLauncher">False</Parameters><Parameters Name="LoadAllSymbols">True</Parameters><Parameters Name="LoadUnspecifiedSymbols">False</Parameters></Parameters><Language><Language Name="RootDir">C:\Delphi7\Bin\</Language></Language><VersionInfo><VersionInfo Name="IncludeVerInfo">True</VersionInfo><VersionInfo Name="AutoIncBuild">False</VersionInfo><VersionInfo Name="MajorVer">1</VersionInfo><VersionInfo Name="MinorVer">0</VersionInfo><VersionInfo Name="Release">0</VersionInfo><VersionInfo Name="Build">0</VersionInfo><VersionInfo Name="Debug">False</VersionInfo><VersionInfo Name="PreRelease">False</VersionInfo><VersionInfo Name="Special">False</VersionInfo><VersionInfo Name="Private">False</VersionInfo><VersionInfo Name="DLL">True</VersionInfo><VersionInfo Name="Locale">4105</VersionInfo><VersionInfo Name="CodePage">1252</VersionInfo></Versi!
 onInfo><VersionInfoKeys><VersionInfoKeys Name="CompanyName"></VersionInfoKeys><VersionInfoKeys Name="FileDescription"></VersionInfoKeys><VersionInfoKeys Name="FileVersion">1.0.0.0</VersionInfoKeys><VersionInfoKeys Name="InternalName"></VersionInfoKeys><VersionInfoKeys Name="LegalCopyright"></VersionInfoKeys><VersionInfoKeys Name="LegalTrademarks"></VersionInfoKeys><VersionInfoKeys Name="OriginalFilename"></VersionInfoKeys><VersionInfoKeys Name="ProductName"></VersionInfoKeys><VersionInfoKeys Name="ProductVersion">1.0.0.0</VersionInfoKeys><VersionInfoKeys Name="Comments"></VersionInfoKeys></VersionInfoKeys><Excluded_Packages>
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
       <Excluded_Packages Name="c:\program files\borland\bds\4.0\Bin\dcldb100.bpl">Borland Database Components</Excluded_Packages>
       <Excluded_Packages Name="c:\program files\borland\bds\4.0\bin\dclado100.bpl">Borland ADO DB Components</Excluded_Packages>
       <Excluded_Packages Name="c:\program files\borland\bds\4.0\Bin\dcldbx100.bpl">Borland dbExpress Components</Excluded_Packages>
@@ -71,9 +90,9 @@
     <DelphiCompile Include="CmdLineParserTest.dpr">
       <MainSource>MainSource</MainSource>
     </DelphiCompile>
-    <DCCReference Include="..\..\dzlib\src\u_dzCmdLineParser.pas" />
-    <DCCReference Include="..\..\dzlib\src\u_dzCmdLineParserStates.pas" />
     <DCCReference Include="..\..\dzlib\src\u_dzTranslator.pas" />
+    <DCCReference Include="..\src\u_dzCmdLineParser.pas" />
+    <DCCReference Include="..\src\u_dzCmdLineParserStates.pas" />
     <DCCReference Include="..\src\u_dzGetOpt.pas" />
     <DCCReference Include="..\src\u_dzOptionDescList.pas" />
     <DCCReference Include="..\src\u_dzOptionFoundList.pas" />



From twm at mail.berlios.de  Fri Sep  5 15:03:59 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 15:03:59 +0200
Subject: [Dzchart-svncheckins] r316 - in utilities/dzCmdLineParser/trunk: .
	translations/de
Message-ID: <200809051303.m85D3x5U008983@sheep.berlios.de>

Author: twm
Date: 2008-09-05 15:03:58 +0200 (Fri, 05 Sep 2008)
New Revision: 316

Modified:
   utilities/dzCmdLineParser/trunk/
   utilities/dzCmdLineParser/trunk/translations/de/
   utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
Log:
updated translation


Property changes on: utilities/dzCmdLineParser/trunk
___________________________________________________________________
Name: svn:ignore
   - __history
*.local
CmdLineParserTest.cfg
*.dsk
*.exe
*.identcache
CmdLineParserTest.res
dunit.ini
*.dcu
*.~dsk
default.po
filtered.po

   + __history
*.local
CmdLineParserTest.cfg
*.dsk
*.exe
*.identcache
CmdLineParserTest.res
dunit.ini
*.dcu
*.~dsk
default.po
filtered.po
.po



Property changes on: utilities/dzCmdLineParser/trunk/translations/de
___________________________________________________________________
Name: svn:ignore
   + dzCmdLineParser.mo


Modified: utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
===================================================================
--- utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-05 13:01:10 UTC (rev 315)
+++ utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-05 13:03:58 UTC (rev 316)
@@ -6,9 +6,9 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzCmdLineParser 1.0\n"
-"POT-Creation-Date: 2008-09-04 05:55\n"
-"PO-Revision-Date: 2008-04-23 16:06+0100\n"
-"Last-Translator: Thomas Mueller <info at schniering.com>\n"
+"POT-Creation-Date: 2008-09-05 06:02\n"
+"PO-Revision-Date: 2008-09-05 06:03-0800\n"
+"Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: twm <nospam at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
@@ -17,77 +17,78 @@
 "X-Poedit-Language: German\n"
 "X-Poedit-Country: GERMANY\n"
 
-#. Programmer's name for it: RS_Error_S
-#: u_dzDefaultMain.pas:97 
+#: u_dzCmdLineParserStates.pas:197
+#: u_dzCmdLineParserStates.pas:231
+#: u_dzCmdLineParserStates.pas:254
+#: u_dzCmdLineParserStates.pas:270
+#: u_dzCmdLineParserStates.pas:313
+#: u_dzCmdLineParserStates.pas:335
+#: u_dzCmdLineParserStates.pas:377
+msgid "Invalid character \"%s\"."
+msgstr "Ung?ltiges Zeichen \"%s\""
+
+#. Programmer's name for it: RS_Error_S
+#: u_dzDefaultMain.pas:97
 msgid "Error: %s"
 msgstr "Fehler: %s"
 
-#. Programmer's name for it: RS_Synopsis_S_S
-#: u_dzDefaultMain.pas:98 
+#. Programmer's name for it: RS_Synopsis_S_S
+#: u_dzDefaultMain.pas:98
 msgid "Synopsis: %s %s"
 msgstr "Aufruf: %s %s"
 
-#. Programmer's name for it: RS_Parameters
-#: u_dzDefaultMain.pas:99 
+#. Programmer's name for it: RS_Parameters
+#: u_dzDefaultMain.pas:99
 msgid "Parameters:"
 msgstr "Parameter:"
 
-#. Programmer's name for it: RS_Options
-#: u_dzDefaultMain.pas:100 
+#. Programmer's name for it: RS_Options
+#: u_dzDefaultMain.pas:100
 msgid "Options:"
 msgstr "Optionen:"
 
-#. Programmer's name for it: RS_NOT_A_REGISTERED_OPTION_S
-#: u_dzGetOpt.pas:116 
+#: u_dzGetOpt.pas:156
+msgid "[options]"
+msgstr "[Optionen]"
+
+#: u_dzGetOpt.pas:215
 msgid "%s is not a registered option."
 msgstr "%s ist keine registrierte Option"
 
-#. Programmer's name for it: RS_TOO_MANY_PARAMETERS
-#: u_dzGetOpt.pas:117 
+#: u_dzGetOpt.pas:294
 msgid "There are too many parameters."
 msgstr "Zuviele Parameter"
 
-#. Programmer's name for it: RS_NOT_ENOUGH_PARAMETERS_SD
-#: u_dzGetOpt.pas:118 
+#: u_dzGetOpt.pas:304
 msgid "There are not enough %s parameters (min: %d)"
 msgstr "Nicht gen?gend %s Parameter (min: %d)"
 
-#. Programmer's name for it: RS_DISPLAY_PARAMETER_HELP
-#: u_dzGetOpt.pas:119 
-msgid "display parameter help"
-msgstr "Parameter Hilfe anzeigen"
-
-#. Programmer's name for it: RS_OPTION_IS_UNKNOWN_S
-#: u_dzGetOpt.pas:120 
+#: u_dzGetOpt.pas:317
 msgid "Option %s is unknown"
 msgstr "Option %s ist nciht bekannt"
 
-#. Programmer's name for it: RS_OPTION_REQUIRES_VALUE_S
-#: u_dzGetOpt.pas:121 
+#: u_dzGetOpt.pas:321
 msgid "Option %s requires a value."
 msgstr "Option %s ben?tigt einen Wert."
 
-#. Programmer's name for it: RS_OPTIONS
-#: u_dzGetOpt.pas:122 
-msgid "[options]"
-msgstr "[Optionen]"
+#: u_dzGetOpt.pas:365
+msgid "display parameter help"
+msgstr "Parameter Hilfe anzeigen"
 
-#. Programmer's name for it: RS_OPTION_NAME_CANNOT_BE_EMPTY
-#: u_dzOptionDescList.pas:57 
+#: u_dzOptionDescList.pas:105
 msgid "Option name cannot be empty."
 msgstr "Optionsname kann nicht leer sein."
 
-#. Programmer's name for it: RS_OPTION_NAME_MUST_START_WITH_ALPHANUMERIC
-#: u_dzOptionDescList.pas:58 
+#: u_dzOptionDescList.pas:108
 msgid "Option name must start with an alphanumeric character."
 msgstr "Optionsname muss mit einem alphanumerischen Zeichen beginnen."
 
-#. Programmer's name for it: RS_OPTION_NAME_CONTAINS_INVALID_CHAR_SD
-#: u_dzOptionDescList.pas:59 
+#: u_dzOptionDescList.pas:111
 msgid "Option name contains invalid character \"%s\" (%d)."
 msgstr "Optionsname enth?lt ung?ltiges Zeichen \"%s\" (%d)"
 
-#. Programmer's name for it: RS_VALUE
-#: u_dzOptionDescList.pas:60 
+#. should never happen
+#: u_dzOptionDescList.pas:121
 msgid "value"
 msgstr "Wert"
+



From twm at mail.berlios.de  Fri Sep  5 15:17:45 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 15:17:45 +0200
Subject: [Dzchart-svncheckins] r317 - utilities/dzLib/trunk/src
Message-ID: <200809051317.m85DHjS4009929@sheep.berlios.de>

Author: twm
Date: 2008-09-05 15:17:42 +0200 (Fri, 05 Sep 2008)
New Revision: 317

Modified:
   utilities/dzLib/trunk/src/u_dzTranslator.pas
Log:
added new dzDGetText function (inline call to DGetText) to avoid warnings in dxgettext tool if the function is called with a variable

Modified: utilities/dzLib/trunk/src/u_dzTranslator.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzTranslator.pas	2008-09-05 13:03:58 UTC (rev 316)
+++ utilities/dzLib/trunk/src/u_dzTranslator.pas	2008-09-05 13:17:42 UTC (rev 317)
@@ -26,6 +26,8 @@
 function _(const _s: string): string;
 function GetText(const _s: string): string;
 function DGetText(const _s: string; const _TextDomain: string = ''): string;
+///<summary> use this if you pass variables rather than constants to avoid warnings in the dxgettext tool </summary>
+function dzDGetText(const _s: string; const _TextDomain: string = ''): string; inline;
 procedure TranslateComponent(_Object: TComponent; const _TextDomain: string = '');
 procedure RetranslateComponent(_Object: TComponent; const _TextDomain: string = '');
 procedure AddDomainForResourceString(const _Domain: string);
@@ -75,6 +77,11 @@
 {$ENDIF}
 end;
 
+function dzDGetText(const _s: string; const _TextDomain: string = ''): string; inline;
+begin
+  Result := DGetText(_s, _TextDomain);
+end;
+
 procedure TranslateComponent(_Object: TComponent; const _TextDomain: string = '');
 begin
 {$IFDEF gnugettext}



From twm at mail.berlios.de  Fri Sep  5 15:19:24 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 15:19:24 +0200
Subject: [Dzchart-svncheckins] r318 - in utilities/dzCmdLineParser/trunk: .
	src translations/de
Message-ID: <200809051319.m85DJODb009980@sheep.berlios.de>

Author: twm
Date: 2008-09-05 15:19:23 +0200 (Fri, 05 Sep 2008)
New Revision: 318

Modified:
   utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd
   utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas
   utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
   utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
   utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
Log:
local _() functions now call dzDGetText rather than DGetText to avoid warning in dxgettext tool

Modified: utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd
===================================================================
--- utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd	2008-09-05 13:17:42 UTC (rev 317)
+++ utilities/dzCmdLineParser/trunk/UpdateTranslations.cmd	2008-09-05 13:19:23 UTC (rev 318)
@@ -5,7 +5,7 @@
 set BASE=.
 
 @rem extract from subdirectories src and forms
-dxgettext --delphi -r -b %BASE%\src -b %BASE%\forms -o %BASE%
+dxgettext --delphi -r -b %BASE%\src -o %BASE%\
 
 @rem remove strings given in ignore.po
 msgremove %BASE%\default.po -i %BASE%\ignore.po -o %BASE%\filtered.po

Modified: utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 13:17:42 UTC (rev 317)
+++ utilities/dzCmdLineParser/trunk/src/u_dzCmdLineParserStates.pas	2008-09-05 13:19:23 UTC (rev 318)
@@ -3,7 +3,8 @@
 interface
 
 uses
-  u_dzCmdLineParser;
+  u_dzCmdLineParser,
+  u_dzTranslator;
 
 type
   TEngineStateAbstract = class(TInterfacedObject)
@@ -107,12 +108,11 @@
 implementation
 
 uses
-  SysUtils,
-  u_dzTranslator;
+  SysUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := DGetText(_s, 'dzCmdLineParser');
+  Result := dzDGetText(_s, 'dzCmdLineParser');
 end;
 
 { TEngineStateAbstract }

Modified: utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-05 13:17:42 UTC (rev 317)
+++ utilities/dzCmdLineParser/trunk/src/u_dzGetOpt.pas	2008-09-05 13:19:23 UTC (rev 318)
@@ -5,6 +5,7 @@
 uses
   SysUtils,
   Classes,
+  u_dzTranslator,
   u_dzParamDescList,
   u_dzParamFoundList,
   u_dzOptionDescList,
@@ -111,12 +112,11 @@
 implementation
 
 uses
-  u_dzCmdLineParser,
-  u_dzTranslator;
+  u_dzCmdLineParser;
 
 function _(const _s: string): string; inline;
 begin
-  Result := DGetText(_s, 'dzCmdLineParser');
+  Result := dzDGetText(_s, 'dzCmdLineParser');
 end;
 
 { TdzGetOpt }

Modified: utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas
===================================================================
--- utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-05 13:17:42 UTC (rev 317)
+++ utilities/dzCmdLineParser/trunk/src/u_dzOptionDescList.pas	2008-09-05 13:19:23 UTC (rev 318)
@@ -5,6 +5,7 @@
 uses
   SysUtils,
   Classes,
+  u_dzTranslator,
   u_dzQuicksort;
 
 type
@@ -51,12 +52,11 @@
 implementation
 
 uses
-  StrUtils,
-  u_dzTranslator;
+  StrUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := DGetText(_s, 'dzCmdLineParser');
+  Result := dzDGetText(_s, 'dzCmdLineParser');
 end;
 
 {$INCLUDE 't_dzSortedObjectListTemplate.tpl'}

Modified: utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po
===================================================================
--- utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-05 13:17:42 UTC (rev 317)
+++ utilities/dzCmdLineParser/trunk/translations/de/dzCmdLineParser.po	2008-09-05 13:19:23 UTC (rev 318)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzCmdLineParser 1.0\n"
-"POT-Creation-Date: 2008-09-05 06:02\n"
+"POT-Creation-Date: 2008-09-05 06:07\n"
 "PO-Revision-Date: 2008-09-05 06:03-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: twm <nospam at dummzeuch.de>\n"
@@ -17,78 +17,74 @@
 "X-Poedit-Language: German\n"
 "X-Poedit-Country: GERMANY\n"
 
-#: u_dzCmdLineParserStates.pas:197
-#: u_dzCmdLineParserStates.pas:231
-#: u_dzCmdLineParserStates.pas:254
-#: u_dzCmdLineParserStates.pas:270
-#: u_dzCmdLineParserStates.pas:313
-#: u_dzCmdLineParserStates.pas:335
-#: u_dzCmdLineParserStates.pas:377
+#: u_dzCmdLineParserStates.pas:197 
 u_dzCmdLineParserStates.pas:217
+#: u_dzCmdLineParserStates.pas:231 u_dzCmdLineParserStates.pas:254
+#: u_dzCmdLineParserStates.pas:270 u_dzCmdLineParserStates.pas:313
+#: u_dzCmdLineParserStates.pas:335 u_dzCmdLineParserStates.pas:377
 msgid "Invalid character \"%s\"."
 msgstr "Ung?ltiges Zeichen \"%s\""
 
-#. Programmer's name for it: RS_Error_S
-#: u_dzDefaultMain.pas:97
+#. Programmer's name for it: RS_Error_S
+#: u_dzDefaultMain.pas:97 
 msgid "Error: %s"
 msgstr "Fehler: %s"
 
-#. Programmer's name for it: RS_Synopsis_S_S
-#: u_dzDefaultMain.pas:98
+#. Programmer's name for it: RS_Synopsis_S_S
+#: u_dzDefaultMain.pas:98 
 msgid "Synopsis: %s %s"
 msgstr "Aufruf: %s %s"
 
-#. Programmer's name for it: RS_Parameters
-#: u_dzDefaultMain.pas:99
+#. Programmer's name for it: RS_Parameters
+#: u_dzDefaultMain.pas:99 
 msgid "Parameters:"
 msgstr "Parameter:"
 
-#. Programmer's name for it: RS_Options
-#: u_dzDefaultMain.pas:100
+#. Programmer's name for it: RS_Options
+#: u_dzDefaultMain.pas:100 
 msgid "Options:"
 msgstr "Optionen:"
 
-#: u_dzGetOpt.pas:156
+#: u_dzGetOpt.pas:156 
 msgid "[options]"
 msgstr "[Optionen]"
 
-#: u_dzGetOpt.pas:215
+#: u_dzGetOpt.pas:215 
 msgid "%s is not a registered option."
 msgstr "%s ist keine registrierte Option"
 
-#: u_dzGetOpt.pas:294
+#: u_dzGetOpt.pas:294 
 msgid "There are too many parameters."
 msgstr "Zuviele Parameter"
 
-#: u_dzGetOpt.pas:304
+#: u_dzGetOpt.pas:304 
 u_dzGetOpt.pas:310
 msgid "There are not enough %s parameters (min: %d)"
 msgstr "Nicht gen?gend %s Parameter (min: %d)"
 
-#: u_dzGetOpt.pas:317
+#: u_dzGetOpt.pas:317 
 msgid "Option %s is unknown"
 msgstr "Option %s ist nciht bekannt"
 
-#: u_dzGetOpt.pas:321
+#: u_dzGetOpt.pas:321 
 msgid "Option %s requires a value."
 msgstr "Option %s ben?tigt einen Wert."
 
-#: u_dzGetOpt.pas:365
+#: u_dzGetOpt.pas:365 
 msgid "display parameter help"
 msgstr "Parameter Hilfe anzeigen"
 
-#: u_dzOptionDescList.pas:105
+#: u_dzOptionDescList.pas:105 
 msgid "Option name cannot be empty."
 msgstr "Optionsname kann nicht leer sein."
 
-#: u_dzOptionDescList.pas:108
+#: u_dzOptionDescList.pas:108 
 msgid "Option name must start with an alphanumeric character."
 msgstr "Optionsname muss mit einem alphanumerischen Zeichen beginnen."
 
-#: u_dzOptionDescList.pas:111
+#: u_dzOptionDescList.pas:111 
 msgid "Option name contains invalid character \"%s\" (%d)."
 msgstr "Optionsname enth?lt ung?ltiges Zeichen \"%s\" (%d)"
 
-#. should never happen
-#: u_dzOptionDescList.pas:121
+#. should never happen
+#: u_dzOptionDescList.pas:121 
 u_dzOptionDescList.pas:126
 msgid "value"
 msgstr "Wert"
-



From twm at mail.berlios.de  Fri Sep  5 17:13:39 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 17:13:39 +0200
Subject: [Dzchart-svncheckins] r319 - in utilities/dzLib/trunk: forms src
	tests tests/dzdialog tests/dzdialog/src
Message-ID: <200809051513.m85FDdmG020205@sheep.berlios.de>

Author: twm
Date: 2008-09-05 17:13:33 +0200 (Fri, 05 Sep 2008)
New Revision: 319

Added:
   utilities/dzLib/trunk/tests/dzdialog/
   utilities/dzLib/trunk/tests/dzdialog/dcu/
   utilities/dzLib/trunk/tests/dzdialog/src/
   utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dpr
   utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dproj
   utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.dfm
   utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.pas
Modified:
   utilities/dzLib/trunk/forms/w_dzDialog.pas
   utilities/dzLib/trunk/src/u_dzClassUtils.pas
   utilities/dzLib/trunk/src/u_dzConvertUtils.pas
   utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas
   utilities/dzLib/trunk/src/u_dzDateUtils.pas
   utilities/dzLib/trunk/src/u_dzDllLoader.pas
   utilities/dzLib/trunk/src/u_dzFileStreams.pas
   utilities/dzLib/trunk/src/u_dzFileUtils.pas
   utilities/dzLib/trunk/src/u_dzMiscUtils.pas
   utilities/dzLib/trunk/src/u_dzOsUtils.pas
   utilities/dzLib/trunk/src/u_dzRingBuffer.pas
   utilities/dzLib/trunk/src/u_dzStringUtils.pas
   utilities/dzLib/trunk/src/u_dzTextFile.pas
   utilities/dzLib/trunk/src/u_dzVariantUtils.pas
   utilities/dzLib/trunk/src/u_dzVclUtils.pas
Log:
* replaced resource strings with calls to DGetText(..., 'dzlib')
* local _() functions now call dzDGetText rather than DGetText to avoid warning in dxgettext tool
* moved u_dzTranslator to uses in interface to allow inlining the local _() call
* test/demo for using tf_dzDialog

Modified: utilities/dzLib/trunk/forms/w_dzDialog.pas
===================================================================
--- utilities/dzLib/trunk/forms/w_dzDialog.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/forms/w_dzDialog.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -1,12 +1,11 @@
 {GXFormatter.config=twm}
-{: Generic exception and message dialog.
-   This unit implements a generic Dialog to display exceptions and messages.
-   For exceptions, it only displays the exception's class name and a
-   Details button to get the message.
-   Most times all you need is calling one of the overloaded dzShowException
-   functions.
-   @author twm
-}
+///<summary> Generic exception and message dialog.
+///          This unit implements a generic Dialog to display exceptions and messages.
+///          For exceptions, it only displays the exception's class name and a
+///          Details button to get the message.
+///          Most times all you need is calling one of the overloaded dzShowException
+///          functions.
+///          @author twm </summary>
 unit w_dzDialog;
 
 interface
@@ -22,6 +21,7 @@
   Dialogs,
   StdCtrls,
   ExtCtrls,
+  u_dzTranslator,
   Jcldebug;
 
 type
@@ -39,43 +39,43 @@
     mrYes, mrNo, mrOk, mrCancel, mrAbort, mrRetry, mrIgnore, mrAll, mrNoToAll,
     mrYesToAll, 0, -1);
 
-  {: converts the modal result returned by dzShowMessage to the button pressed }
+///<summary> converts the modal result returned by dzShowMessage to the button pressed </summary>
 function ModalResultToButton(_Result: integer): TDialogButtonEnum;
 
 type
-  {: whether to show the maximze button
-     <ul>
-       <li>smSmart - show only when details are visible</li>
-       <li>smShow - show always</li>
-       <li>smHide - don't show at all</li>
-     </ul>}
+  ///<summary> whether to show the maximze button
+  ///         <ul>
+  ///           <li>smSmart - show only when details are visible</li>
+  ///           <li>smShow - show always</li>
+  ///           <li>smHide - don't show at all</li>
+  ///         </ul> </summary>
   TShowMaximizeOption = (smSmart, smShow, smHide);
 
 type
-  { used for the property OnButtonClick in asyncronous mode
-    @param(Sender is the Exceptiondialog)
-    @param(Button is the ModalResult value of the button pressed)
-    @param(Action is a TCloseAction indicating whether the dialog can be closed,
-           it is initialized to caNone and can be set to caHide, caFree or caMinimize)}
+  ///<summary> used for the property OnButtonClick in asyncronous mode
+  ///          @param Sender is the Exceptiondialog
+  ///          @param Button is the ModalResult value of the button pressed
+  ///          @param Action is a TCloseAction indicating whether the dialog can be closed,
+  ///                        it is initialized to caNone and can be set to caHide, caFree or caMinimize </summary>
   TOnButtonClick = procedure(Sender: TObject; _Button: TModalResult; var _Action: TCloseAction);
 
 type
-  {: defines the exception and messsage dialog.
-     This dialog is used by the various dzShowException and the dzShowMessage
-     functions. It can of course also be created independently. The minimum
-     properties to set are
-     <ul>
-       <li>ExcecptionClass</li>
-       <li>ExceptionMessage</li>
-       <li>VisibleButtons</li>
-     </ul>
-     for showing an exception and
-     <ul>
-       <li>UserMessage</li>
-       <li>VisibleButtons</li>
-       <li>ShowDetailButton (to false)</li>
-     </ul>
-     for showing a message.}
+  ///<summary> defines the exception and messsage dialog.
+  ///          This dialog is used by the various dzShowException and the dzShowMessage
+  ///          functions. It can of course also be created independently. The minimum
+  ///          properties to set are
+  ///          <ul>
+  ///            <li>ExcecptionClass</li>
+  ///            <li>ExceptionMessage</li>
+  ///            <li>VisibleButtons</li>
+  ///          </ul>
+  ///          for showing an exception and
+  ///          <ul>
+  ///            <li>UserMessage</li>
+  ///            <li>VisibleButtons</li>
+  ///            <li>ShowDetailButton (to false)</li>
+  ///          </ul>
+  ///          for showing a message. </summary>
   Tf_dzDialog = class(TForm)
     p_Top: TPanel;
     l_Message: TLabel;
@@ -85,8 +85,8 @@
     im_Icon: TImage;
     procedure FormCreate(Sender: TObject);
   private
-    {: used to display it pseudo modally,
-       see dzShowNonModalMessage function and MakeModal/MakeNonmodal methods }
+    ///<summary> used to display the dialog pseudo modally,
+    ///          see dzShowNonModalMessage function and MakeModal/MakeNonmodal methods </summary>
     FWindowList: pointer;
     FOnButtonClick: TOnButtonClick;
   private
@@ -126,170 +126,166 @@
     destructor Destroy; override;
 
     procedure Hide;
-    {: class name of the exception }
+    ///<summary> class name of the exception </summary>
     property ExceptionClass: string read FExceptionClass write FExceptionClass;
-    {: message of the exception }
+    ///<summary> message of the exception </summary>
     property ExceptionMessage: string read FExceptionMessage write FExceptionMessage;
-    //    {: address of the exception }
-    //    property ExcptionAddress: pointer read fExceptionAddress write fExceptionAddress;
-        {: extended exception messsage, only available from EHeadworkException }
-    property ExceptionExtendedMessage: string read FExceptionExtendedMessage write FExceptionExtendedMessage;
-    {: exception procedure, only available from EHeadworkException }
+    ///<summary> exception address (initialized to ExcptAddr </summary>
     property ExceptionProcedure: string read FExceptionProcedure write FExceptionProcedure;
     property CallStack: TStrings read FCallStack write SetCallStack;
-    {: array of buttons to show, note that this is an array, not a set, so the
-       order matters }
+    ///<summary> array of buttons to show, note that this is an array, not a set, so the
+    ///          order matters </summary>
     property VisibleButtons: TDialogButtonArr read FVisibleButtons;
-    {: array of modal results for the custom buttons. Note: The length of this
-       array is set when VisibleButtons is updated (using SetVisibleButtons) }
+    ///<summary> array of modal results for the custom buttons. Note: The length of this
+    ///          array is set when VisibleButtons is updated (using SetVisibleButtons) </summary>
     property CustomModalResults: TIntegerArray read FCustomModalResults;
-    {: array of captions for the custom buttons Note: The length of this
-       array is set when VisibleButtons is updated (using SetVisibleButtons) }
+    ///<summary> array of captions for the custom buttons Note: The length of this
+    ///          array is set when VisibleButtons is updated (using SetVisibleButtons) </summary>
     property CustomButtonCaptions: TStringArray read FCustomButtonCaptions;
-    {: user message to show instead of 'An error <i>exceptionclass</i> occured.'
-       Can contain up to two %s wildcards, the first will be replaced with
-       the exception's class name the second with the exception's message
-       (not implemented) }
+    ///<summary> user message to show instead of 'An error <i>exceptionclass</i> occured.'
+    ///          Can contain up to two %s wildcards, the first will be replaced with
+    ///          the exception's class name the second with the exception's message
+    ///          (not implemented) </summary>
     property UserMessage: string read FUserMessage write FUserMessage;
-    {: description of the buttons (or some other text to be displayed) }
+    ///<summary> description of the buttons (or some other text to be displayed) </summary>
     property OptionDescription: string read FOptionDescription write FOptionDescription;
-    {: text to display instead of '<i>exceptionclass</i>'#13#10'<i>exceptionmessage</i>'#13#10 }
+    ///<summary> text to display instead of '<i>exceptionclass</i>'#13#10'<i>exceptionmessage</i>'#13#10 </summary>
     property Details: string read FDetails write FDetails;
-    {: determines the icon of the dialog }
+    ///<summary> determines the icon of the dialog </summary>
     property DialogType: TMsgDlgType read FDialogType write FDialogType;
-    {: if true the 'Details' button is shown }
+    ///<summary> if true the 'Details' button is shown </summary>
     property ShowDetailButton: boolean read FShowDetailButton write FShowDetailButton;
-    {: if true, the 'Do not show again' checkbox is shown.
-       Automatically set true, when DontShowAgainText is set to a nonempty string. }
+    ///<summary> if true, the 'Do not show again' checkbox is shown.
+    ///          Automatically set true, when DontShowAgainText is set to a nonempty string. </summary>
     property ShowDontShowAgain: boolean read FShowDontShowAgain write FShowDontShowAgain;
-    {: checkbox caption to show instead of 'Do not ask again.' }
+    ///<summary> checkbox caption to show instead of 'Do not ask again.' </summary>
     property DontShowAgainText: string read FDontShowAgainText write SetDontShowAgainText;
-    {: whether to show the maximze button
-       <ul>
-         <li>smSmart - show only when details are visible</li>
-         <li>smShow - show always</li>
-         <li>smHide - don't show at all</li>
-       </ul>}
+    ///<summary> whether to show the maximze button
+    ///          <ul>
+    ///            <li>smSmart - show only when details are visible</li>
+    ///            <li>smShow - show always</li>
+    ///            <li>smHide - don't show at all</li>
+    ///          </ul> </summary>
     property ShowMaximize: TShowMaximizeOption read FShowMaximize write FShowMaximize;
   public
-    {: Simple function to show an exception.
-       This will display a dialog with the exclamation mark (!) icon, an OK button,
-       the text 'An error <i>exceptionclass</i> occured.' and a Details button.
-       Pressing the details button will display<br>
-       <i>exceptionclass</i><br>
-       <i>exceptionmessage</i><br>
-       <i>call stack, if available</i><br>
-       @param e is the exception to display
-       @param Parent is the parent component to be used in the constructor, defaults
-                     to nil
-       @returns one of the mrXxxx values }
+    ///<summary> Simple function to show an exception.
+    ///          This will display a dialog with the exclamation mark (!) icon, an OK button,
+    ///          the text 'An error <i>exceptionclass</i> occured.' and a Details button.
+    ///          Pressing the details button will display<br>
+    ///          <i>exceptionclass</i><br>
+    ///          <i>exceptionmessage</i><br>
+    ///          <i>call stack, if available</i><br>
+    ///          @param e is the exception to display
+    ///          @param Parent is the parent component to be used in the constructor, defaults
+    ///                        to nil
+    ///          @returns one of the mrXxxx values </summary>
     class function ShowException(_e: Exception; _Parent: TComponent = nil): integer; overload;
-    {: Moderately complex function to show an exception.
-       This will display a dialog with the exclamation mark (!) icon, the Buttons
-       and OptionDesc specified,
-       the text 'An error <i>exceptionclass</i> occured.' and a Details button.
-       Pressing the details button will display<br>
-       <i>exceptionclass</i><br>
-       <i>exceptionmessage</i><br>
-       <i>call stack, if available</i><br>
-       @param e is the exception to display
-       @param Buttons is an array of buttons to show (Note: This is an array of
-                      buttons, not a set, so the order is important!)
-       @param OptionDesc gives the description for the Buttons, if not given,
-              defaults to an empty string
-       @param Parent is the parent component to be used in the constructor, defaults
-                     to nil
-       @returns one of the mrXxxx values }
+    ///<summary> Moderately complex function to show an exception.
+    ///          This will display a dialog with the exclamation mark (!) icon, the Buttons
+    ///          and OptionDesc specified,
+    ///          the text 'An error <i>exceptionclass</i> occured.' and a Details button.
+    ///          Pressing the details button will display<br>
+    ///          <i>exceptionclass</i><br>
+    ///          <i>exceptionmessage</i><br>
+    ///          <i>call stack, if available</i><br>
+    ///          @param e is the exception to display
+    ///          @param Buttons is an array of buttons to show (Note: This is an array of
+    ///                         buttons, not a set, so the order is important!)
+    ///          @param OptionDesc gives the description for the Buttons, if not given,
+    ///                            defaults to an empty string
+    ///          @param Parent is the parent component to be used in the constructor, defaults
+    ///                                      to nil
+    ///          @returns one of the mrXxxx values </summary>
     class function ShowException(_e: Exception; const _Buttons: array of TDialogButtonEnum;
       const _OptionDesc: string = ''; _Parent: TComponent = nil): integer; overload;
-    {: Complex function to show an exception.
-       This will display a dialog with the exclamation mark (!) icon, the Buttons
-       and OptionDesc specified, the Message passed and a Details button.
-       Pressing the details button will display<br>
-       <i>exceptionclass</i><br>
-       <i>exceptionmessage</i><br>
-       <i>call stack, if available</i><br>
-       @param e is the exception to display
-       @param Message is the message to display
-       @param Buttons is an array of buttons to show (Note: This is an array of
-                      buttons, not a set, so the order is important!)
-       @param OptionDesc gives the description for the Buttons, if not given,
-                         defaults to an empty string
-       @param Parent is the parent component to be used in the constructor, defaults
-                     to nil
-       @returns one of the mrXxxx values }
+    ///<summary> Complex function to show an exception.
+    ///          This will display a dialog with the exclamation mark (!) icon, the Buttons
+    ///          and OptionDesc specified, the Message passed and a Details button.
+    ///          Pressing the details button will display<br>
+    ///          <i>exceptionclass</i><br>
+    ///          <i>exceptionmessage</i><br>
+    ///          <i>call stack, if available</i><br>
+    ///          @param e is the exception to display
+    ///          @param Message is the message to display
+    ///          @param Buttons is an array of buttons to show (Note: This is an array of
+    ///                         buttons, not a set, so the order is important!)
+    ///          @param OptionDesc gives the description for the Buttons, if not given,
+    ///                            defaults to an empty string
+    ///          @param Parent is the parent component to be used in the constructor, defaults
+    ///                        to nil
+    ///          @returns one of the mrXxxx values }
     class function ShowException(_e: Exception; const _Message: string;
       const _Buttons: array of TDialogButtonEnum; const _OptionDesc: string = '';
       _Parent: TComponent = nil): integer; overload;
     class function ShowError(const _ErrorMsg, _Details: string; const _Buttons: array of TDialogButtonEnum;
       const _OptionDesc: string = ''; _Parent: TComponent = nil): integer;
-    {: Simple function to display a message.
-       This will display a dialog with the icon indicated by DialogType, the
-       Message given, containing the Buttons specified and optionally an
-       OptionDesc. In contrast to MessageDlg the dialog is centered on the owner.
-       @param DialogType gives the icon to display
-       @param Message is the message text to display
-       @param Buttons is an array of buttons to show (Note: This is an array of
-                      buttons, not a set, so the order is important!)
-       @param Owner is the owner component to be used in the constructor, defaults
-                     to nil
-       @param OptionDesc gives the description for the Buttons, if not given,
-                         defaults to an empty string
-       @returns one of the mrXxxx values }
+    ///<summary> Simple function to display a message.
+    ///          This will display a dialog with the icon indicated by DialogType, the
+    ///          Message given, containing the Buttons specified and optionally an
+    ///          OptionDesc. In contrast to MessageDlg the dialog is centered on the owner.
+    ///          @param DialogType gives the icon to display
+    ///          @param Message is the message text to display
+    ///          @param Buttons is an array of buttons to show (Note: This is an array of
+    ///                         buttons, not a set, so the order is important!)
+    ///          @param Owner is the owner component to be used in the constructor, defaults
+    ///                       to nil
+    ///          @param OptionDesc gives the description for the Buttons, if not given,
+    ///                            defaults to an empty string
+    ///          @returns one of the mrXxxx values </summary>
     class function ShowMessage(_DialogType: TMsgDlgType; const _Message: string;
       const _Buttons: array of TDialogButtonEnum; _Owner: TWinControl = nil;
       const _OptionDesc: string = ''): integer; overload;
-    {: Complex function to display a message.
-       This will display a dialog with the icon indicated by DialogType, the
-       Message given, containing the Buttons specified and optionally an
-       OptionDesc. In contrast to MessageDlg the dialog is centered on the owner.
-       @param DialogType gives the icon to display
-       @param Message is the message text to display
-       @param Buttons is an array of buttons to show (Note: This is an array of
-                      buttons, not a set, so the order is important!)
-       @param CustomButtons is an array of strings for the custom button captions,
-                            the number of entries must correspond to the number
-                            of dbeCustom entries in the Buttons array
-       @param CustomResults is an array of integers with the modal results for
-                           the custom buttons, the number of entries must
-                           correspond to the number of dbeCustom entries in the
-                           Buttons array
-       @param Owner is the owner component to be used in the constructor, defaults
-                     to nil
-       @param OptionDesc gives the description for the Buttons, if not given,
-                         defaults to an empty string
-       @returns one of the mrXxxx values }
+    ///<summary> Complex function to display a message.
+    ///          This will display a dialog with the icon indicated by DialogType, the
+    ///          Message given, containing the Buttons specified and optionally an
+    ///          OptionDesc. In contrast to MessageDlg the dialog is centered on the owner.
+    ///          @param DialogType gives the icon to display
+    ///          @param Message is the message text to display
+    ///          @param Buttons is an array of buttons to show (Note: This is an array of
+    ///                         buttons, not a set, so the order is important!)
+    ///          @param CustomButtons is an array of strings for the custom button captions,
+    ///                               the number of entries must correspond to the number
+    ///                               of dbeCustom entries in the Buttons array
+    ///          @param CustomResults is an array of integers with the modal results for
+    ///                               the custom buttons, the number of entries must
+    ///                               correspond to the number of dbeCustom entries in the
+    ///                               Buttons array
+    ///          @param Owner is the owner component to be used in the constructor, defaults
+    ///                       to nil
+    ///          @param OptionDesc gives the description for the Buttons, if not given,
+    ///                            defaults to an empty string
+    ///          @returns one of the mrXxxx values </summary>
     class function ShowMessage(_DialogType: TMsgDlgType; const _Message: string;
       const _Buttons: array of TDialogButtonEnum; const _CustomButtons: array of string;
       const _CustomResults: array of integer;
       _Owner: TWinControl = nil;
       const _OptionDesc: string = ''): integer; overload;
-    {: Creates a Tf_dzDialog instance, shows it and returns it. The created
-       dialog instance must be freed by the caller. Nonmodal in this context
-       means that the call returns to the caller rather than waiting for the
-       dialog to be dismissed by the user, so processing can continue. But note
-       that the dialog is displayed on top of all application windows and
-       works just like a modal dialog by blocking input to all other windows.
-       You must free the dialog so is removed.
-       @param DialogType gives the icon to display
-       @param Message is the message text to display
-       @param Buttons is an array of buttons to show (Note: This is an array of
-                      buttons, not a set, so the order is important!)
-       @param CustomButton is an array of strings for the custom button captions,
-                           the number of entries must correspond to the number
-                           of debCustom entries in the Buttons array
-       @param CustomResults is an array of integers with the modal results for
-                           the custom buttons, the number of entries must
-                           correspond to the number of dbeCustom entries in the
-                           Buttons array
-       @param OnButtonClick is an event handler that will be called if one of the
-                            buttons is clicked
-       @param OptionDesc gives the description for the Buttons, if not given,
-                         defaults to an empty string
-       @param Parent is the parent component to be used in the constructor, defaults
-                     to nil
-       @returns the created Tf_dzDialog instance, the caller is responsible
-                for closing and freeing this instance. }
+    ///<summary> Creates a Tf_dzDialog instance, shows it and returns it. The created
+    ///          dialog instance must be freed by the caller. Nonmodal in this context
+    ///          means that the call returns to the caller rather than waiting for the
+    ///          dialog to be dismissed by the user, so processing can continue. But note
+    ///          that the dialog is displayed on top of all application windows and
+    ///          works just like a modal dialog by blocking input to all other windows.
+    ///          You must free the dialog so it is removed.
+    ///          @param DialogType gives the icon to display
+    ///          @param Message is the message text to display
+    ///          @param Buttons is an array of buttons to show (Note: This is an array of
+    ///                         buttons, not a set, so the order is important!)
+    ///          @param CustomButton is an array of strings for the custom button captions,
+    ///                              the number of entries must correspond to the number
+    ///                              of debCustom entries in the Buttons array
+    ///          @param CustomResults is an array of integers with the modal results for
+    ///                               the custom buttons, the number of entries must
+    ///                               correspond to the number of dbeCustom entries in the
+    ///                               Buttons array
+    ///          @param OnButtonClick is an event handler that will be called if one of the
+    ///                               buttons is clicked
+    ///          @param OptionDesc gives the description for the Buttons, if not given,
+    ///                            defaults to an empty string
+    ///          @param Parent is the parent component to be used in the constructor, defaults
+    ///                        to nil
+    ///          @returns the created Tf_dzDialog instance, the caller is responsible
+    ///                   for closing and freeing this instance. }
     class function ShowNonModalMessage(_DialogType: TMsgDlgType; const _Message: string;
       const _Buttons: array of TDialogButtonEnum; const _CustomButtons: array of string;
       const _CustomResults: array of integer; _OnButtonClick: TOnButtonClick;
@@ -304,15 +300,14 @@
   Consts,
   Math,
   ShellApi,
-  u_dzVclUtils,
-  u_dzTranslator;
+  u_dzVclUtils;
 
 const
   CHECKBOX_WIDTH = 24;
 
 function _(const _s: string): string; inline;
 begin
-  Result := DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;  
 
 function ModalResultToButton(_Result: integer): TDialogButtonEnum;
@@ -412,8 +407,7 @@
       frm.ExceptionClass := _e.ClassName;
       // frm.ExcptionAddress := ExceptAddr;
       frm.ExceptionMessage := _e.Message;
-      frm.ExceptionExtendedMessage := _e.Message;
-      frm.ExceptionProcedure := format('[%p]', [ExceptAddr]);
+      frm.ExceptionProcedure := Format('[%p]', [ExceptAddr]);
       frm.ExceptionProcedure := GetLocationInfoStr(ExceptAddr);
       sl := TStringList.Create;
       try

Modified: utilities/dzLib/trunk/src/u_dzClassUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzClassUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzClassUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -10,7 +10,8 @@
 uses
   SysUtils,
   Classes,
-  IniFiles;
+  IniFiles,
+  u_dzTranslator;
 
 // NOTE: The naming convention is <extended-class>_<Methodname>
 
@@ -144,12 +145,11 @@
 
 uses
   StrUtils,
-  u_dzTranslator,
   u_dzStringUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 procedure TList_FreeWithItems(var _List: TList);

Modified: utilities/dzLib/trunk/src/u_dzConvertUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzConvertUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzConvertUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -11,7 +11,8 @@
 interface
 
 uses
-  SysUtils;
+  SysUtils,
+  u_dzTranslator;
 
 var
   /// <summary>
@@ -327,12 +328,11 @@
   Windows,
   DateUtils,
   StrUtils,
-  u_dzTranslator,
   u_dzStringUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 function isDigit(_a: char; _Base: TBaseN): boolean;

Modified: utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzDatasetHelpers.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -9,7 +9,8 @@
   SysUtils,
   AdoDb,
   DB,
-  DBTables;
+  DBTables,
+  u_dzTranslator;
 
 type
   ///<summary> Interface definition for the Dataset-Helper, the idea is to have simplified
@@ -161,12 +162,11 @@
 uses
   Variants,
   u_dzTranslator,
-  u_dzVariantUtils,
   u_dzMiscUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 { TDatasetHelper }

Modified: utilities/dzLib/trunk/src/u_dzDateUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzDateUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzDateUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -8,6 +8,9 @@
 
 interface
 
+uses
+  u_dzTranslator;
+
 type
   ///<summary> Similar to the DayMonday etc. constants in DateUtils, but starting
   ///           with Monday rather than Sunday and also as a typesafe enum </summary>
@@ -70,12 +73,11 @@
 uses
   SysUtils,
   DateUtils,
-  u_dzTranslator,
   u_dzStringUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 function GetDayOfTheWeek(_Date: TDateTime): TDayOfWeekEnum;

Modified: utilities/dzLib/trunk/src/u_dzDllLoader.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzDllLoader.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzDllLoader.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -7,6 +7,7 @@
 uses
   Windows,
   SysUtils,
+  u_dzTranslator,
   u_dzVersionInfo;
 
 type
@@ -106,12 +107,11 @@
 
 uses
   u_dzMiscUtils,
-  u_dzOsUtils,
-  u_dzTranslator;
+  u_dzOsUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 { TdzDllLoader }

Modified: utilities/dzLib/trunk/src/u_dzFileStreams.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzFileStreams.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzFileStreams.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -12,7 +12,8 @@
 uses
   Classes,
   SysUtils,
-  Windows;
+  Windows,
+  u_dzTranslator;
 
 type
   ///<summary> Parent of all exceptions raised in u_dzFiles </summary>
@@ -191,13 +192,12 @@
 implementation
 
 uses
-  u_dzTranslator,
   u_dzFileUtils,
   u_dzMiscUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 const

Modified: utilities/dzLib/trunk/src/u_dzFileUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzFileUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzFileUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -11,7 +11,8 @@
 uses
   Windows,
   SysUtils,
-  Classes;
+  Classes,
+  u_dzTranslator;
 
 type
   EFileUtils = class(Exception);
@@ -688,14 +689,13 @@
 implementation
 
 uses
-  u_dzTranslator,
   u_dzMiscUtils,
   u_dzStringUtils,
   u_dzDateUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 function itpd(const _Dirname: string): string; inline;

Modified: utilities/dzLib/trunk/src/u_dzMiscUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzMiscUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzMiscUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -26,7 +26,8 @@
 uses
   SysUtils,
   Windows,
-  Registry;
+  Registry,
+  u_dzTranslator;
 
 type
   ///<summary> raised by Max([array of const]) and Min([array of const]) if the passed
@@ -199,13 +200,12 @@
 {$ENDIF}
   FileCtrl,
   StrUtils,
-  u_dzTranslator,
   u_dzStringUtils,
   u_dzConvertUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 {$IFDEF debug}

Modified: utilities/dzLib/trunk/src/u_dzOsUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzOsUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzOsUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -6,7 +6,8 @@
 uses
   Windows,
   SysUtils,
-  Classes;
+  Classes,
+  u_dzTranslator;
 
 type
   EOsFunc = class(Exception);
@@ -96,12 +97,11 @@
 uses
   Registry,
   ShellApi,
-  u_dzMiscUtils,
-  u_dzTranslator;
+  u_dzMiscUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 function GetComputerName: string;

Modified: utilities/dzLib/trunk/src/u_dzRingBuffer.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzRingBuffer.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzRingBuffer.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -6,7 +6,8 @@
 
 uses
   Windows,
-  SysUtils;
+  SysUtils,
+  u_dzTranslator;
 
 type
   EdzRingBuffer = class(Exception);
@@ -159,12 +160,9 @@
 
 implementation
 
-uses
-  u_dzTranslator;
-
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 { TdzCustomRingBuffer }

Modified: utilities/dzLib/trunk/src/u_dzStringUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzStringUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzStringUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -12,7 +12,8 @@
   Windows,
   Classes,
   StrUtils,
-  SysUtils;
+  SysUtils,
+  u_dzTranslator;
 
 type
 ///<summary> Ancestor of all exceptions raised in u_dzStringUtils </summary>
@@ -363,12 +364,11 @@
 implementation
 
 uses
-  u_dzConvertUtils,
-  u_dzTranslator;
+  u_dzConvertUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 function ForceExtension(const _Name, _Ext: string): string;

Modified: utilities/dzLib/trunk/src/u_dzTextFile.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzTextFile.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzTextFile.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -3,7 +3,8 @@
 interface
 
 uses
-  SysUtils;
+  SysUtils,
+  u_dzTranslator;
 
 type
   ///<summary> defined the file access for TTextFile</summary>
@@ -30,14 +31,11 @@
 
 implementation
 
-uses
-  u_dzTranslator;
-
 { TTextFile }
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 constructor TTextFile.Create(const _Filename: string; _Access: TTextFileAccess);

Modified: utilities/dzLib/trunk/src/u_dzVariantUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzVariantUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzVariantUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -5,7 +5,8 @@
 
 uses
   SysUtils,
-  Variants;
+  Variants,
+  u_dzTranslator;
 
 type
   ///<summary> raised if there is a conversion error in one of the Var2XxxEx functions </summary>
@@ -185,12 +186,11 @@
 implementation
 
 uses
-  u_dzTranslator,
   u_dzConvertUtils;
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 function toString(_v: OleVariant): string;

Modified: utilities/dzLib/trunk/src/u_dzVclUtils.pas
===================================================================
--- utilities/dzLib/trunk/src/u_dzVclUtils.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/src/u_dzVclUtils.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -17,7 +17,8 @@
   StdCtrls,
   ExtCtrls,
   Grids,
-  DbGrids;
+  DbGrids,
+  u_dzTranslator;
 
 type
   ///<summary> Ancestor to all exceptions raised in this unit. </summary>
@@ -458,7 +459,6 @@
   RxGConst,
   rxGif,
 {$ENDIF GIFByRx}
-  u_dzTranslator,
   u_dzConvertUtils,
   u_dzStringUtils;
 
@@ -469,7 +469,7 @@
 
 function _(const _s: string): string; inline;
 begin
-  Result := u_dzTranslator.DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 function TGrid_GetText(_Grid: TCustomGrid; _IncludeFixed: boolean = false): string;


Property changes on: utilities/dzLib/trunk/tests/dzdialog
___________________________________________________________________
Name: svn:ignore
   + dzDialogTest.exe



Property changes on: utilities/dzLib/trunk/tests/dzdialog/src
___________________________________________________________________
Name: svn:ignore
   + dzDialogTest.res


Added: utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dpr
===================================================================
--- utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dpr	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dpr	2008-09-05 15:13:33 UTC (rev 319)
@@ -0,0 +1,19 @@
+program dzDialogTest;
+
+uses
+  Forms,
+  w_dzDialogText in 'w_dzDialogText.pas' {f_dzDialogTest},
+  w_dzDialog in '..\..\..\forms\w_dzDialog.pas' {f_dzDialog},
+  u_dzTranslator in '..\..\..\src\u_dzTranslator.pas',
+  u_dzVclUtils in '..\..\..\src\u_dzVclUtils.pas',
+  u_dzConvertUtils in '..\..\..\src\u_dzConvertUtils.pas',
+  u_dzStringUtils in '..\..\..\src\u_dzStringUtils.pas';
+
+{$R *.res}
+
+begin
+  Application.Initialize;
+  Application.MainFormOnTaskbar := True;
+  Application.CreateForm(Tf_dzDialogTest, f_dzDialogTest);
+  Application.Run;
+end.

Added: utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dproj
===================================================================
--- utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dproj	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/tests/dzdialog/src/dzDialogTest.dproj	2008-09-05 15:13:33 UTC (rev 319)
@@ -0,0 +1,148 @@
+?<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
+  <PropertyGroup>
+    <ProjectGuid>{d30bdf96-5ce7-4135-818e-43829202d327}</ProjectGuid>
+    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
+    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
+    <DCC_DCCCompiler>DCC32</DCC_DCCCompiler>
+    <DCC_DependencyCheckOutputName>..\dzDialogTest.exe</DCC_DependencyCheckOutputName>
+    <MainSource>dzDialogTest.dpr</MainSource>
+  </PropertyGroup>
+  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
+    <Version>7.0</Version>
+    <DCC_DebugInformation>False</DCC_DebugInformation>
+    <DCC_LocalDebugSymbols>False</DCC_LocalDebugSymbols>
+    <DCC_SymbolReferenceInfo>0</DCC_SymbolReferenceInfo>
+    <DCC_Define>RELEASE</DCC_Define>
+  </PropertyGroup>
+  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
+    <Version>7.0</Version>
+    <DCC_Define>no_translation</DCC_Define>
+    <DCC_ExeOutput>..</DCC_ExeOutput>
+    <DCC_DcuOutput>..\dcu</DCC_DcuOutput>
+    <DCC_ObjOutput>..\dcu</DCC_ObjOutput>
+    <DCC_HppOutput>..\dcu</DCC_HppOutput>
+    <DCC_UnitSearchPath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl;..\..\..\..\jcl\source\windows</DCC_UnitSearchPath>
+    <DCC_ResourcePath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl;..\..\..\..\jcl\source\windows</DCC_ResourcePath>
+    <DCC_ObjPath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl;..\..\..\..\jcl\source\windows</DCC_ObjPath>
+    <DCC_IncludePath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl;..\..\..\..\jcl\source\windows</DCC_IncludePath>
+    <DCC_SYMBOL_PLATFORM>False</DCC_SYMBOL_PLATFORM>
+    <DCC_UNIT_PLATFORM>False</DCC_UNIT_PLATFORM>
+  </PropertyGroup>
+  <ProjectExtensions>
+    <Borland.Personality>Delphi.Personality</Borland.Personality>
+    <Borland.ProjectType />
+    <BorlandProject>
+<BorlandProject xmlns=""> <Delphi.Personality>   <Parameters>
+      <Parameters Name="UseLauncher">False</Parameters>
+      <Parameters Name="LoadAllSymbols">True</Parameters>
+      <Parameters Name="LoadUnspecifiedSymbols">False</Parameters>
+    </Parameters>
+    <VersionInfo>
+      <VersionInfo Name="IncludeVerInfo">False</VersionInfo>
+      <VersionInfo Name="AutoIncBuild">False</VersionInfo>
+      <VersionInfo Name="MajorVer">1</VersionInfo>
+      <VersionInfo Name="MinorVer">0</VersionInfo>
+      <VersionInfo Name="Release">0</VersionInfo>
+      <VersionInfo Name="Build">0</VersionInfo>
+      <VersionInfo Name="Debug">False</VersionInfo>
+      <VersionInfo Name="PreRelease">False</VersionInfo>
+      <VersionInfo Name="Special">False</VersionInfo>
+      <VersionInfo Name="Private">False</VersionInfo>
+      <VersionInfo Name="DLL">False</VersionInfo>
+      <VersionInfo Name="Locale">2057</VersionInfo>
+      <VersionInfo Name="CodePage">1252</VersionInfo>
+    </VersionInfo>
+    <VersionInfoKeys>
+      <VersionInfoKeys Name="CompanyName"></VersionInfoKeys>
+      <VersionInfoKeys Name="FileDescription"></VersionInfoKeys>
+      <VersionInfoKeys Name="FileVersion">1.0.0.0</VersionInfoKeys>
+      <VersionInfoKeys Name="InternalName"></VersionInfoKeys>
+      <VersionInfoKeys Name="LegalCopyright"></VersionInfoKeys>
+      <VersionInfoKeys Name="LegalTrademarks"></VersionInfoKeys>
+      <VersionInfoKeys Name="OriginalFilename"></VersionInfoKeys>
+      <VersionInfoKeys Name="ProductName"></VersionInfoKeys>
+      <VersionInfoKeys Name="ProductVersion">1.0.0.0</VersionInfoKeys>
+      <VersionInfoKeys Name="Comments"></VersionInfoKeys>
+    </VersionInfoKeys>
+    <Excluded_Packages>
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      <Excluded_Packages Name="$(BDS)\bin\dclofficexp100.bpl">Microsoft Office XP Sample Automation Server Wrapper Components</Excluded_Packages>
+      <Excluded_Packages Name="$(BDS)\bin\dcloffice2k100.bpl">Microsoft Office 2000 Sample Automation Server Wrapper Components</Excluded_Packages>
+    </Excluded_Packages>
+    <Source>
+      <Source Name="MainSource">dzDialogTest.dpr</Source>
+    </Source>
+  </Delphi.Personality> </BorlandProject></BorlandProject>
+  </ProjectExtensions>
+  <Import Project="$(MSBuildBinPath)\Borland.Delphi.Targets" />
+  <ItemGroup>
+    <DelphiCompile Include="dzDialogTest.dpr">
+      <MainSource>MainSource</MainSource>
+    </DelphiCompile>
+    <DCCReference Include="..\..\..\forms\w_dzDialog.pas">
+      <Form>f_dzDialog</Form>
+    </DCCReference>
+    <DCCReference Include="..\..\..\src\u_dzConvertUtils.pas" />
+    <DCCReference Include="..\..\..\src\u_dzStringUtils.pas" />
+    <DCCReference Include="..\..\..\src\u_dzTranslator.pas" />
+    <DCCReference Include="..\..\..\src\u_dzVclUtils.pas" />
+    <DCCReference Include="w_dzDialogText.pas">
+      <Form>f_dzDialogTest</Form>
+    </DCCReference>
+  </ItemGroup>
+</Project>
\ No newline at end of file

Added: utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.dfm
===================================================================
--- utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.dfm	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.dfm	2008-09-05 15:13:33 UTC (rev 319)
@@ -0,0 +1,61 @@
+object f_dzDialogTest: Tf_dzDialogTest
+  Left = 0
+  Top = 0
+  Caption = 'dzDialog Test'
+  ClientHeight = 138
+  ClientWidth = 320
+  Color = clBtnFace
+  Font.Charset = DEFAULT_CHARSET
+  Font.Color = clWindowText
+  Font.Height = -11
+  Font.Name = 'Tahoma'
+  Font.Style = []
+  OldCreateOrder = False
+  PixelsPerInch = 96
+  TextHeight = 13
+  object b_ShowException1: TButton
+    Left = 8
+    Top = 8
+    Width = 145
+    Height = 25
+    Caption = 'ShowException 1'
+    TabOrder = 0
+    OnClick = b_ShowException1Click
+  end
+  object b_ShowException2: TButton
+    Left = 8
+    Top = 40
+    Width = 145
+    Height = 25
+    Caption = 'ShowException 2'
+    TabOrder = 1
+    OnClick = b_ShowException2Click
+  end
+  object b_ShowException3: TButton
+    Left = 8
+    Top = 72
+    Width = 145
+    Height = 25
+    Caption = 'ShowException 3'
+    TabOrder = 2
+    OnClick = b_ShowException3Click
+  end
+  object b_ShowMessage1: TButton
+    Left = 168
+    Top = 8
+    Width = 129
+    Height = 25
+    Caption = 'ShowMessage 1'
+    TabOrder = 3
+    OnClick = b_ShowMessage1Click
+  end
+  object b_ShowMessage2: TButton
+    Left = 168
+    Top = 40
+    Width = 129
+    Height = 25
+    Caption = 'ShowMessage 2'
+    TabOrder = 4
+    OnClick = b_ShowMessage2Click
+  end
+end

Added: utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.pas
===================================================================
--- utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.pas	2008-09-05 13:19:23 UTC (rev 318)
+++ utilities/dzLib/trunk/tests/dzdialog/src/w_dzDialogText.pas	2008-09-05 15:13:33 UTC (rev 319)
@@ -0,0 +1,97 @@
+unit w_dzDialogText;
+
+interface
+
+uses
+  Windows,
+  Messages,
+  SysUtils,
+  Variants,
+  Classes,
+  Graphics,
+  Controls,
+  Forms,
+  Dialogs,
+  StdCtrls;
+
+type
+  Tf_dzDialogTest = class(TForm)
+    b_ShowException1: TButton;
+    b_ShowException2: TButton;
+    b_ShowException3: TButton;
+    b_ShowMessage1: TButton;
+    b_ShowMessage2: TButton;
+    procedure b_ShowException1Click(Sender: TObject);
+    procedure b_ShowException2Click(Sender: TObject);
+    procedure b_ShowException3Click(Sender: TObject);
+    procedure b_ShowMessage1Click(Sender: TObject);
+    procedure b_ShowMessage2Click(Sender: TObject);
+  private
+  public
+  end;
+
+var
+  f_dzDialogTest: Tf_dzDialogTest;
+
+implementation
+
+{$R *.dfm}
+
+uses
+  w_dzDialog;
+
+type
+  ETestException = class(Exception)
+
+  end;
+
+procedure Tf_dzDialogTest.b_ShowException1Click(Sender: TObject);
+begin
+  try
+    raise ETestException.Create('This is a test.');
+  except
+    on e: Exception do begin
+      Tf_dzDialog.ShowException(e, Sender as TButton);
+    end;
+  end;
+end;
+
+procedure Tf_dzDialogTest.b_ShowException2Click(Sender: TObject);
+begin
+  try
+    raise ETestException.Create('This is a test.');
+  except
+    on e: Exception do begin
+      Tf_dzDialog.ShowException(e, [dbeOK], '', Sender as TButton);
+    end;
+  end;
+end;
+
+procedure Tf_dzDialogTest.b_ShowException3Click(Sender: TObject);
+begin
+  try
+    raise ETestException.Create('This is a test.');
+  except
+    on e: Exception do begin
+      case Tf_dzDialog.ShowException(e, 'a test exception occurred', [dbeAbort, dbeRetry, dbeIgnore], '', Sender as TButton) of
+        mrAbort: Tf_dzDialog.ShowMessage(mtInformation, 'User clicked Abort', [dbeOK], Sender as TButton);
+        mrRetry: Tf_dzDialog.ShowMessage(mtInformation, 'User clicked Retry', [dbeOK], Sender as TButton);
+        mrIgnore: Tf_dzDialog.ShowMessage(mtInformation, 'User clicked Ignore', [dbeOK], Sender as TButton);
+      end;
+    end;
+  end;
+end;
+
+procedure Tf_dzDialogTest.b_ShowMessage1Click(Sender: TObject);
+begin
+  Tf_dzDialog.ShowMessage(mtInformation, 'Show Message 1', [dbeOK], Sender as TButton);
+end;
+
+procedure Tf_dzDialogTest.b_ShowMessage2Click(Sender: TObject);
+begin
+  Tf_dzDialog.ShowMessage(mtInformation, 'Show Message 1', [dbeOK, dbeCancel, dbeCustom, dbeCustom],
+    ['Custom1', 'Custom2'], [-1, -2], Sender as TButton, 'Custom1: bla'#13#10'Custom2: blub');
+end;
+
+end.
+



From twm at mail.berlios.de  Fri Sep  5 17:41:09 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 17:41:09 +0200
Subject: [Dzchart-svncheckins] r320 - in utilities/dzLib/trunk: forms tests
	tests/dzprogress tests/dzprogress/src
Message-ID: <200809051541.m85Ff9e2023282@sheep.berlios.de>

Author: twm
Date: 2008-09-05 17:40:59 +0200 (Fri, 05 Sep 2008)
New Revision: 320

Added:
   utilities/dzLib/trunk/tests/dzprogress/
   utilities/dzLib/trunk/tests/dzprogress/dcu/
   utilities/dzLib/trunk/tests/dzprogress/dzProgressTest.exe
   utilities/dzLib/trunk/tests/dzprogress/src/
   utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dpr
   utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dproj
   utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.res
   utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.dfm
   utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.pas
Modified:
   utilities/dzLib/trunk/forms/w_dzProgress.dfm
   utilities/dzLib/trunk/forms/w_dzProgress.pas
Log:
* replaced resource strings with calls to DGetText(..., 'dzlib')
* local _() functions now call dzDGetText rather than DGetText to avoid warning in dxgettext tool
* moved u_dzTranslator to uses in interface to allow inlining the local _() call
* test/demo for using tf_dzProgress

Modified: utilities/dzLib/trunk/forms/w_dzProgress.dfm
===================================================================
--- utilities/dzLib/trunk/forms/w_dzProgress.dfm	2008-09-05 15:13:33 UTC (rev 319)
+++ utilities/dzLib/trunk/forms/w_dzProgress.dfm	2008-09-05 15:40:59 UTC (rev 320)
@@ -21,6 +21,7 @@
     Top = 0
     Width = 30
     Height = 13
+    Margins.Bottom = 0
     Caption = 'Action'
     Layout = tlCenter
   end

Modified: utilities/dzLib/trunk/forms/w_dzProgress.pas
===================================================================
--- utilities/dzLib/trunk/forms/w_dzProgress.pas	2008-09-05 15:13:33 UTC (rev 319)
+++ utilities/dzLib/trunk/forms/w_dzProgress.pas	2008-09-05 15:40:59 UTC (rev 320)
@@ -1,15 +1,14 @@
 {.GXFormatter.config=twm}
-{: generic progress form
-   This unit implements a generic progress form.
-   Create it, set FormCaption, optionally set Max, show the form.
-   Every now and then call Progress.
-   Free after you are done.
-   Note: You can use up to two %d and %% in FormCaption, examples:
-     FormCaption := 'progress %d of %d';
-     FormCaption := '%d%% done'; // display percentage
-     FormCaption := 'Progress - Line %d';
-   @author twm
-}
+///<summary> generic progress form
+///          This unit implements a generic progress form.
+///          Create it, set FormCaption, optionally set ProgressMax, show the form.
+///          Every now and then call Progress.
+///          Free after you are done.
+///          Note: You can use up to two %d and %% in FormCaption, examples:
+///            FormCaption := 'progress %d of %d';
+///            FormCaption := '%d%% done'; // display percentage
+///            FormCaption := 'Progress - Line %d';
+///          @author twm </summary>
 unit w_dzProgress;
 
 interface
@@ -24,7 +23,8 @@
   Forms,
   Dialogs,
   StdCtrls,
-  ComCtrls;
+  ComCtrls,
+  u_dzTranslator;
 
 type
   EdzProgress = class(Exception);
@@ -36,36 +36,35 @@
     b_Cancel: TButton;
     procedure b_CancelClick(Sender: TObject);
   private
-    fCancelVisible: boolean;
-    fCancelPressed: boolean;
-    fProgressPos: integer;
-    fMax: integer;
-    fAction: string;
-    fActionVisible: boolean;
-    fPercent: integer;
-    fFormCaption: string;
-    fFormCaptionParams: integer;
-    fFormCaptionPercent: boolean;
+    FIsCancelVisible: boolean;
+    FCancelPressed: boolean;
+    FProgressPos: integer;
+    FMax: integer;
+    FAction: string;
+    FIsActionVisible: boolean;
+    FPercent: integer;
+    FFormCaption: string;
+    FFormCaptionParams: integer;
+    FFormCaptionPercent: boolean;
     procedure SetFormCaption(const _FormCaption: string);
     procedure InternalSetCaption;
     procedure SetProgressPos(_ProgressPos: integer);
     procedure SetMax(_Max: integer);
     procedure SetAction(const _Action: string);
-    procedure SetCancelVisible(_Visible: boolean);
-    procedure SetActionVisible(_Visible: boolean);
+    procedure SetIsCancelVisible(_Visible: boolean);
+    procedure SetIsActionVisible(_Visible: boolean);
     function AnalyseCaption(const _Caption: string;
       var _ParamCount: integer; var _Percent: boolean;
       var _Error: string): boolean;
   public
     constructor Create(_Owner: TComponent); overload; override;
-    property FormCaption: string read fFormCaption write SetFormCaption;
-    property ProgressPos: integer read fProgressPos write SetProgressPos;
-    property Max: integer read fMax write SetMax;
-    property Action: string read fAction write SetAction;
-    property CancelVisible: boolean read fCancelVisible write SetCancelVisible;
-    property ActionVisible: boolean read fActionVisible write SetActionVisible;
-    procedure Progress(_Position: integer; const _Action: string;
-      var _Abort: boolean); overload;
+    property FormCaption: string read FFormCaption write SetFormCaption;
+    property ProgressPos: integer read FProgressPos write SetProgressPos;
+    property ProgressMax: integer read FMax write SetMax;
+    property Action: string read FAction write SetAction;
+    property IsCancelVisible: boolean read FIsCancelVisible write SetIsCancelVisible;
+    property IsActionVisible: boolean read FIsActionVisible write SetIsActionVisible;
+    procedure Progress(_Position: integer; const _Action: string; var _Abort: boolean); overload;
     procedure Progress(_Position: integer; var _Abort: boolean); overload;
   end;
 
@@ -75,30 +74,20 @@
 
 uses
   StrUtils,
-  u_dzTranslator,
   w_dzDialog;
 
-resourcestring
-  // Wirklich abbrechen?
-  QuestionAbort = 'Do you really want to abort?';
-  // Fortschritt (%d%%)
-  FormCaptionD = 'Progress (%d%%)';
-  // Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-  InvalidFormCaptionS = 'Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s';
-  // darf kein "%" am Ende haben
-  PercentAtEnd = 'must not contain a % at the end';
-  // auf "%" mu? "d" oder "%" folgen
-  InvalidFormatChar = '"%" must be followed by "d" or "%".';
-  // zuviele Parameter
-  TooManyParameters = 'too many parameters';
+function _(const _s: string): string; inline;
+begin
+  Result := dzDGetText(_s, 'dzlib');
+end;
 
 constructor Tf_dzProgress.Create(_Owner: tComponent);
 begin
   inherited;
   pb_Progress.Position := 0;
-  fMax := 100;
+  FMax := 100;
   l_Action.Caption := '';
-  FormCaption := FormCaptionD;
+  FormCaption := _('Progress (%d%%)');
 
   PopupMode := pmExplicit;
   if _Owner is TCustomForm then
@@ -109,43 +98,43 @@
 
 procedure Tf_dzProgress.b_CancelClick(Sender: TObject);
 begin
-  fCancelPressed := (mrYes = Tf_dzDialog.ShowMessage(mtConfirmation, QuestionAbort, [dbeYes, dbeNo], Self));
+  FCancelPressed := (mrYes = Tf_dzDialog.ShowMessage(mtConfirmation, _('Do you really want to abort?'), [dbeYes, dbeNo], Self));
 end;
 
 procedure Tf_dzProgress.InternalSetCaption;
 var
   OldPercent: integer;
 begin
-  if fFormCaptionPercent then begin
-    OldPercent := fPercent;
-    fPercent := (fProgressPos * 100) div fMax;
-    if OldPercent = fPercent then
+  if FFormCaptionPercent then begin
+    OldPercent := FPercent;
+    FPercent := (FProgressPos * 100) div FMax;
+    if OldPercent = FPercent then
       exit;
   end;
-  case fFormCaptionParams of
-    0: Caption := fFormCaption;
+  case FFormCaptionParams of
+    0: Caption := FFormCaption;
     1:
-      if fFormCaptionPercent then
-        Caption := Format(fFormCaption, [fPercent])
+      if FFormCaptionPercent then
+        Caption := Format(FFormCaption, [FPercent])
       else
-        Caption := Format(fFormCaption, [fProgressPos]);
-    2: Caption := Format(fFormCaption, [fProgressPos, fMax]);
+        Caption := Format(FFormCaption, [FProgressPos]);
+    2: Caption := Format(FFormCaption, [FProgressPos, FMax]);
   end;
 end;
 
 procedure Tf_dzProgress.Progress(_Position: integer; var _Abort: boolean);
 begin
-  fProgressPos := _Position;
+  FProgressPos := _Position;
   pb_Progress.Position := _Position;
   InternalSetCaption;
   Application.ProcessMessages;
-  _Abort := fCancelPressed;
+  _Abort := FCancelPressed;
 end;
 
 procedure Tf_dzProgress.Progress(_Position: integer; const _Action: string;
   var _Abort: boolean);
 begin
-  fAction := _Action;
+  FAction := _Action;
   l_Action.Caption := _Action;
   Progress(_Position, _Abort);
 end;
@@ -161,7 +150,7 @@
   p := PosEx('%', _Caption, 1);
   while p <> 0 do begin
     if (p >= Length(_Caption)) then begin
-      _Error := PercentAtEnd;
+      _Error := _('must not contain a % at the end');
       exit;
     end;
     if _Caption[p + 1] = 'd' then
@@ -170,13 +159,13 @@
       _Percent := true;
       Inc(p)
     end else begin
-      _Error := InvalidFormatChar;
+      _Error := _('"%" must be followed by "d" or "%".');
       exit;
     end;
     p := PosEx('%', _Caption, p + 1);
   end;
   if _ParamCount > 2 then
-    _Error := TooManyParameters
+    _Error := _('too many parameters')
   else
     Result := true;
 end;
@@ -188,49 +177,49 @@
   Params: integer;
 begin
   if not AnalyseCaption(_FormCaption, Params, Percent, Error) then
-    raise EdzProgress.CreateFmt(InvalidFormCaptionS, [Error]);
-  fFormCaption := _FormCaption;
-  fFormCaptionParams := Params;
-  fFormCaptionPercent := Percent;
+    raise EdzProgress.CreateFmt(_('Invalid FormCaption, %s'), [Error]);
+  FFormCaption := _FormCaption;
+  FFormCaptionParams := Params;
+  FFormCaptionPercent := Percent;
   InternalSetCaption;
 end;
 
 procedure Tf_dzProgress.SetProgressPos(_ProgressPos: integer);
 begin
-  fProgressPos := _ProgressPos;
+  FProgressPos := _ProgressPos;
   pb_Progress.Position := _ProgressPos;
   InternalSetCaption;
 end;
 
 procedure Tf_dzProgress.SetMax(_Max: integer);
 begin
-  fMax := _Max;
+  FMax := _Max;
   pb_Progress.Max := _Max;
   InternalSetCaption;
 end;
 
 procedure Tf_dzProgress.SetAction(const _Action: string);
 begin
-  fAction := _Action;
+  FAction := _Action;
   l_Action.Caption := _Action;
   l_Action.Layout := tlCenter;
 end;
 
-procedure Tf_dzProgress.SetCancelVisible(_Visible: boolean);
+procedure Tf_dzProgress.SetIsCancelVisible(_Visible: boolean);
 begin
-  fCancelVisible := _Visible;
-  b_Cancel.Visible := fCancelVisible;
-  if not fCancelVisible then
+  FIsCancelVisible := _Visible;
+  b_Cancel.Visible := FIsCancelVisible;
+  if not FIsCancelVisible then
     pb_Progress.Width := ClientWidth - 2 * pb_Progress.Left
   else
     pb_Progress.Width := b_Cancel.Left - 2 * pb_Progress.Left;
 end;
 
-procedure Tf_dzProgress.SetActionVisible(_Visible: boolean);
+procedure Tf_dzProgress.SetIsActionVisible(_Visible: boolean);
 begin
-  fActionVisible := _Visible;
-  l_Action.Visible := fActionVisible;
-  if not fActionVisible then begin
+  FIsActionVisible := _Visible;
+  l_Action.Visible := FIsActionVisible;
+  if not FIsActionVisible then begin
     ClientHeight := 2 * 5 + b_Cancel.Height;
     b_Cancel.Top := (ClientHeight - b_Cancel.Height) div 2;
     pb_Progress.Top := (ClientHeight - pb_Progress.Height) div 2;

Added: utilities/dzLib/trunk/tests/dzprogress/dzProgressTest.exe
===================================================================
(Binary files differ)


Property changes on: utilities/dzLib/trunk/tests/dzprogress/dzProgressTest.exe
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dpr
===================================================================
--- utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dpr	2008-09-05 15:13:33 UTC (rev 319)
+++ utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dpr	2008-09-05 15:40:59 UTC (rev 320)
@@ -0,0 +1,16 @@
+program dzProgressTest;
+
+uses
+  Forms,
+  w_dzProgressTest in 'w_dzProgressTest.pas' {f_dzProgressTest},
+  w_dzProgress in '..\..\..\forms\w_dzProgress.pas' {f_dzProgress},
+  w_dzDialog in '..\..\..\forms\w_dzDialog.pas' {f_dzDialog};
+
+{$R *.res}
+
+begin
+  Application.Initialize;
+  Application.MainFormOnTaskbar := True;
+  Application.CreateForm(Tf_dzProgressTest, f_dzProgressTest);
+  Application.Run;
+end.

Added: utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dproj
===================================================================
--- utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dproj	2008-09-05 15:13:33 UTC (rev 319)
+++ utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.dproj	2008-09-05 15:40:59 UTC (rev 320)
@@ -0,0 +1,124 @@
+???<?xml version="1.0" encoding="utf-8"?>
+<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
+  <PropertyGroup>
+    <ProjectGuid>{01276069-df0a-4a8f-a229-7bfa5d78b0ed}</ProjectGuid>
+    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
+    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
+    <DCC_DCCCompiler>DCC32</DCC_DCCCompiler>
+    <DCC_DependencyCheckOutputName>..\dzProgressTest.exe</DCC_DependencyCheckOutputName>
+    <MainSource>dzProgressTest.dpr</MainSource>
+  </PropertyGroup>
+  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
+    <Version>7.0</Version>
+    <DCC_DebugInformation>False</DCC_DebugInformation>
+    <DCC_LocalDebugSymbols>False</DCC_LocalDebugSymbols>
+    <DCC_SymbolReferenceInfo>0</DCC_SymbolReferenceInfo>
+    <DCC_Define>RELEASE</DCC_Define>
+  </PropertyGroup>
+  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
+    <Version>7.0</Version>
+    <DCC_Define>DEBUG;no_translation</DCC_Define>
+    <DCC_ExeOutput>..</DCC_ExeOutput>
+    <DCC_DcuOutput>..\dcu</DCC_DcuOutput>
+    <DCC_ObjOutput>..\dcu</DCC_ObjOutput>
+    <DCC_HppOutput>..\dcu</DCC_HppOutput>
+    <DCC_UnitSearchPath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl</DCC_UnitSearchPath>
+    <DCC_ResourcePath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl</DCC_ResourcePath>
+    <DCC_ObjPath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl</DCC_ObjPath>
+    <DCC_IncludePath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\vcl</DCC_IncludePath>
+    <DCC_SYMBOL_PLATFORM>False</DCC_SYMBOL_PLATFORM>
+    <DCC_UNIT_PLATFORM>False</DCC_UNIT_PLATFORM>
+  </PropertyGroup>
+  <ProjectExtensions>
+    <Borland.Personality>Delphi.Personality</Borland.Personality>
+    <Borland.ProjectType />
+    <BorlandProject>
+<BorlandProject> <Delphi.Personality>   <Parameters>
+      <Parameters Name="UseLauncher">False</Parameters>
+      <Parameters Name="LoadAllSymbols">True</Parameters>
+      <Parameters Name="LoadUnspecifiedSymbols">False</Parameters>
+    </Parameters>
+    <VersionInfo>
+      <VersionInfo Name="IncludeVerInfo">False</VersionInfo>
+      <VersionInfo Name="AutoIncBuild">False</VersionInfo>
+      <VersionInfo Name="MajorVer">1</VersionInfo>
+      <VersionInfo Name="MinorVer">0</VersionInfo>
+      <VersionInfo Name="Release">0</VersionInfo>
+      <VersionInfo Name="Build">0</VersionInfo>
+      <VersionInfo Name="Debug">False</VersionInfo>
+      <VersionInfo Name="PreRelease">False</VersionInfo>
+      <VersionInfo Name="Special">False</VersionInfo>
+      <VersionInfo Name="Private">False</VersionInfo>
+      <VersionInfo Name="DLL">False</VersionInfo>
+      <VersionInfo Name="Locale">2057</VersionInfo>
+      <VersionInfo Name="CodePage">1252</VersionInfo>
+    </VersionInfo>
+    <VersionInfoKeys>
+      <VersionInfoKeys Name="CompanyName"></VersionInfoKeys>
+      <VersionInfoKeys Name="FileDescription"></VersionInfoKeys>
+      <VersionInfoKeys Name="FileVersion">1.0.0.0</VersionInfoKeys>
+      <VersionInfoKeys Name="InternalName"></VersionInfoKeys>
+      <VersionInfoKeys Name="LegalCopyright"></VersionInfoKeys>
+      <VersionInfoKeys Name="LegalTrademarks"></VersionInfoKeys>
+      <VersionInfoKeys Name="OriginalFilename"></VersionInfoKeys>
+      <VersionInfoKeys Name="ProductName"></VersionInfoKeys>
+      <VersionInfoKeys Name="ProductVersion">1.0.0.0</VersionInfoKeys>
+      <VersionInfoKeys Name="Comments"></VersionInfoKeys>
+    </VersionInfoKeys>
+    <Excluded_Packages>
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      <Excluded_Packages Name="$(BDS)\bin\dclofficexp100.bpl">Microsoft Office XP Sample Automation Server Wrapper Components</Excluded_Packages>
+      <Excluded_Packages Name="$(BDS)\bin\dcloffice2k100.bpl">Microsoft Office 2000 Sample Automation Server Wrapper Components</Excluded_Packages>
+    </Excluded_Packages>
+    <Source>
+      <Source Name="MainSource">dzProgressTest.dpr</Source>
+    </Source>
+  </Delphi.Personality> </BorlandProject></BorlandProject>
+  </ProjectExtensions>
+  <Import Project="$(MSBuildBinPath)\Borland.Delphi.Targets" />
+  <ItemGroup>
+    <DelphiCompile Include="dzProgressTest.dpr">
+      <MainSource>MainSource</MainSource>
+    </DelphiCompile>
+    <DCCReference Include="..\..\..\forms\w_dzDialog.pas">
+      <Form>f_dzDialog</Form>
+    </DCCReference>
+    <DCCReference Include="..\..\..\forms\w_dzProgress.pas">
+      <Form>f_dzProgress</Form>
+    </DCCReference>
+    <DCCReference Include="w_dzProgressTest.pas">
+      <Form>f_dzProgressTest</Form>
+    </DCCReference>
+  </ItemGroup>
+</Project>
\ No newline at end of file

Added: utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.res
===================================================================
(Binary files differ)


Property changes on: utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.res
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.dfm
===================================================================
--- utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.dfm	2008-09-05 15:13:33 UTC (rev 319)
+++ utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.dfm	2008-09-05 15:40:59 UTC (rev 320)
@@ -0,0 +1,26 @@
+object f_dzProgressTest: Tf_dzProgressTest
+  Left = 0
+  Top = 0
+  Caption = 'dzProgress Test'
+  ClientHeight = 54
+  ClientWidth = 205
+  Color = clBtnFace
+  Font.Charset = DEFAULT_CHARSET
+  Font.Color = clWindowText
+  Font.Height = -11
+  Font.Name = 'Tahoma'
+  Font.Style = []
+  OldCreateOrder = False
+  Position = poScreenCenter
+  PixelsPerInch = 96
+  TextHeight = 13
+  object b_Start: TButton
+    Left = 8
+    Top = 8
+    Width = 75
+    Height = 25
+    Caption = 'Start'
+    TabOrder = 0
+    OnClick = b_StartClick
+  end
+end

Added: utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.pas
===================================================================
--- utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.pas	2008-09-05 15:13:33 UTC (rev 319)
+++ utilities/dzLib/trunk/tests/dzprogress/src/w_dzProgressTest.pas	2008-09-05 15:40:59 UTC (rev 320)
@@ -0,0 +1,58 @@
+unit w_dzProgressTest;
+
+interface
+
+uses
+  Windows,
+  Messages,
+  SysUtils,
+  Variants,
+  Classes,
+  Graphics,
+  Controls,
+  Forms,
+  Dialogs,
+  StdCtrls,
+  w_dzProgress;
+
+type
+  Tf_dzProgressTest = class(TForm)
+    b_Start: TButton;
+    procedure b_StartClick(Sender: TObject);
+  private
+  public
+  end;
+
+var
+  f_dzProgressTest: Tf_dzProgressTest;
+
+implementation
+
+{$R *.dfm}
+
+procedure Tf_dzProgressTest.b_StartClick(Sender: TObject);
+var
+  i: integer;
+  frm: Tf_dzProgress;
+  Aborted: Boolean;
+begin
+  frm := Tf_dzProgress.Create(Self);
+  try
+    frm.FormCaption := 'A Progress Form - %d of %d';
+    frm.ProgressMax := 100;
+    frm.Action := 'Action1';
+    frm.Show;
+    Aborted := false;
+    i := 0;
+    while not Aborted and (i <= 100) do begin
+      sleep(100);
+      inc(i, 5);
+      frm.Progress(i, 'Action' + IntToStr(i), Aborted);
+    end;
+  finally
+    frm.Free;
+  end;
+end;
+
+end.
+



From twm at mail.berlios.de  Fri Sep  5 18:41:23 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 18:41:23 +0200
Subject: [Dzchart-svncheckins] r321 - in utilities/dzLib/trunk: forms tests
	tests/dzWizardForm tests/dzWizardForm/src
Message-ID: <200809051641.m85GfNre008442@sheep.berlios.de>

Author: twm
Date: 2008-09-05 18:41:03 +0200 (Fri, 05 Sep 2008)
New Revision: 321

Added:
   utilities/dzLib/trunk/tests/dzWizardForm/
   utilities/dzLib/trunk/tests/dzWizardForm/dcu/
   utilities/dzLib/trunk/tests/dzWizardForm/dzWizardFormTest.exe
   utilities/dzLib/trunk/tests/dzWizardForm/src/
   utilities/dzLib/trunk/tests/dzWizardForm/src/dz.bmp
   utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dpr
   utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dproj
   utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.dfm
   utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.pas
   utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.dfm
   utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.pas
   utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.dfm
   utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.pas
   utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.dfm
   utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.pas
Modified:
   utilities/dzLib/trunk/forms/w_dzWizardForm.pas
   utilities/dzLib/trunk/forms/wf_dzWizardFrame.pas
Log:
* replaced resource strings with calls to DGetText(..., 'dzlib')
* local _() functions now call dzDGetText rather than DGetText to avoid warning in dxgettext tool
* moved u_dzTranslator to uses in interface to allow inlining the local _() call
* test/demo for using tf_dzWizardForm / tfr_dzWizardFrame
* Bugfix: Parameters OldPage/NewPage were wrongly declared, they are actually the PageData pointers

Modified: utilities/dzLib/trunk/forms/w_dzWizardForm.pas
===================================================================
--- utilities/dzLib/trunk/forms/w_dzWizardForm.pas	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/forms/w_dzWizardForm.pas	2008-09-05 16:41:03 UTC (rev 321)
@@ -15,10 +15,11 @@
   Dialogs,
   StdCtrls,
   ExtCtrls,
+  u_dzTranslator,
   wf_dzWizardFrame;
 
 const
-  {: Sent as NewPageId if the old page is the first/last page in that direction }
+  ///<summary> Sent as NewPageId if the old page is the first/last page in that direction </summary>
   NO_MORE_PAGES = -1;
 
 type
@@ -81,33 +82,33 @@
   protected
     FPages: TPageList;
     procedure DoShow; override;
-    {: called before the new page is displayed
-       @param Direction gives the direction of the page change
-       @param OldPageId is the ID of the page we are about to leave
-       @param NewPageId is the ID of the page we are about to enter
-       @param OldPageData is the Data parameter of the page we are about to leave
-       @param NewPageData is the Data parameter of the page we are about to enter
-       @returns true if the page change is allowed
-       Note: This is also called on the last page when the user presses the
-       Finish button. }
+    ///<summary> called before the new page is displayed
+    ///          @param Direction gives the direction of the page change
+    ///          @param OldPageId is the ID of the page we are about to leave
+    ///          @param NewPageId is the ID of the page we are about to enter
+    ///          @param OldPageData is the Data parameter of the page we are about to leave
+    ///          @param NewPageData is the Data parameter of the page we are about to enter
+    ///          @returns true if the page change is allowed
+    ///          Note: This is also called on the last page when the user presses the
+    ///          Finish button. </summary>
     function DoBeforePageChange(_Direction: TPrevNext;
       _OldPageId: integer; var _NewPageId: integer;
       _OldPageData, _NewPageData: pointer): boolean; virtual;
-    {: called after the new page has been displayed
-       @param Direction gives the direction of the page change
-       @param OldPageId is the ID of the page we just left
-       @param NewPageId is the ID of the page we just entered
-       @param OldPageData is the Data parameter of the page we just left
-       @param NewPageData is the Data parameter of the page we just entered
-       Note: Is not called after the last page! }
+    ///<summary> called after the new page has been displayed
+    ///          @param Direction gives the direction of the page change
+    ///          @param OldPageId is the ID of the page we just left
+    ///          @param NewPageId is the ID of the page we just entered
+    ///          @param OldPageData is the Data parameter of the page we just left
+    ///          @param NewPageData is the Data parameter of the page we just entered
+    ///          Note: Is not called after the last page! </summary>
     procedure DoAfterPageChange(_Direction: TPrevNext;
       _OldPageId, _NewPageId: integer;
       _OldPageData, _NewPageData: pointer); virtual;
-    {: called after DoBeforePageChanged when the user presses the finish button
-       @returns true, if the dialog is done }
+    ///<summary> called after DoBeforePageChanged when the user presses the finish button
+    ///          @returns true, if the dialog is done </summary>
     function DoOnFinished: boolean; virtual;
-    {: Called when the user presses the cancel button.
-       @returns true, if canceling the dialog is allowed, false otherwise }
+    ///<summary> Called when the user presses the cancel button.
+    ///          @returns true, if canceling the dialog is allowed, false otherwise </summary>
     function DoOnCancel: boolean; virtual;
     procedure PageAdded(_PageFrame: Tfr_dzWizardFrame); virtual;
   public
@@ -148,9 +149,13 @@
 {$R *.DFM}
 
 uses
-  u_dzTranslator,
   u_dzVclUtils;
 
+function _(const _s: string): string; inline;
+begin
+  Result := dzDGetText(_s, 'dzlib');
+end;
+
 { TPageList }
 
 constructor TPageList.Create(_Wizard: Tf_dzWizardForm);

Modified: utilities/dzLib/trunk/forms/wf_dzWizardFrame.pas
===================================================================
--- utilities/dzLib/trunk/forms/wf_dzWizardFrame.pas	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/forms/wf_dzWizardFrame.pas	2008-09-05 16:41:03 UTC (rev 321)
@@ -20,12 +20,12 @@
 
   TBeforePageChange = procedure(_Sender: TObject; _Direction: TPrevNext;
     _OldPageId: integer; var _NewPageId: integer;
-    _OldPage, _NewPage: Tfr_dzWizardFrame;
+    _OldPageData, _NewPageData: Pointer;
     var _CanChange: boolean) of object;
 
   TAfterPageChange = procedure(_Sender: TObject; _Direction: TPrevNext;
     _OldPageId, _NewPageId: integer;
-    _OldPage, _NewPage: Tfr_dzWizardFrame) of object;
+    _OldPageData, _NewPageData: Pointer) of object;
 
   Tfr_dzWizardFrame = class(TFrame)
   private


Property changes on: utilities/dzLib/trunk/tests/dzWizardForm
___________________________________________________________________
Name: svn:ignore
   + dzWizardFormTest.exe


Added: utilities/dzLib/trunk/tests/dzWizardForm/dzWizardFormTest.exe
===================================================================
(Binary files differ)


Property changes on: utilities/dzLib/trunk/tests/dzWizardForm/dzWizardFormTest.exe
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream


Property changes on: utilities/dzLib/trunk/tests/dzWizardForm/src
___________________________________________________________________
Name: svn:ignore
   + dzWizardFormTest.res


Added: utilities/dzLib/trunk/tests/dzWizardForm/src/dz.bmp
===================================================================
(Binary files differ)


Property changes on: utilities/dzLib/trunk/tests/dzWizardForm/src/dz.bmp
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dpr
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dpr	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dpr	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,20 @@
+program dzWizardFormTest;
+
+uses
+  Forms,
+  w_dzWizardFormTest in 'w_dzWizardFormTest.pas' {f_dzWizardFormTest},
+  w_dzWizardForm in '..\..\..\forms\w_dzWizardForm.pas' {f_dzWizardForm},
+  wf_dzWizardFrame in '..\..\..\forms\wf_dzWizardFrame.pas' {fr_dzWizardFrame: TFrame},
+  wf_WizardPageName in 'wf_WizardPageName.pas' {fr_WizardPageName: TFrame},
+  wf_WizardPageBirthday in 'wf_WizardPageBirthday.pas' {fr_WizardPageBirthday: TFrame},
+  wf_WizardPageAge in 'wf_WizardPageAge.pas' {fr_WizardPageAge: TFrame},
+  w_dzDialog in '..\..\..\forms\w_dzDialog.pas' {f_dzDialog};
+
+{$R *.res}
+
+begin
+  Application.Initialize;
+  Application.MainFormOnTaskbar := True;
+  Application.CreateForm(Tf_dzWizardFormTest, f_dzWizardFormTest);
+  Application.Run;
+end.

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dproj
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dproj	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/dzWizardFormTest.dproj	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,117 @@
+?<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
+  <PropertyGroup>
+    <ProjectGuid>{c2b7ef5e-93da-40d1-9871-3c25aa9955f4}</ProjectGuid>
+    <Configuration Condition=" '$(Configuration)' == '' ">Debug</Configuration>
+    <Platform Condition=" '$(Platform)' == '' ">AnyCPU</Platform>
+    <DCC_DCCCompiler>DCC32</DCC_DCCCompiler>
+    <DCC_DependencyCheckOutputName>..\dzWizardFormTest.exe</DCC_DependencyCheckOutputName>
+    <MainSource>dzWizardFormTest.dpr</MainSource>
+  </PropertyGroup>
+  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' ">
+    <Version>7.0</Version>
+    <DCC_DebugInformation>False</DCC_DebugInformation>
+    <DCC_LocalDebugSymbols>False</DCC_LocalDebugSymbols>
+    <DCC_SymbolReferenceInfo>0</DCC_SymbolReferenceInfo>
+    <DCC_Define>RELEASE</DCC_Define>
+  </PropertyGroup>
+  <PropertyGroup Condition=" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' ">
+    <Version>7.0</Version>
+    <DCC_Define>DEBUG;no_translation</DCC_Define>
+    <DCC_ExeOutput>..</DCC_ExeOutput>
+    <DCC_DcuOutput>..\dcu</DCC_DcuOutput>
+    <DCC_ObjOutput>..\dcu</DCC_ObjOutput>
+    <DCC_HppOutput>..\dcu</DCC_HppOutput>
+    <DCC_UnitSearchPath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\vcl</DCC_UnitSearchPath>
+    <DCC_ResourcePath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\vcl</DCC_ResourcePath>
+    <DCC_ObjPath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\vcl</DCC_ObjPath>
+    <DCC_IncludePath>$(BDS)\lib\Debug;$(BDS)\Lib\Debug\Indy10;..\..\..\src;..\..\..\..\jcl\source;..\..\..\..\jcl\source\common;..\..\..\..\jcl\source\windows;..\..\..\..\jcl\source\vcl</DCC_IncludePath>
+    <DCC_SYMBOL_PLATFORM>False</DCC_SYMBOL_PLATFORM>
+    <DCC_UNIT_PLATFORM>False</DCC_UNIT_PLATFORM>
+  </PropertyGroup>
+  <ProjectExtensions>
+    <Borland.Personality>Delphi.Personality</Borland.Personality>
+    <Borland.ProjectType />
+    <BorlandProject>
+<BorlandProject><Delphi.Personality><Parameters><Parameters Name="UseLauncher">False</Parameters><Parameters Name="LoadAllSymbols">True</Parameters><Parameters Name="LoadUnspecifiedSymbols">False</Parameters></Parameters><VersionInfo><VersionInfo Name="IncludeVerInfo">False</VersionInfo><VersionInfo Name="AutoIncBuild">False</VersionInfo><VersionInfo Name="MajorVer">1</VersionInfo><VersionInfo Name="MinorVer">0</VersionInfo><VersionInfo Name="Release">0</VersionInfo><VersionInfo Name="Build">0</VersionInfo><VersionInfo Name="Debug">False</VersionInfo><VersionInfo Name="PreRelease">False</VersionInfo><VersionInfo Name="Special">False</VersionInfo><VersionInfo Name="Private">False</VersionInfo><VersionInfo Name="DLL">False</VersionInfo><VersionInfo Name="Locale">2057</VersionInfo><VersionInfo Name="CodePage">1252</VersionInfo></VersionInfo><VersionInfoKeys><VersionInfoKeys Name="CompanyName"></VersionInfoKeys><VersionInfoKeys Name="FileDescription"></VersionInfoKeys><VersionI!
 nfoKeys Name="FileVersion">1.0.0.0</VersionInfoKeys><VersionInfoKeys Name="InternalName"></VersionInfoKeys><VersionInfoKeys Name="LegalCopyright"></VersionInfoKeys><VersionInfoKeys Name="LegalTrademarks"></VersionInfoKeys><VersionInfoKeys Name="OriginalFilename"></VersionInfoKeys><VersionInfoKeys Name="ProductName"></VersionInfoKeys><VersionInfoKeys Name="ProductVersion">1.0.0.0</VersionInfoKeys><VersionInfoKeys Name="Comments"></VersionInfoKeys></VersionInfoKeys><Excluded_Packages>
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      
+      <Excluded_Packages Name="$(BDS)\bin\dclofficexp100.bpl">Microsoft Office XP Sample Automation Server Wrapper Components</Excluded_Packages>
+      <Excluded_Packages Name="$(BDS)\bin\dcloffice2k100.bpl">Microsoft Office 2000 Sample Automation Server Wrapper Components</Excluded_Packages>
+    </Excluded_Packages><Source><Source Name="MainSource">dzWizardFormTest.dpr</Source></Source></Delphi.Personality></BorlandProject></BorlandProject>
+  </ProjectExtensions>
+  <Import Project="$(MSBuildBinPath)\Borland.Delphi.Targets" />
+  <ItemGroup>
+    <DelphiCompile Include="dzWizardFormTest.dpr">
+      <MainSource>MainSource</MainSource>
+    </DelphiCompile>
+    <DCCReference Include="..\..\..\forms\wf_dzWizardFrame.pas">
+      <Form>fr_dzWizardFrame</Form>
+      <DesignClass>TFrame</DesignClass>
+    </DCCReference>
+    <DCCReference Include="..\..\..\forms\w_dzDialog.pas">
+      <Form>f_dzDialog</Form>
+    </DCCReference>
+    <DCCReference Include="..\..\..\forms\w_dzWizardForm.pas">
+      <Form>f_dzWizardForm</Form>
+    </DCCReference>
+    <DCCReference Include="wf_WizardPageAge.pas">
+      <Form>fr_WizardPageAge</Form>
+      <DesignClass>TFrame</DesignClass>
+    </DCCReference>
+    <DCCReference Include="wf_WizardPageBirthday.pas">
+      <Form>fr_WizardPageBirthday</Form>
+      <DesignClass>TFrame</DesignClass>
+    </DCCReference>
+    <DCCReference Include="wf_WizardPageName.pas">
+      <Form>fr_WizardPageName</Form>
+      <DesignClass>TFrame</DesignClass>
+    </DCCReference>
+    <DCCReference Include="w_dzWizardFormTest.pas">
+      <Form>f_dzWizardFormTest</Form>
+    </DCCReference>
+  </ItemGroup>
+</Project>
\ No newline at end of file

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.dfm
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.dfm	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.dfm	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,131 @@
+object f_dzWizardFormTest: Tf_dzWizardFormTest
+  Left = 0
+  Top = 0
+  Caption = 'dzWizardForm / Frame Test'
+  ClientHeight = 62
+  ClientWidth = 163
+  Color = clBtnFace
+  Font.Charset = DEFAULT_CHARSET
+  Font.Color = clWindowText
+  Font.Height = -11
+  Font.Name = 'Tahoma'
+  Font.Style = []
+  OldCreateOrder = False
+  PixelsPerInch = 96
+  TextHeight = 13
+  object im_dz: TImage
+    Left = 96
+    Top = 0
+    Width = 65
+    Height = 65
+    Picture.Data = {
+      07544269746D6170360C0000424D360C00000000000036000000280000002000
+      0000200000000100180000000000000C00000000000000000000000000000000
+      0000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000000000000000000000
+      00000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
+      00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000
+      00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF0000000000000000
+      00000000000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000
+      000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFF
+      FFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFF
+      FFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFF
+      FFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFF
+      FFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFF
+      FFFFFFFFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000FFFFFFFFFFFF
+      FFFFFF000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000
+      000000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF
+      FFFF}
+  end
+  object b_Start: TButton
+    Left = 8
+    Top = 16
+    Width = 75
+    Height = 25
+    Caption = 'Start'
+    TabOrder = 0
+    OnClick = b_StartClick
+  end
+end

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.pas
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.pas	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/w_dzWizardFormTest.pas	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,113 @@
+unit w_dzWizardFormTest;
+
+interface
+
+uses
+  Windows,
+  Messages,
+  SysUtils,
+  Variants,
+  Classes,
+  Graphics,
+  Controls,
+  Forms,
+  Dialogs,
+  StdCtrls,
+  w_dzWizardForm,
+  wf_dzWizardFrame,
+  wf_WizardPageName,
+  wf_WizardPageBirthday,
+  wf_WizardPageAge,
+  ExtCtrls;
+
+type
+  Tf_dzWizardFormTest = class(TForm)
+    b_Start: TButton;
+    im_dz: TImage;
+    procedure b_StartClick(Sender: TObject);
+  private
+    FName: string;
+    FPageName: Tfr_WizardPageName;
+    FPageBirthday: Tfr_WizardPageBirthday;
+    FPageAge: Tfr_WizardPageAge;
+    FPageIdName: integer;
+    FPageIdBirthday: integer;
+    FPageIdAge: integer;
+    procedure HandleNameExit(_Sender: TObject; _Direction: TPrevNext;
+      _OldPageId: integer; var _NewPageId: integer; _OldPageData, _NewPageData: Pointer;
+      var _CanChange: boolean);
+    procedure HandleBirthdayExit(_Sender: TObject; _Direction: TPrevNext;
+      _OldPageId: integer; var _NewPageId: integer; _OldPageData, _NewPageData: Pointer;
+      var _CanChange: boolean);
+  public
+  end;
+
+var
+  f_dzWizardFormTest: Tf_dzWizardFormTest;
+
+implementation
+
+{$R *.dfm}
+
+uses
+  DateUtils,
+  w_dzDialog;
+
+procedure Tf_dzWizardFormTest.b_StartClick(Sender: TObject);
+var
+  frm: Tf_dzWizardForm;
+begin
+  frm := Tf_dzWizardForm.Create(self);
+  try
+    frm.Picture := self.im_dz.Picture;
+    FPageName := Tfr_WizardPageName.Create(frm);
+    FPageName.BeforeExit := HandleNameExit;
+    FPageIdName := frm.Pages.AddPage(FPageName, 'What is your name?');
+    FPageBirthday := Tfr_WizardPageBirthday.Create(frm);
+    FPageBirthday.BeforeExit := HandleBirthdayExit;
+    FPageIdBirthday := frm.Pages.AddPage(FPageBirthday, 'When have you been born?');
+    FPageAge := Tfr_WizardPageAge.Create(frm);
+    FPageIdAge := frm.Pages.AddPage(FPageAge, 'Result');
+    frm.ShowModal;
+  finally
+    frm.Free;
+  end;
+end;
+
+procedure Tf_dzWizardFormTest.HandleBirthdayExit(_Sender: TObject;
+  _Direction: TPrevNext; _OldPageId: integer; var _NewPageId: integer;
+  _OldPageData, _NewPageData: Pointer; var _CanChange: boolean);
+var
+  Age: Integer;
+  Birthday: TDateTime;
+begin
+  Assert(_OldPageId = FPageIdBirthday);
+
+  if _Direction = pnPrevious then
+    exit;
+
+  Birthday := FPageBirthday.dtp_Birthday.Date;
+
+  if _NewPageId = FPageIdAge then begin
+    Age := DateUtils.YearsBetween(Now, Birthday);
+    FPageAge.l_Age.Caption := Format('%s, you are now %d years old.', [FName, Age]);
+  end;
+end;
+
+procedure Tf_dzWizardFormTest.HandleNameExit(_Sender: TObject;
+  _Direction: TPrevNext; _OldPageId: integer; var _NewPageId: integer;
+  _OldPageData, _NewPageData: Pointer; var _CanChange: boolean);
+begin
+  Assert(_OldPageId = FPageIdName);
+
+  if _Direction = pnPrevious then
+    exit;
+
+  FName := FPageName.ed_Name.Text;
+  _CanChange := FName <> '';
+  if not _CanChange then
+    TF_DZDialog.ShowError('Please enter your name!', '', [dbeRetry]);
+end;
+
+end.
+

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.dfm
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.dfm	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.dfm	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,12 @@
+inherited fr_WizardPageAge: Tfr_WizardPageAge
+  Height = 45
+  ExplicitHeight = 45
+  object l_Age: TLabel
+    Left = 8
+    Top = 8
+    Width = 154
+    Height = 13
+    Margins.Bottom = 0
+    Caption = '%s, you are now %d years old.'
+  end
+end

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.pas
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.pas	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageAge.pas	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,30 @@
+unit wf_WizardPageAge;
+
+interface
+
+uses
+  Windows,
+  Messages,
+  SysUtils,
+  Variants,
+  Classes,
+  Graphics,
+  Controls,
+  Forms,
+  Dialogs,
+  wf_dzWizardFrame,
+  StdCtrls;
+
+type
+  Tfr_WizardPageAge = class(Tfr_dzWizardFrame)
+    l_Age: TLabel;
+  private
+  public
+  end;
+
+implementation
+
+{$R *.dfm}
+
+end.
+

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.dfm
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.dfm	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.dfm	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,21 @@
+inherited fr_WizardPageBirthday: Tfr_WizardPageBirthday
+  Height = 59
+  ExplicitHeight = 59
+  object l_Birthday: TLabel
+    Left = 8
+    Top = 8
+    Width = 40
+    Height = 13
+    Margins.Bottom = 0
+    Caption = 'Birthday'
+  end
+  object dtp_Birthday: TDateTimePicker
+    Left = 8
+    Top = 24
+    Width = 186
+    Height = 21
+    Date = 39696.370576099540000000
+    Time = 39696.370576099540000000
+    TabOrder = 0
+  end
+end

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.pas
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.pas	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageBirthday.pas	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,30 @@
+unit wf_WizardPageBirthday;
+
+interface
+
+uses
+  Windows,
+  Messages,
+  SysUtils,
+  Variants,
+  Classes,
+  Graphics,
+  Controls,
+  Forms,
+  Dialogs,
+  wf_dzWizardFrame, StdCtrls, ComCtrls;
+
+type
+  Tfr_WizardPageBirthday = class(Tfr_dzWizardFrame)
+    dtp_Birthday: TDateTimePicker;
+    l_Birthday: TLabel;
+  private
+  public
+  end;
+
+implementation
+
+{$R *.dfm}
+
+end.
+

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.dfm
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.dfm	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.dfm	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,21 @@
+inherited fr_WizardPageName: Tfr_WizardPageName
+  Width = 141
+  Height = 55
+  ExplicitWidth = 141
+  ExplicitHeight = 55
+  object l_Name: TLabel
+    Left = 8
+    Top = 8
+    Width = 27
+    Height = 13
+    Margins.Bottom = 0
+    Caption = 'Name'
+  end
+  object ed_Name: TEdit
+    Left = 8
+    Top = 24
+    Width = 121
+    Height = 21
+    TabOrder = 0
+  end
+end

Added: utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.pas
===================================================================
--- utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.pas	2008-09-05 15:40:59 UTC (rev 320)
+++ utilities/dzLib/trunk/tests/dzWizardForm/src/wf_WizardPageName.pas	2008-09-05 16:41:03 UTC (rev 321)
@@ -0,0 +1,31 @@
+unit wf_WizardPageName;
+
+interface
+
+uses
+  Windows,
+  Messages,
+  SysUtils,
+  Variants,
+  Classes,
+  Graphics,
+  Controls,
+  Forms,
+  Dialogs,
+  wf_dzWizardFrame,
+  StdCtrls;
+
+type
+  Tfr_WizardPageName = class(Tfr_dzWizardFrame)
+    l_Name: TLabel;
+    ed_Name: TEdit;
+  private
+  public
+  end;
+
+implementation
+
+{$R *.dfm}
+
+end.
+



From twm at mail.berlios.de  Fri Sep  5 18:45:35 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 18:45:35 +0200
Subject: [Dzchart-svncheckins] r322 -
	utilities/dzLib/trunk/tests/dzWizardForm
Message-ID: <200809051645.m85GjZKs012030@sheep.berlios.de>

Author: twm
Date: 2008-09-05 18:45:33 +0200 (Fri, 05 Sep 2008)
New Revision: 322

Removed:
   utilities/dzLib/trunk/tests/dzWizardForm/dzWizardFormTest.exe
Modified:
   utilities/dzLib/trunk/tests/dzWizardForm/
Log:



Property changes on: utilities/dzLib/trunk/tests/dzWizardForm
___________________________________________________________________
Name: svn:ignore
   - dzWizardFormTest.exe

   + 
dzWizardFormTest.exe


Deleted: utilities/dzLib/trunk/tests/dzWizardForm/dzWizardFormTest.exe
===================================================================
(Binary files differ)



From twm at mail.berlios.de  Fri Sep  5 18:49:17 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 18:49:17 +0200
Subject: [Dzchart-svncheckins] r323 - utilities/dzLib/trunk/forms
Message-ID: <200809051649.m85GnHQD018066@sheep.berlios.de>

Author: twm
Date: 2008-09-05 18:49:15 +0200 (Fri, 05 Sep 2008)
New Revision: 323

Modified:
   utilities/dzLib/trunk/forms/w_dzWizard.pas
Log:
local _() functions now call dzDGetText rather than DGetText to avoid warning in dxgettext tool


Modified: utilities/dzLib/trunk/forms/w_dzWizard.pas
===================================================================
--- utilities/dzLib/trunk/forms/w_dzWizard.pas	2008-09-05 16:45:33 UTC (rev 322)
+++ utilities/dzLib/trunk/forms/w_dzWizard.pas	2008-09-05 16:49:15 UTC (rev 323)
@@ -12,7 +12,8 @@
   Forms,
   Dialogs,
   StdCtrls,
-  ExtCtrls;
+  ExtCtrls,
+  u_dzTranslator;
 
 const
   {: Sent as NewPageId if the old page is the first/last page in that direction }
@@ -174,8 +175,7 @@
 {$R *.DFM}
 
 uses
-  u_dzVclUtils,
-  u_dzTranslator;
+  u_dzVclUtils;
 
 type
   TWizardPage = class
@@ -198,7 +198,7 @@
 
 function _(const _s: string): string; inline;
 begin
-  Result := DGetText(_s, 'dzlib');
+  Result := dzDGetText(_s, 'dzlib');
 end;
 
 constructor TWizardPage.Create(_Form: TForm; const _Description: string;



From twm at mail.berlios.de  Fri Sep  5 18:51:17 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 18:51:17 +0200
Subject: [Dzchart-svncheckins] r324 - in utilities/dzLib/trunk/translations:
	de en fr
Message-ID: <200809051651.m85GpH56020607@sheep.berlios.de>

Author: twm
Date: 2008-09-05 18:51:11 +0200 (Fri, 05 Sep 2008)
New Revision: 324

Modified:
   utilities/dzLib/trunk/translations/de/dzlib.po
   utilities/dzLib/trunk/translations/en/dzlib.po
   utilities/dzLib/trunk/translations/fr/dzlib.po
Log:
updated translations

Modified: utilities/dzLib/trunk/translations/de/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-05 16:49:15 UTC (rev 323)
+++ utilities/dzLib/trunk/translations/de/dzlib.po	2008-09-05 16:51:11 UTC (rev 324)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 05:40\n"
-"PO-Revision-Date: 2008-09-04 05:40-0800\n"
+"POT-Creation-Date: 2008-09-05 09:45\n"
+"PO-Revision-Date: 2008-09-05 09:50-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -21,11 +21,6 @@
 msgid "no matching object found"
 msgstr "kein passendes Objekt gefunden"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
-msgid "Invalid character \"%s\"."
-msgstr "Ung?ltiges Zeichen \"%s\""
-
 #: u_dzConvertUtils.pas:367
 msgid "Digit out of range %s"
 msgstr "Ung?ltige Ziffer %s"
@@ -98,96 +93,92 @@
 msgid "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
 msgstr "SetParamByName wird f?r %s nicht unterst?tzt (nur TQuery- und TAdoDataset-Abk?mmlinge)"
 
-#: u_dzDateUtils.pas:93
+#: u_dzDateUtils.pas:95
 msgid "Monday"
 msgstr "Montag"
 
-#: u_dzDateUtils.pas:94
+#: u_dzDateUtils.pas:96
 msgid "Tuesday"
 msgstr "Dienstag"
 
-#: u_dzDateUtils.pas:95
+#: u_dzDateUtils.pas:97
 msgid "Wednesday"
 msgstr "Mittwoch"
 
-#: u_dzDateUtils.pas:96
+#: u_dzDateUtils.pas:98
 msgid "Thursday"
 msgstr "Donnerstag"
 
-#: u_dzDateUtils.pas:97
+#: u_dzDateUtils.pas:99
 msgid "Friday"
 msgstr "Freitag"
 
-#: u_dzDateUtils.pas:98
+#: u_dzDateUtils.pas:100
 msgid "Saturday"
 msgstr "Samstag"
 
-#: u_dzDateUtils.pas:99
+#: u_dzDateUtils.pas:101
 msgid "Sunday"
 msgstr "Sonntag"
 
 #. should never happen ...
-#: u_dzDateUtils.pas:102
+#: u_dzDateUtils.pas:104
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Ung?ltiger Wert f?r DayOfWeek: %d"
 
-#: u_dzDateUtils.pas:109
+#: u_dzDateUtils.pas:111
 msgid "January"
 msgstr "Januar"
 
-#: u_dzDateUtils.pas:110
+#: u_dzDateUtils.pas:112
 msgid "February"
 msgstr "Februar"
 
-#: u_dzDateUtils.pas:111
+#: u_dzDateUtils.pas:113
 msgid "March"
 msgstr "M?rz"
 
-#: u_dzDateUtils.pas:112
+#: u_dzDateUtils.pas:114
 msgid "April"
 msgstr "April"
 
-#: u_dzDateUtils.pas:113
+#: u_dzDateUtils.pas:115
 msgid "May"
 msgstr "Mai"
 
-#: u_dzDateUtils.pas:114
+#: u_dzDateUtils.pas:116
 msgid "June"
 msgstr "Juni"
 
-#: u_dzDateUtils.pas:115
+#: u_dzDateUtils.pas:117
 msgid "July"
 msgstr "Juli"
 
-#: u_dzDateUtils.pas:116
+#: u_dzDateUtils.pas:118
 msgid "August"
 msgstr "August"
 
-#: u_dzDateUtils.pas:117
+#: u_dzDateUtils.pas:119
 msgid "September"
 msgstr "September"
 
-#: u_dzDateUtils.pas:118
+#: u_dzDateUtils.pas:120
 msgid "October"
 msgstr "Oktober"
 
-#: u_dzDateUtils.pas:119
+#: u_dzDateUtils.pas:121
 msgid "November"
 msgstr "November"
 
-#: u_dzDateUtils.pas:120
+#: u_dzDateUtils.pas:122
 msgid "December"
 msgstr "Dezember"
 
 #. should never happen ...
-#: u_dzDateUtils.pas:123
+#: u_dzDateUtils.pas:125
 msgid "Invalid month number %d"
 msgstr "Ung?ltige Monatsnummer %d"
 
-#: u_dzDefaultMain.pas:114
-msgid "Error: %s"
-msgstr "Fehler: %s"
-
 #: u_dzDllLoader.pas:159
 msgid "Could not load %s."
 msgstr "Konnte %s nicht laden."
@@ -379,7 +370,7 @@
 msgid "New capacity cannot be less than current length."
 msgstr "Neue Kapazit?t kann nicht kleiner sein als aktuelle L?nge."
 
-#: u_dzRingBuffer.pas:249
+#: u_dzRingBuffer.pas:247
 msgid "Index %d out of bounds."
 msgstr "Index %d nicht im g?ltigen Bereich."
 
@@ -395,11 +386,11 @@
 msgid "Strings do not have a 0th character."
 msgstr "Strings haben kein 0tes Zeichen."
 
-#: u_dzTextFile.pas:56
+#: u_dzTextFile.pas:54
 msgid "Invalid file access value (%d)"
 msgstr "Ung?ltiger Dateizugriffswert (%d)"
 
-#: u_dzTextFile.pas:60
+#: u_dzTextFile.pas:58
 msgid "%s accessing file %s"
 msgstr "%s beim Zugriff auf Datei %s"
 
@@ -467,45 +458,45 @@
 msgstr "Fortschritt"
 
 #. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#: w_dzProgress.dfm:25
 msgid "Action"
 msgstr "Aktion"
 
 #. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#: w_dzProgress.dfm:42
 msgid "Abort"
 msgstr "Abbrechen"
 
 #. f_dzWizard..p_Buttons..b_Next..Caption
 #. f_dzWizardForm..p_Buttons..b_Next..Caption
 #: w_dzWizard.dfm:1210
-#: w_dzWizardForm.pas:222
+#: w_dzWizardForm.pas:227
 msgid "&Next >"
 msgstr "&Weiter >"
 
 #. f_dzWizard..p_Buttons..b_Cancel..Caption
 #. f_dzWizardForm..p_Buttons..b_Cancel..Caption
 #: w_dzWizard.dfm:1223
-#: w_dzWizardForm.pas:221
+#: w_dzWizardForm.pas:226
 msgid "Cancel"
 msgstr "Abbrechen"
 
 #. f_dzWizard..p_Buttons..b_Prev..Caption
 #. f_dzWizardForm..p_Buttons..b_Prev..Caption
 #: w_dzWizard.dfm:1233
-#: w_dzWizardForm.pas:220
+#: w_dzWizardForm.pas:225
 msgid "< &Previous"
 msgstr "< &Zur?ck"
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:322
 msgid "Invalid modal result %d."
 msgstr "Ung?ltiger modaler R?ckgabewert %d."
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:495
 msgid "Do not show again."
 msgstr "Nicht nochmal anzeigen."
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:576
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -514,54 +505,42 @@
 "%s"
 
 #. 400;
-#: w_dzDialog.pas:606
+#: w_dzDialog.pas:600
 msgid "Additional information:"
 msgstr "Erweiterte Informationen:"
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:620
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:775
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
-msgid "Do you really want to abort?"
-msgstr "Wollen Sie wirklich abbrechen?"
-
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#: w_dzProgress.pas:90
 msgid "Progress (%d%%)"
 msgstr "Fortschritt (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
-msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
-msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
+#: w_dzProgress.pas:101
+msgid "Do you really want to abort?"
+msgstr "Wollen Sie wirklich abbrechen?"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#: w_dzProgress.pas:153
 msgid "must not contain a % at the end"
 msgstr "darf am Ende kein % enthalten"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#: w_dzProgress.pas:162
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" muss von \"d\" or \"%\" gefolgt werden."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#: w_dzProgress.pas:168
 msgid "too many parameters"
 msgstr "Zuviele Parameter"
 
+#: w_dzProgress.pas:180
+msgid "Invalid FormCaption, %s"
+msgstr "Ung?ltige Formular?berschrift \"%s\""
+
 #: w_dzWizard.pas:342
 msgid "&Finish"
 msgstr "&Beenden"
@@ -570,6 +549,10 @@
 msgid "Already on first page."
 msgstr "Bereits auf erster Seite."
 
+#~ msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
+#~ msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
+#~ msgid "Error: %s"
+#~ msgstr "Fehler: %s"
 #~ msgid "Error %1:s (%0:d)"
 #~ msgstr "Fehler %1:s (%0:d)"
 #~ msgid "Buffer is full"

Modified: utilities/dzLib/trunk/translations/en/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-05 16:49:15 UTC (rev 323)
+++ utilities/dzLib/trunk/translations/en/dzlib.po	2008-09-05 16:51:11 UTC (rev 324)
@@ -6,8 +6,8 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 05:40\n"
-"PO-Revision-Date: 2008-09-04 05:41-0800\n"
+"POT-Creation-Date: 2008-09-05 09:45\n"
+"PO-Revision-Date: 2008-09-05 09:50-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "MIME-Version: 1.0\n"
@@ -21,11 +21,6 @@
 msgid "no matching object found"
 msgstr "no matching object found"
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
-msgid "Invalid character \"%s\"."
-msgstr "Invalid character \"%s\"."
-
 #: u_dzConvertUtils.pas:367
 msgid "Digit out of range %s"
 msgstr "Digit out of range %s"
@@ -98,96 +93,92 @@
 msgid "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
 msgstr "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
 
-#: u_dzDateUtils.pas:93
+#: u_dzDateUtils.pas:95
 msgid "Monday"
 msgstr "Monday"
 
-#: u_dzDateUtils.pas:94
+#: u_dzDateUtils.pas:96
 msgid "Tuesday"
 msgstr "Tuesday"
 
-#: u_dzDateUtils.pas:95
+#: u_dzDateUtils.pas:97
 msgid "Wednesday"
 msgstr "Wednesday"
 
-#: u_dzDateUtils.pas:96
+#: u_dzDateUtils.pas:98
 msgid "Thursday"
 msgstr "Thursday"
 
-#: u_dzDateUtils.pas:97
+#: u_dzDateUtils.pas:99
 msgid "Friday"
 msgstr "Friday"
 
-#: u_dzDateUtils.pas:98
+#: u_dzDateUtils.pas:100
 msgid "Saturday"
 msgstr "Saturday"
 
-#: u_dzDateUtils.pas:99
+#: u_dzDateUtils.pas:101
 msgid "Sunday"
 msgstr "Sunday"
 
 #. should never happen ...
-#: u_dzDateUtils.pas:102
+#: u_dzDateUtils.pas:104
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Invalid value for DayOfWeek: %d"
 
-#: u_dzDateUtils.pas:109
+#: u_dzDateUtils.pas:111
 msgid "January"
 msgstr "January"
 
-#: u_dzDateUtils.pas:110
+#: u_dzDateUtils.pas:112
 msgid "February"
 msgstr "February"
 
-#: u_dzDateUtils.pas:111
+#: u_dzDateUtils.pas:113
 msgid "March"
 msgstr "March"
 
-#: u_dzDateUtils.pas:112
+#: u_dzDateUtils.pas:114
 msgid "April"
 msgstr "April"
 
-#: u_dzDateUtils.pas:113
+#: u_dzDateUtils.pas:115
 msgid "May"
 msgstr "May"
 
-#: u_dzDateUtils.pas:114
+#: u_dzDateUtils.pas:116
 msgid "June"
 msgstr "June"
 
-#: u_dzDateUtils.pas:115
+#: u_dzDateUtils.pas:117
 msgid "July"
 msgstr "July"
 
-#: u_dzDateUtils.pas:116
+#: u_dzDateUtils.pas:118
 msgid "August"
 msgstr "August"
 
-#: u_dzDateUtils.pas:117
+#: u_dzDateUtils.pas:119
 msgid "September"
 msgstr "September"
 
-#: u_dzDateUtils.pas:118
+#: u_dzDateUtils.pas:120
 msgid "October"
 msgstr "October"
 
-#: u_dzDateUtils.pas:119
+#: u_dzDateUtils.pas:121
 msgid "November"
 msgstr "November"
 
-#: u_dzDateUtils.pas:120
+#: u_dzDateUtils.pas:122
 msgid "December"
 msgstr "December"
 
 #. should never happen ...
-#: u_dzDateUtils.pas:123
+#: u_dzDateUtils.pas:125
 msgid "Invalid month number %d"
 msgstr "Invalid month number %d"
 
-#: u_dzDefaultMain.pas:114
-msgid "Error: %s"
-msgstr "Error: %s"
-
 #: u_dzDllLoader.pas:159
 msgid "Could not load %s."
 msgstr "Could not load %s."
@@ -379,7 +370,7 @@
 msgid "New capacity cannot be less than current length."
 msgstr "New capacity cannot be less than current length."
 
-#: u_dzRingBuffer.pas:249
+#: u_dzRingBuffer.pas:247
 msgid "Index %d out of bounds."
 msgstr "Index %d out of bounds."
 
@@ -395,11 +386,11 @@
 msgid "Strings do not have a 0th character."
 msgstr "Strings do not have a 0th character."
 
-#: u_dzTextFile.pas:56
+#: u_dzTextFile.pas:54
 msgid "Invalid file access value (%d)"
 msgstr "Invalid file access value (%d)"
 
-#: u_dzTextFile.pas:60
+#: u_dzTextFile.pas:58
 msgid "%s accessing file %s"
 msgstr "%s accessing file %s"
 
@@ -467,45 +458,45 @@
 msgstr "Progress"
 
 #. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#: w_dzProgress.dfm:25
 msgid "Action"
 msgstr "Action"
 
 #. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#: w_dzProgress.dfm:42
 msgid "Abort"
 msgstr "Abort"
 
 #. f_dzWizard..p_Buttons..b_Next..Caption
 #. f_dzWizardForm..p_Buttons..b_Next..Caption
 #: w_dzWizard.dfm:1210
-#: w_dzWizardForm.pas:222
+#: w_dzWizardForm.pas:227
 msgid "&Next >"
 msgstr "&Next >"
 
 #. f_dzWizard..p_Buttons..b_Cancel..Caption
 #. f_dzWizardForm..p_Buttons..b_Cancel..Caption
 #: w_dzWizard.dfm:1223
-#: w_dzWizardForm.pas:221
+#: w_dzWizardForm.pas:226
 msgid "Cancel"
 msgstr "Cancel"
 
 #. f_dzWizard..p_Buttons..b_Prev..Caption
 #. f_dzWizardForm..p_Buttons..b_Prev..Caption
 #: w_dzWizard.dfm:1233
-#: w_dzWizardForm.pas:220
+#: w_dzWizardForm.pas:225
 msgid "< &Previous"
 msgstr "< &Previous"
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:322
 msgid "Invalid modal result %d."
 msgstr "Invalid modal result %d."
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:495
 msgid "Do not show again."
 msgstr "Do not show again."
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:576
 msgid ""
 "An error occurred:\n"
 "%s"
@@ -514,54 +505,42 @@
 "%s"
 
 #. 400;
-#: w_dzDialog.pas:606
+#: w_dzDialog.pas:600
 msgid "Additional information:"
 msgstr "Additional information:"
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:620
 msgid "&Details >>"
 msgstr "&Details >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:775
 msgid "&Details <<"
 msgstr "&Details <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
-msgid "Do you really want to abort?"
-msgstr "Do you really want to abort?"
-
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#: w_dzProgress.pas:90
 msgid "Progress (%d%%)"
 msgstr "Progress (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
-msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
-msgstr "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
+#: w_dzProgress.pas:101
+msgid "Do you really want to abort?"
+msgstr "Do you really want to abort?"
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#: w_dzProgress.pas:153
 msgid "must not contain a % at the end"
 msgstr "must not contain a % at the end"
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#: w_dzProgress.pas:162
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr "\"%\" must be followed by \"d\" or \"%\"."
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#: w_dzProgress.pas:168
 msgid "too many parameters"
 msgstr "too many parameters"
 
+#: w_dzProgress.pas:180
+msgid "Invalid FormCaption, %s"
+msgstr "Invalid FormCaption, %s"
+
 #: w_dzWizard.pas:342
 msgid "&Finish"
 msgstr "&Finish"
@@ -570,18 +549,3 @@
 msgid "Already on first page."
 msgstr "Already on first page."
 
-#~ msgid "Error %1:s (%0:d)"
-#~ msgstr "Error %1:s (%0:d)"
-#~ msgid "Buffer is full"
-#~ msgstr "Buffer is full"
-#~ msgid "Buffer is empty"
-#~ msgstr "Buffer is empty"
-
-#, fuzzy
-#~ msgid "Option descriptions (do not translate)"
-#~ msgstr "Message der Exception (do not translate)"
-
-#, fuzzy
-#~ msgid "Message of Exception (do not translate)"
-#~ msgstr "Message der Exception (do not translate)"
-

Modified: utilities/dzLib/trunk/translations/fr/dzlib.po
===================================================================
--- utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-05 16:49:15 UTC (rev 323)
+++ utilities/dzLib/trunk/translations/fr/dzlib.po	2008-09-05 16:51:11 UTC (rev 324)
@@ -6,7 +6,7 @@
 msgid ""
 msgstr ""
 "Project-Id-Version: dzLib 1.0\n"
-"POT-Creation-Date: 2008-09-04 05:40\n"
+"POT-Creation-Date: 2008-09-05 09:45\n"
 "PO-Revision-Date: 2008-09-04 05:41-0800\n"
 "Last-Translator: Thomas Mueller <dzlib at dummzeuch.de>\n"
 "Language-Team: Thomas Mueller <dzlib at dummzeuch.de>\n"
@@ -17,560 +17,534 @@
 "X-Poedit-Language: French\n"
 "X-Poedit-Country: FRANCE\n"
 
-#: u_dzClassUtils.pas:308
+#: u_dzClassUtils.pas:308 
 msgid "no matching object found"
 msgstr ""
 
-#. Programmer's name for it: RS_INVALID_CHARACTER_S
-#: u_dzCmdLineParserStates.pas:113
-#, fuzzy
-msgid "Invalid character \"%s\"."
-msgstr "L'abscisse est invalide"
-
-#: u_dzConvertUtils.pas:367
+#: u_dzConvertUtils.pas:367 
 msgid "Digit out of range %s"
 msgstr "Chiffre hors d'echelle %s"
 
-#: u_dzConvertUtils.pas:380
+#: u_dzConvertUtils.pas:380 
 msgid "Digit #%d (%s) out of range"
 msgstr "Chiffre #%d (%s) hors d'echelle"
 
-#: u_dzConvertUtils.pas:582
+#: u_dzConvertUtils.pas:582 
 msgid "\"%s\" is not a valid integer value: %s"
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte: %s"
 
-#: u_dzConvertUtils.pas:600
+#: u_dzConvertUtils.pas:600 
 msgid "\"%s\" is not a valid Int64 value: %s"
 msgstr "\"%s\" n'est pas une valeur Int64 correcte: %s"
 
-#: u_dzConvertUtils.pas:671
+#: u_dzConvertUtils.pas:671 
 msgid "\"%s\" is not a valid floating point value: %s"
 msgstr "\"%s\" n'est pas une nombre d?cimal valable: %s"
 
-#: u_dzConvertUtils.pas:677
+#: u_dzConvertUtils.pas:677 
 msgid "%.2f EiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:679
+#: u_dzConvertUtils.pas:679 
 msgid "%.2f PiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:681
+#: u_dzConvertUtils.pas:681 
 msgid "%.2f TiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:683
+#: u_dzConvertUtils.pas:683 
 msgid "%.2f GiB"
 msgstr "%.2f Goctets"
 
-#: u_dzConvertUtils.pas:685
+#: u_dzConvertUtils.pas:685 
 msgid "%.2f MiB"
 msgstr "%.2f Moctets"
 
-#: u_dzConvertUtils.pas:687
+#: u_dzConvertUtils.pas:687 
 msgid "%.2f KiB"
 msgstr "%.2f Koctets"
 
-#: u_dzConvertUtils.pas:689
+#: u_dzConvertUtils.pas:689 
 msgid "%d Bytes"
 msgstr "%d Octets"
 
-#. Days and hours, ignore minutes and seconds
-#: u_dzConvertUtils.pas:696
+#. Days and hours, ignore minutes and seconds
+#: u_dzConvertUtils.pas:696 
 msgid "%dd %dh"
 msgstr "%dd %dh"
 
-#. Hours and minutes, ignore seconds
-#: u_dzConvertUtils.pas:699
+#. Hours and minutes, ignore seconds
+#: u_dzConvertUtils.pas:699 
 msgid "%dh %dm"
 msgstr "%dh %dm"
 
-#. Minutes and seconds
-#: u_dzConvertUtils.pas:702
+#. Minutes and seconds
+#: u_dzConvertUtils.pas:702 
 msgid "%dm %ds"
 msgstr "%dm %ds"
 
-#. Seconds only
-#: u_dzConvertUtils.pas:705
+#. Seconds only
+#: u_dzConvertUtils.pas:705 
 msgid "%ds"
 msgstr "%ds"
 
-#: u_dzDatasetHelpers.pas:335
+#: u_dzDatasetHelpers.pas:335 
 msgid "SetParamByName is not supported for a %s (only TQuery and TAdoDataset descendants)."
 msgstr ""
 
-#: u_dzDateUtils.pas:93
+#: u_dzDateUtils.pas:95 
 msgid "Monday"
 msgstr "Lundi"
 
-#: u_dzDateUtils.pas:94
+#: u_dzDateUtils.pas:96 
 msgid "Tuesday"
 msgstr "Mardi"
 
-#: u_dzDateUtils.pas:95
+#: u_dzDateUtils.pas:97 
 msgid "Wednesday"
 msgstr "Mercredi"
 
-#: u_dzDateUtils.pas:96
+#: u_dzDateUtils.pas:98 
 msgid "Thursday"
 msgstr "Jeudi"
 
-#: u_dzDateUtils.pas:97
+#: u_dzDateUtils.pas:99 
 msgid "Friday"
 msgstr "Vendredi"
 
-#: u_dzDateUtils.pas:98
+#: u_dzDateUtils.pas:100 
 msgid "Saturday"
 msgstr "Samedi"
 
-#: u_dzDateUtils.pas:99
+#: u_dzDateUtils.pas:101 
 msgid "Sunday"
 msgstr "Dimance"
 
-#. should never happen ...
-#: u_dzDateUtils.pas:102
+#. should never happen ...
+#: u_dzDateUtils.pas:104 
 #, fuzzy
 msgid "Invalid value for DayOfWeek: %d"
 msgstr "Caract?re  \"%s\" invalide dans  le champ  \"%s\""
 
-#: u_dzDateUtils.pas:109
+#: u_dzDateUtils.pas:111 
 msgid "January"
 msgstr "Janvier"
 
-#: u_dzDateUtils.pas:110
+#: u_dzDateUtils.pas:112 
 msgid "February"
 msgstr "F?vrier"
 
-#: u_dzDateUtils.pas:111
+#: u_dzDateUtils.pas:113 
 msgid "March"
 msgstr "Mars"
 
-#: u_dzDateUtils.pas:112
+#: u_dzDateUtils.pas:114 
 msgid "April"
 msgstr "Avril"
 
-#: u_dzDateUtils.pas:113
+#: u_dzDateUtils.pas:115 
 msgid "May"
 msgstr "Mai"
 
-#: u_dzDateUtils.pas:114
+#: u_dzDateUtils.pas:116 
 msgid "June"
 msgstr "Juin"
 
-#: u_dzDateUtils.pas:115
+#: u_dzDateUtils.pas:117 
 msgid "July"
 msgstr "Juillet"
 
-#: u_dzDateUtils.pas:116
+#: u_dzDateUtils.pas:118 
 msgid "August"
 msgstr "Ao?t"
 
-#: u_dzDateUtils.pas:117
+#: u_dzDateUtils.pas:119 
 msgid "September"
 msgstr "Septembre"
 
-#: u_dzDateUtils.pas:118
+#: u_dzDateUtils.pas:120 
 msgid "October"
 msgstr "Octobre"
 
-#: u_dzDateUtils.pas:119
+#: u_dzDateUtils.pas:121 
 msgid "November"
 msgstr "Novembre"
 
-#: u_dzDateUtils.pas:120
+#: u_dzDateUtils.pas:122 
 msgid "December"
 msgstr "D?cembre"
 
-#. should never happen ...
-#: u_dzDateUtils.pas:123
+#. should never happen ...
+#: u_dzDateUtils.pas:125 
 #, fuzzy
 msgid "Invalid month number %d"
 msgstr "L'abscisse est invalide"
 
-#: u_dzDefaultMain.pas:114
-msgid "Error: %s"
-msgstr "Erreur: %s"
-
-#: u_dzDllLoader.pas:159
+#: u_dzDllLoader.pas:159 
 msgid "Could not load %s."
 msgstr ""
 
-#: u_dzDllLoader.pas:180
+#: u_dzDllLoader.pas:180 
 msgid ""
 "Could not find entry point %s in %s\n"
 "ERROR= %%d, %%s"
 msgstr ""
 
-#: u_dzDllLoader.pas:194
-#: u_dzDllLoader.pas:209
-#: u_dzDllLoader.pas:214
-#: u_dzDllLoader.pas:219
+#: u_dzDllLoader.pas:194 
 u_dzDllLoader.pas:199 u_dzDllLoader.pas:204
+#: u_dzDllLoader.pas:209 u_dzDllLoader.pas:214 u_dzDllLoader.pas:219
 #: u_dzDllLoader.pas:224
 msgid "DLL entry point not initialized"
 msgstr ""
 
-#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
-#: u_dzExecutor.pas:204
+#. Programmer's name for it: RS_CANNOT_FREE_EXECUTOR
+#: u_dzExecutor.pas:204 
 msgid "Can not free Executor while a process using redirection is still running."
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
-#: u_dzExecutor.pas:205
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED_S
+#: u_dzExecutor.pas:205 
 msgid ""
 "Process has not yet been started.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
-#: u_dzExecutor.pas:206
+#. Programmer's name for it: RS_PROCESS_IS_STILL_RUNNING_S
+#: u_dzExecutor.pas:206 
 msgid ""
 "Process is still running.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
-#: u_dzExecutor.pas:207
+#. Programmer's name for it: RS_PROCESS_HAS_TERMINATED_S
+#: u_dzExecutor.pas:207 
 msgid ""
 "Process has terminated.\n"
 "%s"
 msgstr ""
 
-#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
-#: u_dzExecutor.pas:208
+#. Programmer's name for it: RS_PROCESS_HAS_NOT_YET_BEEN_STARTED
+#: u_dzExecutor.pas:208 
 msgid "Process has not yet been started"
 msgstr ""
 
-#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:209
+#. Programmer's name for it: RS_STDERR_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:209 
 msgid "StdErr was not redirected"
 msgstr ""
 
-#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
-#: u_dzExecutor.pas:210
+#. Programmer's name for it: RS_STDOUT_WAS_NOT_REDIRECTED
+#: u_dzExecutor.pas:210 
 msgid "StdOut was not redirected"
 msgstr ""
 
-#: u_dzFileStreams.pas:259
+#: u_dzFileStreams.pas:259 
 msgid "%1:s (%0:d)"
 msgstr "%1:s (%0:d)"
 
-#: u_dzFileStreams.pas:307
+#: u_dzFileStreams.pas:307 
 #, fuzzy
 msgid "Invalid file attributes"
 msgstr "Allocation du fichier de capture"
 
-#: u_dzFileStreams.pas:319
+#: u_dzFileStreams.pas:319 
 #, fuzzy
 msgid "Invalid file flags"
 msgstr "Allocation du fichier de capture"
 
-#: u_dzFileStreams.pas:338
+#: u_dzFileStreams.pas:338 
 msgid "Cannot change filename when file is open."
 msgstr ""
 
-#. GetLastError must be called before _(), otherwise the error code gets lost
-#: u_dzFileUtils.pas:834
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:834 
 msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath"
 
-#. GetLastError must be called before _(), otherwise the error code gets lost
-#: u_dzFileUtils.pas:842
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:842 
 msgid "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 msgstr "TFileSystem.GetTempPath: %1:s (code: %0:d) calling Windows.GetTempPath (2nd)"
 
-#. duplicate % so they get passed through the format function
-#. duplicate % so they get passed through the format function
-#: u_dzFileUtils.pas:859
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:859 
 u_dzFileUtils.pas:1310
 msgid "Error %%1:s (%%0:d) creating directory \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de la cr?ation du r?pertoire \"%s\""
 
-#: u_dzFileUtils.pas:883
+#: u_dzFileUtils.pas:883 
 #, fuzzy
 msgid "Could not find a unique directory name based on \"%s\""
 msgstr "Impossible de trouver un nom de r?pertoire unique sur la base de \"%s\""
 
-#. GetLastError must be called before _(), otherwise the error code gets lost
-#: u_dzFileUtils.pas:901
+#. GetLastError must be called before _(), otherwise the error code gets lost
+#: u_dzFileUtils.pas:901 
 msgid "TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 msgstr "TFileSystem.GetTempFilename: %1:s (Code: %0:d) calling Windows.GetTempFileName"
 
-#: u_dzFileUtils.pas:928
+#: u_dzFileUtils.pas:928 
 u_dzFileUtils.pas:934
 msgid "File not found: \"%s\""
 msgstr "Fichier non trouv?: \"%s\""
 
-#: u_dzFileUtils.pas:979
+#: u_dzFileUtils.pas:979 
 msgid "TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 msgstr "TFileSystem.GetShortPathname: %1:s (Code: %0:d) calling Windows.GetShortPathname"
 
-#: u_dzFileUtils.pas:981
+#: u_dzFileUtils.pas:981 
 msgid "Short pathname is longer than MAX_PATH (%d) characters"
 msgstr "La longueur du chemin de fichier d?passe MAX_PATH (%d) caract?res "
 
-#. duplicate % so they get passed through the format function
-#: u_dzFileUtils.pas:993
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:993 
 msgid "Error %%1:s (%%0:d) while trying to move \"%s\" to \"%s\"."
 msgstr "Erreur %%1:s (%%0:d) lors du d?placement de \"%s\" vers \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#: u_dzFileUtils.pas:1011
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1011 
 msgid "Error %%1:s (%%0:d) while changing the readonly flag of \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors du changement de l'indicateur lecture seule de \"%s\""
 
-#. duplicate % so they get passed through the format function
-#. duplicate % so they get passed through the format function
-#. duplicate % so they get passed through the format function
-#: u_dzFileUtils.pas:1031
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1031 
 u_dzFileUtils.pas:1138 u_dzFileUtils.pas:1211
 msgid "Error %%1:s (%%0:d) while trying to copy \"%s\" to \"%s\"."
 msgstr "Erreur %%1:s (%%0:d) lors de la copie de \"%s\" vers \"%s\"."
 
-#. duplicate % so they get passed through the format function
-#: u_dzFileUtils.pas:1241
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1241 
 msgid "Error %%1:s (%%0:d) deleting file \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de l'effacement du fichier \"%s\""
 
-#. ForceDirectories can raise EInOutError if the directory path contains empty parts
-#: u_dzFileUtils.pas:1302
+#. ForceDirectories can raise EInOutError if the directory path contains empty parts
+#: u_dzFileUtils.pas:1302 
 #, fuzzy
 msgid "Error creating directory \"%s\": %s (%s)"
 msgstr "Erreur Temps d?pass? dans %s"
 
-#. duplicate % so they get passed through the format function
-#: u_dzFileUtils.pas:1329
+#. duplicate % so they get passed through the format function
+#: u_dzFileUtils.pas:1329 
 msgid "Error %%1:s (%%0:d) deleting directory \"%s\""
 msgstr "Erreur %%1:s (%%0:d) lors de l'effacement du r?pertoire \"%s\""
 
-#: u_dzFileUtils.pas:1347
+#: u_dzFileUtils.pas:1347 
 msgid "\"%s\" does not exist or is not a directory"
 msgstr "\"%s\" n'existe pas ou n'est pas un r?p?rtoire"
 
-#: u_dzFileUtils.pas:1564
+#: u_dzFileUtils.pas:1564 
 msgid "Combination of ResultContainsNumber and KeepOriginal is not allowed"
 msgstr ""
 
-#. do not translate
-#: u_dzMiscUtils.pas:253
+#. do not translate
+#: u_dzMiscUtils.pas:253 
 msgid "unknown Registry Root Key %x"
 msgstr ""
 
-#. do not translate
-#: u_dzMiscUtils.pas:266
+#. do not translate
+#: u_dzMiscUtils.pas:266 
 #, fuzzy
 msgid "unknown RegDataType"
 msgstr "commande inconnue \"%s\""
 
-#: u_dzMiscUtils.pas:295
+#: u_dzMiscUtils.pas:295 
 u_dzMiscUtils.pas:313
 msgid "unknown OS error"
 msgstr "Erreur syst?me d'exploitation inconnue"
 
-#: u_dzOsUtils.pas:130
+#: u_dzOsUtils.pas:130 
 msgid "%s (code %d) calling Windows.GetUsername"
 msgstr "%s (code %d) calling Windows.GetUsername"
 
-#. 16 KB should be enough for everybody... ;-)
-#: u_dzOsUtils.pas:150
+#. 16 KB should be enough for everybody... ;-)
+#: u_dzOsUtils.pas:150 
 msgid "Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings"
 msgstr "Error %1:s (%0:d) calling Windows.ExpandEnvironmentStrings"
 
-#: u_dzOsUtils.pas:308
+#: u_dzOsUtils.pas:308 
 u_dzOsUtils.pas:323
 msgid "No version information available for %s"
 msgstr ""
 
-#: u_dzRecordArray.pas:67
+#: u_dzRecordArray.pas:67 
 msgid "New capacity cannot be less than current length."
 msgstr ""
 
-#: u_dzRingBuffer.pas:249
+#: u_dzRingBuffer.pas:247 
 u_dzRingBuffer.pas:258
 msgid "Index %d out of bounds."
 msgstr ""
 
-#: u_dzStringUtils.pas:415
+#: u_dzStringUtils.pas:415 
 msgid "nthWord: 0th word not available"
 msgstr "nthWord: 0iem mot n'est pas valable"
 
-#: u_dzStringUtils.pas:883
+#: u_dzStringUtils.pas:883 
 msgid "Cannot center string that is larger than the maximum length."
 msgstr "Impossible de centrer une chaine qui est plus longue que la longueur maximum."
 
-#: u_dzStringUtils.pas:972
+#: u_dzStringUtils.pas:972 
 msgid "Strings do not have a 0th character."
 msgstr "La chaine n'a pas de charat?re 0th."
 
-#: u_dzTextFile.pas:56
+#: u_dzTextFile.pas:54 
 msgid "Invalid file access value (%d)"
 msgstr ""
 
-#: u_dzTextFile.pas:60
+#: u_dzTextFile.pas:58 
 #, fuzzy
 msgid "%s accessing file %s"
 msgstr "Allocation du fichier de capture"
 
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#. do not translate
-#: u_dzVariantUtils.pas:284
-#: u_dzVariantUtils.pas:339
-#: u_dzVariantUtils.pas:426
-#: u_dzVariantUtils.pas:442
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:284 
 u_dzVariantUtils.pas:313
+#: u_dzVariantUtils.pas:339 u_dzVariantUtils.pas:426 u_dzVariantUtils.pas:442
 #: u_dzVariantUtils.pas:488
 msgid "Variant is Null, should be %s: %s"
 msgstr "La variation est nulle, devrait ?tre %s: %s"
 
-#: u_dzVariantUtils.pas:286
-#: u_dzVariantUtils.pas:341
-#: u_dzVariantUtils.pas:428
-#: u_dzVariantUtils.pas:444
+#: u_dzVariantUtils.pas:286 
 u_dzVariantUtils.pas:315
+#: u_dzVariantUtils.pas:341 u_dzVariantUtils.pas:428 u_dzVariantUtils.pas:444
 #: u_dzVariantUtils.pas:490
 msgid "Variant is Empty, should be %s: %s"
 msgstr "La variation est vide, devrait ?tre %s: %s"
 
-#: u_dzVariantUtils.pas:291
-#: u_dzVariantUtils.pas:346
-#: u_dzVariantUtils.pas:433
-#: u_dzVariantUtils.pas:449
+#: u_dzVariantUtils.pas:291 
 u_dzVariantUtils.pas:320
+#: u_dzVariantUtils.pas:346 u_dzVariantUtils.pas:433 u_dzVariantUtils.pas:449
 #: u_dzVariantUtils.pas:495
 msgid "Variant can not be converted to %s: %s"
 msgstr "La variation ne peut pas ?tre convertie de %s: %s"
 
-#. do not translate
-#. do not translate
-#. do not translate
-#: u_dzVariantUtils.pas:397
+#. do not translate
+#. do not translate
+#. do not translate
+#: u_dzVariantUtils.pas:397 
 u_dzVariantUtils.pas:411
 #: u_dzVariantUtils.pas:473
 msgid "Variant can not be converted to %s"
 msgstr "Un variant ne peut pas ?tre converti en %s"
 
-#: u_dzVclUtils.pas:685
+#: u_dzVclUtils.pas:685 
 u_dzVclUtils.pas:732
 msgid "\"%s\" is not a valid floating point value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#: u_dzVclUtils.pas:700
+#: u_dzVclUtils.pas:700 
 u_dzVclUtils.pas:745
 msgid "\"%s\" is not a valid integer value."
 msgstr "\"%s\" n'est pas une valeur d?cimale correcte."
 
-#: u_dzVclUtils.pas:1090
+#: u_dzVclUtils.pas:1090 
 msgid "No item selected in combobox"
 msgstr ""
 
-#: u_dzVclUtils.pas:1109
+#: u_dzVclUtils.pas:1109 
 msgid "No item selected in listbox"
 msgstr ""
 
-#: u_dzVclUtils.pas:1541
+#: u_dzVclUtils.pas:1541 
 msgid "JPEG Files"
 msgstr "Fichiers JPEG"
 
-#. f_dzProgress..Caption
-#: w_dzProgress.dfm:6
+#. f_dzProgress..Caption
+#: w_dzProgress.dfm:6 
 msgid "Progress"
 msgstr "Avancement"
 
-#. f_dzProgress..l_Action..Caption
-#: w_dzProgress.dfm:24
+#. f_dzProgress..l_Action..Caption
+#: w_dzProgress.dfm:25 
 msgid "Action"
 msgstr ""
 
-#. f_dzProgress..b_Cancel..Caption
-#: w_dzProgress.dfm:41
+#. f_dzProgress..b_Cancel..Caption
+#: w_dzProgress.dfm:42 
 msgid "Abort"
 msgstr "Annuler"
 
-#. f_dzWizard..p_Buttons..b_Next..Caption
-#. f_dzWizardForm..p_Buttons..b_Next..Caption
-#: w_dzWizard.dfm:1210
-#: w_dzWizardForm.pas:222
+#. f_dzWizard..p_Buttons..b_Next..Caption
+#. f_dzWizardForm..p_Buttons..b_Next..Caption
+#: w_dzWizard.dfm:1210 
 w_dzWizardForm.dfm:1210 w_dzWizard.pas:341
+#: w_dzWizardForm.pas:227
 msgid "&Next >"
 msgstr ""
 
-#. f_dzWizard..p_Buttons..b_Cancel..Caption
-#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
-#: w_dzWizard.dfm:1223
-#: w_dzWizardForm.pas:221
+#. f_dzWizard..p_Buttons..b_Cancel..Caption
+#. f_dzWizardForm..p_Buttons..b_Cancel..Caption
+#: w_dzWizard.dfm:1223 
 w_dzWizardForm.dfm:1223 w_dzWizard.pas:340
+#: w_dzWizardForm.pas:226
 msgid "Cancel"
 msgstr "Annuler"
 
-#. f_dzWizard..p_Buttons..b_Prev..Caption
-#. f_dzWizardForm..p_Buttons..b_Prev..Caption
-#: w_dzWizard.dfm:1233
-#: w_dzWizardForm.pas:220
+#. f_dzWizard..p_Buttons..b_Prev..Caption
+#. f_dzWizardForm..p_Buttons..b_Prev..Caption
+#: w_dzWizard.dfm:1233 
 w_dzWizardForm.dfm:1233 w_dzWizard.pas:339
+#: w_dzWizardForm.pas:225
 msgid "< &Previous"
 msgstr ""
 
-#: w_dzDialog.pas:327
+#: w_dzDialog.pas:322 
 #, fuzzy
 msgid "Invalid modal result %d."
 msgstr "L'abscisse est invalide"
 
-#: w_dzDialog.pas:501
+#: w_dzDialog.pas:495 
 msgid "Do not show again."
 msgstr ""
 
-#: w_dzDialog.pas:582
+#: w_dzDialog.pas:576 
 #, fuzzy
 msgid ""
 "An error occurred:\n"
 "%s"
 msgstr "Erreur Temps d?pass? dans %s"
 
-#. 400;
-#: w_dzDialog.pas:606
+#. 400;
+#: w_dzDialog.pas:600 
 msgid "Additional information:"
 msgstr ""
 
-#: w_dzDialog.pas:626
+#: w_dzDialog.pas:620 
 w_dzDialog.pas:725 w_dzDialog.pas:772
 msgid "&Details >>"
 msgstr "&D?tails >>"
 
-#: w_dzDialog.pas:781
+#: w_dzDialog.pas:775 
 msgid "&Details <<"
 msgstr "&D?tails <<"
 
-#. Wirklich abbrechen?
-#. Programmer's name for it: QuestionAbort
-#: w_dzProgress.pas:83
-msgid "Do you really want to abort?"
-msgstr ""
-
-#. Fortschritt (%d%%)
-#. Programmer's name for it: FormCaptionD
-#: w_dzProgress.pas:85
+#: w_dzProgress.pas:90 
 msgid "Progress (%d%%)"
 msgstr "Avancement (%d%%)"
 
-#. Tf_HkProgress.SetFormCaption: Ung?ltige FormCaption, %s.
-#. Programmer's name for it: InvalidFormCaptionS
-#: w_dzProgress.pas:87
-msgid "Tf_HkProgress.SetFormCaption: Invalid FormCaption, %s"
+#: w_dzProgress.pas:101 
+msgid "Do you really want to abort?"
 msgstr ""
 
-#. darf kein "%" am Ende haben
-#. Programmer's name for it: PercentAtEnd
-#: w_dzProgress.pas:89
+#: w_dzProgress.pas:153 
 msgid "must not contain a % at the end"
 msgstr ""
 
-#. auf "%" mu? "d" oder "%" folgen
-#. Programmer's name for it: InvalidFormatChar
-#: w_dzProgress.pas:91
+#: w_dzProgress.pas:162 
 msgid "\"%\" must be followed by \"d\" or \"%\"."
 msgstr ""
 
-#. zuviele Parameter
-#. Programmer's name for it: TooManyParameters
-#: w_dzProgress.pas:93
+#: w_dzProgress.pas:168 
 msgid "too many parameters"
 msgstr ""
 
-#: w_dzWizard.pas:342
+#: w_dzProgress.pas:180 
+#, fuzzy
+msgid "Invalid FormCaption, %s"
+msgstr "L'abscisse est invalide"
+
+#: w_dzWizard.pas:342 
 w_dzWizardForm.pas:228
 msgid "&Finish"
 msgstr ""
 
-#: w_dzWizard.pas:478
+#: w_dzWizard.pas:478 
 msgid "Already on first page."
 msgstr ""
 
+#~ msgid "Error: %s"
+#~ msgstr "Erreur: %s"
+
 #, fuzzy
 #~ msgid "Error %1:s (%0:d)"
 #~ msgstr "%1:s (%0:d)"
@@ -582,4 +556,3 @@
 #, fuzzy
 #~ msgid "Buffer is empty"
 #~ msgstr "La taille actuelle est %s"
-



From twm at mail.berlios.de  Fri Sep  5 19:02:06 2008
From: twm at mail.berlios.de (twm at mail.berlios.de)
Date: Fri, 5 Sep 2008 19:02:06 +0200
Subject: [Dzchart-svncheckins] r325 - in
	utilities/dzLib/trunk/tests/dzprogress: . src
Message-ID: <200809051702.m85H25bD002140@sheep.berlios.de>

Author: twm
Date: 2008-09-05 19:02:01 +0200 (Fri, 05 Sep 2008)
New Revision: 325

Removed:
   utilities/dzLib/trunk/tests/dzprogress/dzProgressTest.exe
   utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.res
Log:


Deleted: utilities/dzLib/trunk/tests/dzprogress/dzProgressTest.exe
===================================================================
(Binary files differ)

Deleted: utilities/dzLib/trunk/tests/dzprogress/src/dzProgressTest.res
===================================================================
(Binary files differ)



